(function(ga){typeof define=="function"&&define.amd?define(ga):ga()})((function(){"use strict";/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ga(e){const t=Object.create(null);for(const a of e.split(","))t[a]=1;return a=>a in t}const Tt={},ma=[],Qn=()=>{},Eu=()=>!1,Ys=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Cr=e=>e.startsWith("onUpdate:"),Wt=Object.assign,Er=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},Im=Object.prototype.hasOwnProperty,mt=(e,t)=>Im.call(e,t),Ve=Array.isArray,ha=e=>Ya(e)==="[object Map]",va=e=>Ya(e)==="[object Set]",Lu=e=>Ya(e)==="[object Date]",qe=e=>typeof e=="function",Ot=e=>typeof e=="string",Fn=e=>typeof e=="symbol",St=e=>e!==null&&typeof e=="object",$u=e=>(St(e)||qe(e))&&qe(e.then)&&qe(e.catch),Au=Object.prototype.toString,Ya=e=>Au.call(e),Mm=e=>Ya(e).slice(8,-1),Iu=e=>Ya(e)==="[object Object]",Lr=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ka=ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ks=e=>{const t=Object.create(null);return(a=>t[a]||(t[a]=e(a)))},Rm=/-\w/g,An=Ks(e=>e.replace(Rm,t=>t.slice(1).toUpperCase())),Om=/\B([A-Z])/g,$o=Ks(e=>e.replace(Om,"-$1").toLowerCase()),Js=Ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),$r=Ks(e=>e?`on${Js(e)}`:""),Ao=(e,t)=>!Object.is(e,t),Xs=(e,...t)=>{for(let a=0;a<e.length;a++)e[a](...t)},Mu=(e,t,a,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:a})},Zs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Nm=e=>{const t=Ot(e)?Number(e):NaN;return isNaN(t)?e:t};let Ru;const el=()=>Ru||(Ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dt(e){if(Ve(e)){const t={};for(let a=0;a<e.length;a++){const n=e[a],o=Ot(n)?Bm(n):dt(n);if(o)for(const s in o)t[s]=o[s]}return t}else if(Ot(e)||St(e))return e}const Dm=/;(?![^(]*\))/g,Pm=/:([^]+)/,Fm=/\/\*[^]*?\*\//g;function Bm(e){const t={};return e.replace(Fm,"").split(Dm).forEach(a=>{if(a){const n=a.split(Pm);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Le(e){let t="";if(Ot(e))t=e;else if(Ve(e))for(let a=0;a<e.length;a++){const n=Le(e[a]);n&&(t+=n+" ")}else if(St(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const Um=ga("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ou(e){return!!e||e===""}function Hm(e,t){if(e.length!==t.length)return!1;let a=!0;for(let n=0;a&&n<e.length;n++)a=Jo(e[n],t[n]);return a}function Jo(e,t){if(e===t)return!0;let a=Lu(e),n=Lu(t);if(a||n)return a&&n?e.getTime()===t.getTime():!1;if(a=Fn(e),n=Fn(t),a||n)return e===t;if(a=Ve(e),n=Ve(t),a||n)return a&&n?Hm(e,t):!1;if(a=St(e),n=St(t),a||n){if(!a||!n)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const l in e){const r=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(r&&!u||!r&&u||!Jo(e[l],t[l]))return!1}}return String(e)===String(t)}function Ar(e,t){return e.findIndex(a=>Jo(a,t))}const Nu=e=>!!(e&&e.__v_isRef===!0),h=e=>Ot(e)?e:e==null?"":Ve(e)||St(e)&&(e.toString===Au||!qe(e.toString))?Nu(e)?h(e.value):JSON.stringify(e,Du,2):String(e),Du=(e,t)=>Nu(t)?Du(e,t.value):ha(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((a,[n,o],s)=>(a[Ir(n,s)+" =>"]=o,a),{})}:va(t)?{[`Set(${t.size})`]:[...t.values()].map(a=>Ir(a))}:Fn(t)?Ir(t):St(t)&&!Ve(t)&&!Iu(t)?String(t):t,Ir=(e,t="")=>{var a;return Fn(e)?`Symbol(${(a=e.description)!=null?a:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nn;class Pu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].pause();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].resume();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].resume()}}run(t){if(this._active){const a=nn;try{return nn=this,t()}finally{nn=a}}}on(){++this._on===1&&(this.prevScope=nn,nn=this)}off(){this._on>0&&--this._on===0&&(nn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let a,n;for(a=0,n=this.effects.length;a<n;a++)this.effects[a].stop();for(this.effects.length=0,a=0,n=this.cleanups.length;a<n;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,n=this.scopes.length;a<n;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Mr(e){return new Pu(e)}function Fu(){return nn}function Vm(e,t=!1){nn&&nn.cleanups.push(e)}let Lt;const Rr=new WeakSet;class Bu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rr.has(this)&&(Rr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qu(this),Vu(this);const t=Lt,a=Bn;Lt=this,Bn=!0;try{return this.fn()}finally{ju(this),Lt=t,Bn=a,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pr(t);this.deps=this.depsTail=void 0,qu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dr(this)&&this.run()}get dirty(){return Dr(this)}}let Uu=0,Ja,Xa;function Hu(e,t=!1){if(e.flags|=8,t){e.next=Xa,Xa=e;return}e.next=Ja,Ja=e}function Or(){Uu++}function Nr(){if(--Uu>0)return;if(Xa){let t=Xa;for(Xa=void 0;t;){const a=t.next;t.next=void 0,t.flags&=-9,t=a}}let e;for(;Ja;){let t=Ja;for(Ja=void 0;t;){const a=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=a}}if(e)throw e}function Vu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ju(e){let t,a=e.depsTail,n=a;for(;n;){const o=n.prevDep;n.version===-1?(n===a&&(a=o),Pr(n),jm(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=a}function Dr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Wu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Wu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Za)||(e.globalVersion=Za,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Dr(e))))return;e.flags|=2;const t=e.dep,a=Lt,n=Bn;Lt=e,Bn=!0;try{Vu(e);const o=e.fn(e._value);(t.version===0||Ao(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Lt=a,Bn=n,ju(e),e.flags&=-3}}function Pr(e,t=!1){const{dep:a,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),a.subs===e&&(a.subs=n,!n&&a.computed)){a.computed.flags&=-5;for(let s=a.computed.deps;s;s=s.nextDep)Pr(s,!0)}!t&&!--a.sc&&a.map&&a.map.delete(a.key)}function jm(e){const{prevDep:t,nextDep:a}=e;t&&(t.nextDep=a,e.prevDep=void 0),a&&(a.prevDep=t,e.nextDep=void 0)}let Bn=!0;const zu=[];function Yn(){zu.push(Bn),Bn=!1}function Kn(){const e=zu.pop();Bn=e===void 0?!0:e}function qu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const a=Lt;Lt=void 0;try{t()}finally{Lt=a}}}let Za=0;class Wm{constructor(t,a){this.sub=t,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Lt||!Bn||Lt===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==Lt)a=this.activeLink=new Wm(Lt,this),Lt.deps?(a.prevDep=Lt.depsTail,Lt.depsTail.nextDep=a,Lt.depsTail=a):Lt.deps=Lt.depsTail=a,Gu(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const n=a.nextDep;n.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=n),a.prevDep=Lt.depsTail,a.nextDep=void 0,Lt.depsTail.nextDep=a,Lt.depsTail=a,Lt.deps===a&&(Lt.deps=n)}return a}trigger(t){this.version++,Za++,this.notify(t)}notify(t){Or();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{Nr()}}}function Gu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Gu(n)}const a=e.dep.subs;a!==e&&(e.prevSub=a,a&&(a.nextSub=e)),e.dep.subs=e}}const tl=new WeakMap,Xo=Symbol(""),Br=Symbol(""),es=Symbol("");function on(e,t,a){if(Bn&&Lt){let n=tl.get(e);n||tl.set(e,n=new Map);let o=n.get(a);o||(n.set(a,o=new Fr),o.map=n,o.key=a),o.track()}}function ro(e,t,a,n,o,s){const l=tl.get(e);if(!l){Za++;return}const r=u=>{u&&u.trigger()};if(Or(),t==="clear")l.forEach(r);else{const u=Ve(e),d=u&&Lr(a);if(u&&a==="length"){const c=Number(n);l.forEach((f,m)=>{(m==="length"||m===es||!Fn(m)&&m>=c)&&r(f)})}else switch((a!==void 0||l.has(void 0))&&r(l.get(a)),d&&r(l.get(es)),t){case"add":u?d&&r(l.get("length")):(r(l.get(Xo)),ha(e)&&r(l.get(Br)));break;case"delete":u||(r(l.get(Xo)),ha(e)&&r(l.get(Br)));break;case"set":ha(e)&&r(l.get(Xo));break}}Nr()}function zm(e,t){const a=tl.get(e);return a&&a.get(t)}function _a(e){const t=at(e);return t===e?t:(on(t,"iterate",es),In(e)?t:t.map(Zt))}function nl(e){return on(e=at(e),"iterate",es),e}const qm={__proto__:null,[Symbol.iterator](){return Ur(this,Symbol.iterator,Zt)},concat(...e){return _a(this).concat(...e.map(t=>Ve(t)?_a(t):t))},entries(){return Ur(this,"entries",e=>(e[1]=Zt(e[1]),e))},every(e,t){return io(this,"every",e,t,void 0,arguments)},filter(e,t){return io(this,"filter",e,t,a=>a.map(Zt),arguments)},find(e,t){return io(this,"find",e,t,Zt,arguments)},findIndex(e,t){return io(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return io(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return io(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return io(this,"forEach",e,t,void 0,arguments)},includes(...e){return Hr(this,"includes",e)},indexOf(...e){return Hr(this,"indexOf",e)},join(e){return _a(this).join(e)},lastIndexOf(...e){return Hr(this,"lastIndexOf",e)},map(e,t){return io(this,"map",e,t,void 0,arguments)},pop(){return ts(this,"pop")},push(...e){return ts(this,"push",e)},reduce(e,...t){return Qu(this,"reduce",e,t)},reduceRight(e,...t){return Qu(this,"reduceRight",e,t)},shift(){return ts(this,"shift")},some(e,t){return io(this,"some",e,t,void 0,arguments)},splice(...e){return ts(this,"splice",e)},toReversed(){return _a(this).toReversed()},toSorted(e){return _a(this).toSorted(e)},toSpliced(...e){return _a(this).toSpliced(...e)},unshift(...e){return ts(this,"unshift",e)},values(){return Ur(this,"values",Zt)}};function Ur(e,t,a){const n=nl(e),o=n[t]();return n!==e&&!In(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=a(s.value)),s}),o}const Gm=Array.prototype;function io(e,t,a,n,o,s){const l=nl(e),r=l!==e&&!In(e),u=l[t];if(u!==Gm[t]){const f=u.apply(e,s);return r?Zt(f):f}let d=a;l!==e&&(r?d=function(f,m){return a.call(this,Zt(f),m,e)}:a.length>2&&(d=function(f,m){return a.call(this,f,m,e)}));const c=u.call(l,d,n);return r&&o?o(c):c}function Qu(e,t,a,n){const o=nl(e);let s=a;return o!==e&&(In(e)?a.length>3&&(s=function(l,r,u){return a.call(this,l,r,u,e)}):s=function(l,r,u){return a.call(this,l,Zt(r),u,e)}),o[t](s,...n)}function Hr(e,t,a){const n=at(e);on(n,"iterate",es);const o=n[t](...a);return(o===-1||o===!1)&&jr(a[0])?(a[0]=at(a[0]),n[t](...a)):o}function ts(e,t,a=[]){Yn(),Or();const n=at(e)[t].apply(e,a);return Nr(),Kn(),n}const Qm=ga("__proto__,__v_isRef,__isVue"),Yu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fn));function Ym(e){Fn(e)||(e=String(e));const t=at(this);return on(t,"has",e),t.hasOwnProperty(e)}class Ku{constructor(t=!1,a=!1){this._isReadonly=t,this._isShallow=a}get(t,a,n){if(a==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(a==="__v_isReactive")return!o;if(a==="__v_isReadonly")return o;if(a==="__v_isShallow")return s;if(a==="__v_raw")return n===(o?s?nc:tc:s?ec:Zu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=Ve(t);if(!o){let u;if(l&&(u=qm[a]))return u;if(a==="hasOwnProperty")return Ym}const r=Reflect.get(t,a,Nt(t)?t:n);return(Fn(a)?Yu.has(a):Qm(a))||(o||on(t,"get",a),s)?r:Nt(r)?l&&Lr(a)?r:r.value:St(r)?o?oc(r):ll(r):r}}class Ju extends Ku{constructor(t=!1){super(!1,t)}set(t,a,n,o){let s=t[a];if(!this._isShallow){const u=Mo(s);if(!In(n)&&!Mo(n)&&(s=at(s),n=at(n)),!Ve(t)&&Nt(s)&&!Nt(n))return u||(s.value=n),!0}const l=Ve(t)&&Lr(a)?Number(a)<t.length:mt(t,a),r=Reflect.set(t,a,n,Nt(t)?t:o);return t===at(o)&&(l?Ao(n,s)&&ro(t,"set",a,n):ro(t,"add",a,n)),r}deleteProperty(t,a){const n=mt(t,a);t[a];const o=Reflect.deleteProperty(t,a);return o&&n&&ro(t,"delete",a,void 0),o}has(t,a){const n=Reflect.has(t,a);return(!Fn(a)||!Yu.has(a))&&on(t,"has",a),n}ownKeys(t){return on(t,"iterate",Ve(t)?"length":Xo),Reflect.ownKeys(t)}}class Xu extends Ku{constructor(t=!1){super(!0,t)}set(t,a){return!0}deleteProperty(t,a){return!0}}const Km=new Ju,Jm=new Xu,Xm=new Ju(!0),Zm=new Xu(!0),Vr=e=>e,ol=e=>Reflect.getPrototypeOf(e);function eh(e,t,a){return function(...n){const o=this.__v_raw,s=at(o),l=ha(s),r=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,d=o[e](...n),c=a?Vr:t?il:Zt;return!t&&on(s,"iterate",u?Br:Xo),{next(){const{value:f,done:m}=d.next();return m?{value:f,done:m}:{value:r?[c(f[0]),c(f[1])]:c(f),done:m}},[Symbol.iterator](){return this}}}}function al(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function th(e,t){const a={get(o){const s=this.__v_raw,l=at(s),r=at(o);e||(Ao(o,r)&&on(l,"get",o),on(l,"get",r));const{has:u}=ol(l),d=t?Vr:e?il:Zt;if(u.call(l,o))return d(s.get(o));if(u.call(l,r))return d(s.get(r));s!==l&&s.get(o)},get size(){const o=this.__v_raw;return!e&&on(at(o),"iterate",Xo),o.size},has(o){const s=this.__v_raw,l=at(s),r=at(o);return e||(Ao(o,r)&&on(l,"has",o),on(l,"has",r)),o===r?s.has(o):s.has(o)||s.has(r)},forEach(o,s){const l=this,r=l.__v_raw,u=at(r),d=t?Vr:e?il:Zt;return!e&&on(u,"iterate",Xo),r.forEach((c,f)=>o.call(s,d(c),d(f),l))}};return Wt(a,e?{add:al("add"),set:al("set"),delete:al("delete"),clear:al("clear")}:{add(o){!t&&!In(o)&&!Mo(o)&&(o=at(o));const s=at(this);return ol(s).has.call(s,o)||(s.add(o),ro(s,"add",o,o)),this},set(o,s){!t&&!In(s)&&!Mo(s)&&(s=at(s));const l=at(this),{has:r,get:u}=ol(l);let d=r.call(l,o);d||(o=at(o),d=r.call(l,o));const c=u.call(l,o);return l.set(o,s),d?Ao(s,c)&&ro(l,"set",o,s):ro(l,"add",o,s),this},delete(o){const s=at(this),{has:l,get:r}=ol(s);let u=l.call(s,o);u||(o=at(o),u=l.call(s,o)),r&&r.call(s,o);const d=s.delete(o);return u&&ro(s,"delete",o,void 0),d},clear(){const o=at(this),s=o.size!==0,l=o.clear();return s&&ro(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{a[o]=eh(o,e,t)}),a}function sl(e,t){const a=th(e,t);return(n,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(mt(a,o)&&o in n?a:n,o,s)}const nh={get:sl(!1,!1)},oh={get:sl(!1,!0)},ah={get:sl(!0,!1)},sh={get:sl(!0,!0)},Zu=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap;function lh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rh(e){return e.__v_skip||!Object.isExtensible(e)?0:lh(Mm(e))}function ll(e){return Mo(e)?e:rl(e,!1,Km,nh,Zu)}function ih(e){return rl(e,!1,Xm,oh,ec)}function oc(e){return rl(e,!0,Jm,ah,tc)}function EM(e){return rl(e,!0,Zm,sh,nc)}function rl(e,t,a,n,o){if(!St(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=rh(e);if(s===0)return e;const l=o.get(e);if(l)return l;const r=new Proxy(e,s===2?n:a);return o.set(e,r),r}function Io(e){return Mo(e)?Io(e.__v_raw):!!(e&&e.__v_isReactive)}function Mo(e){return!!(e&&e.__v_isReadonly)}function In(e){return!!(e&&e.__v_isShallow)}function jr(e){return e?!!e.__v_raw:!1}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function Wr(e){return!mt(e,"__v_skip")&&Object.isExtensible(e)&&Mu(e,"__v_skip",!0),e}const Zt=e=>St(e)?ll(e):e,il=e=>St(e)?oc(e):e;function Nt(e){return e?e.__v_isRef===!0:!1}function _(e){return ac(e,!1)}function uh(e){return ac(e,!0)}function ac(e,t){return Nt(e)?e:new ch(e,t)}class ch{constructor(t,a){this.dep=new Fr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?t:at(t),this._value=a?t:Zt(t),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(t){const a=this._rawValue,n=this.__v_isShallow||In(t)||Mo(t);t=n?t:at(t),Ao(t,a)&&(this._rawValue=t,this._value=n?t:Zt(t),this.dep.trigger())}}function p(e){return Nt(e)?e.value:e}const dh={get:(e,t,a)=>t==="__v_raw"?e:p(Reflect.get(e,t,a)),set:(e,t,a,n)=>{const o=e[t];return Nt(o)&&!Nt(a)?(o.value=a,!0):Reflect.set(e,t,a,n)}};function sc(e){return Io(e)?e:new Proxy(e,dh)}function fh(e){const t=Ve(e)?new Array(e.length):{};for(const a in e)t[a]=gh(e,a);return t}class ph{constructor(t,a,n){this._object=t,this._key=a,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return zm(at(this._object),this._key)}}function gh(e,t,a){const n=e[t];return Nt(n)?n:new ph(e,t,a)}class mh{constructor(t,a,n){this.fn=t,this.setter=a,this._value=void 0,this.dep=new Fr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Za-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return Hu(this,!0),!0}get value(){const t=this.dep.track();return Wu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hh(e,t,a=!1){let n,o;return qe(e)?n=e:(n=e.get,o=e.set),new mh(n,o,a)}const ul={},cl=new WeakMap;let Zo;function vh(e,t=!1,a=Zo){if(a){let n=cl.get(a);n||cl.set(a,n=[]),n.push(e)}}function _h(e,t,a=Tt){const{immediate:n,deep:o,once:s,scheduler:l,augmentJob:r,call:u}=a,d=S=>o?S:In(S)||o===!1||o===0?uo(S,1):uo(S);let c,f,m,g,v=!1,y=!1;if(Nt(e)?(f=()=>e.value,v=In(e)):Io(e)?(f=()=>d(e),v=!0):Ve(e)?(y=!0,v=e.some(S=>Io(S)||In(S)),f=()=>e.map(S=>{if(Nt(S))return S.value;if(Io(S))return d(S);if(qe(S))return u?u(S,2):S()})):qe(e)?t?f=u?()=>u(e,2):e:f=()=>{if(m){Yn();try{m()}finally{Kn()}}const S=Zo;Zo=c;try{return u?u(e,3,[g]):e(g)}finally{Zo=S}}:f=Qn,t&&o){const S=f,R=o===!0?1/0:o;f=()=>uo(S(),R)}const b=Fu(),x=()=>{c.stop(),b&&b.active&&Er(b.effects,c)};if(s&&t){const S=t;t=(...R)=>{S(...R),x()}}let L=y?new Array(e.length).fill(ul):ul;const U=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(t){const R=c.run();if(o||v||(y?R.some((V,j)=>Ao(V,L[j])):Ao(R,L))){m&&m();const V=Zo;Zo=c;try{const j=[R,L===ul?void 0:y&&L[0]===ul?[]:L,g];L=R,u?u(t,3,j):t(...j)}finally{Zo=V}}}else c.run()};return r&&r(U),c=new Bu(f),c.scheduler=l?()=>l(U,!1):U,g=S=>vh(S,!1,c),m=c.onStop=()=>{const S=cl.get(c);if(S){if(u)u(S,4);else for(const R of S)R();cl.delete(c)}},t?n?U(!0):L=c.run():l?l(U.bind(null,!0),!0):c.run(),x.pause=c.pause.bind(c),x.resume=c.resume.bind(c),x.stop=x,x}function uo(e,t=1/0,a){if(t<=0||!St(e)||e.__v_skip||(a=a||new Map,(a.get(e)||0)>=t))return e;if(a.set(e,t),t--,Nt(e))uo(e.value,t,a);else if(Ve(e))for(let n=0;n<e.length;n++)uo(e[n],t,a);else if(va(e)||ha(e))e.forEach(n=>{uo(n,t,a)});else if(Iu(e)){for(const n in e)uo(e[n],t,a);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&uo(e[n],t,a)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ns=[];let zr=!1;function LM(e,...t){if(zr)return;zr=!0,Yn();const a=ns.length?ns[ns.length-1].component:null,n=a&&a.appContext.config.warnHandler,o=yh();if(n)ya(n,a,11,[e+t.map(s=>{var l,r;return(r=(l=s.toString)==null?void 0:l.call(s))!=null?r:JSON.stringify(s)}).join(""),a&&a.proxy,o.map(({vnode:s})=>`at <${dd(a,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...bh(o)),console.warn(...s)}Kn(),zr=!1}function yh(){let e=ns[ns.length-1];if(!e)return[];const t=[];for(;e;){const a=t[0];a&&a.vnode===e?a.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function bh(e){const t=[];return e.forEach((a,n)=>{t.push(...n===0?[]:[`
`],...wh(a))}),t}function wh({vnode:e,recurseCount:t}){const a=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,o=` at <${dd(e.component,e.type,n)}`,s=">"+a;return e.props?[o,...xh(e.props),s]:[o+s]}function xh(e){const t=[],a=Object.keys(e);return a.slice(0,3).forEach(n=>{t.push(...lc(n,e[n]))}),a.length>3&&t.push(" ..."),t}function lc(e,t,a){return Ot(t)?(t=JSON.stringify(t),a?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?a?t:[`${e}=${t}`]:Nt(t)?(t=lc(e,at(t.value),!0),a?t:[`${e}=Ref<`,t,">"]):qe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=at(t),a?t:[`${e}=`,t])}function ya(e,t,a,n){try{return n?e(...n):e()}catch(o){dl(o,t,a)}}function Un(e,t,a,n){if(qe(e)){const o=ya(e,t,a,n);return o&&$u(o)&&o.catch(s=>{dl(s,t,a)}),o}if(Ve(e)){const o=[];for(let s=0;s<e.length;s++)o.push(Un(e[s],t,a,n));return o}}function dl(e,t,a,n=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Tt;if(t){let r=t.parent;const u=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${a}`;for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,u,d)===!1)return}r=r.parent}if(s){Yn(),ya(s,null,10,[e,u,d]),Kn();return}}Th(e,a,o,n,l)}function Th(e,t,a,n=!0,o=!1){if(o)throw e;console.error(e)}const fn=[];let Jn=-1;const ba=[];let Ro=null,wa=0;const rc=Promise.resolve();let fl=null;function Ge(e){const t=fl||rc;return e?t.then(this?e.bind(this):e):t}function Sh(e){let t=Jn+1,a=fn.length;for(;t<a;){const n=t+a>>>1,o=fn[n],s=os(o);s<e||s===e&&o.flags&2?t=n+1:a=n}return t}function qr(e){if(!(e.flags&1)){const t=os(e),a=fn[fn.length-1];!a||!(e.flags&2)&&t>=os(a)?fn.push(e):fn.splice(Sh(t),0,e),e.flags|=1,ic()}}function ic(){fl||(fl=rc.then(dc))}function kh(e){Ve(e)?ba.push(...e):Ro&&e.id===-1?Ro.splice(wa+1,0,e):e.flags&1||(ba.push(e),e.flags|=1),ic()}function uc(e,t,a=Jn+1){for(;a<fn.length;a++){const n=fn[a];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;fn.splice(a,1),a--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function cc(e){if(ba.length){const t=[...new Set(ba)].sort((a,n)=>os(a)-os(n));if(ba.length=0,Ro){Ro.push(...t);return}for(Ro=t,wa=0;wa<Ro.length;wa++){const a=Ro[wa];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}Ro=null,wa=0}}const os=e=>e.id==null?e.flags&2?-1:1/0:e.id;function dc(e){try{for(Jn=0;Jn<fn.length;Jn++){const t=fn[Jn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ya(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jn<fn.length;Jn++){const t=fn[Jn];t&&(t.flags&=-2)}Jn=-1,fn.length=0,cc(),fl=null,(fn.length||ba.length)&&dc()}}let en=null,fc=null;function pl(e){const t=en;return en=e,fc=e&&e.type.__scopeId||null,t}function ut(e,t=en,a){if(!t||e._n)return e;const n=(...o)=>{n._d&&Tl(-1);const s=pl(t);let l;try{l=e(...o)}finally{pl(s),n._d&&Tl(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function ve(e,t){if(en===null)return e;const a=Cl(en),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,r,u=Tt]=t[o];s&&(qe(s)&&(s={mounted:s,updated:s}),s.deep&&uo(l),n.push({dir:s,instance:a,value:l,oldValue:void 0,arg:r,modifiers:u}))}return e}function ea(e,t,a,n){const o=e.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const r=o[l];s&&(r.oldValue=s[l].value);let u=r.dir[n];u&&(Yn(),Un(u,a,8,[e.el,r,e,t]),Kn())}}const pc=Symbol("_vte"),gc=e=>e.__isTeleport,as=e=>e&&(e.disabled||e.disabled===""),mc=e=>e&&(e.defer||e.defer===""),hc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,vc=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Gr=(e,t)=>{const a=e&&e.to;return Ot(a)?t?t(a):null:a},_c={name:"Teleport",__isTeleport:!0,process(e,t,a,n,o,s,l,r,u,d){const{mc:c,pc:f,pbc:m,o:{insert:g,querySelector:v,createText:y,createComment:b}}=d,x=as(t.props);let{shapeFlag:L,children:U,dynamicChildren:S}=t;if(e==null){const R=t.el=y(""),V=t.anchor=y("");g(R,a,n),g(V,a,n);const j=(q,_e)=>{L&16&&(o&&o.isCE&&(o.ce._teleportTarget=q),c(U,q,_e,o,s,l,r,u))},H=()=>{const q=t.target=Gr(t.props,v),_e=bc(q,t,y,g);q&&(l!=="svg"&&hc(q)?l="svg":l!=="mathml"&&vc(q)&&(l="mathml"),x||(j(q,_e),ml(t,!1)))};x&&(j(a,V),ml(t,!0)),mc(t.props)?(t.el.__isMounted=!1,gn(()=>{H(),delete t.el.__isMounted},s)):H()}else{if(mc(t.props)&&e.el.__isMounted===!1){gn(()=>{_c.process(e,t,a,n,o,s,l,r,u,d)},s);return}t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,V=t.target=e.target,j=t.targetAnchor=e.targetAnchor,H=as(e.props),q=H?a:V,_e=H?R:j;if(l==="svg"||hc(V)?l="svg":(l==="mathml"||vc(V))&&(l="mathml"),S?(m(e.dynamicChildren,S,q,o,s,l,r),ai(e,t,!0)):u||f(e,t,q,_e,o,s,l,r,!1),x)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gl(t,a,R,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const re=t.target=Gr(t.props,v);re&&gl(t,re,null,d,0)}else H&&gl(t,V,j,d,1);ml(t,x)}},remove(e,t,a,{um:n,o:{remove:o}},s){const{shapeFlag:l,children:r,anchor:u,targetStart:d,targetAnchor:c,target:f,props:m}=e;if(f&&(o(d),o(c)),s&&o(u),l&16){const g=s||!as(m);for(let v=0;v<r.length;v++){const y=r[v];n(y,t,a,g,!!y.dynamicChildren)}}},move:gl,hydrate:Ch};function gl(e,t,a,{o:{insert:n},m:o},s=2){s===0&&n(e.targetAnchor,t,a);const{el:l,anchor:r,shapeFlag:u,children:d,props:c}=e,f=s===2;if(f&&n(l,t,a),(!f||as(c))&&u&16)for(let m=0;m<d.length;m++)o(d[m],t,a,2);f&&n(r,t,a)}function Ch(e,t,a,n,o,s,{o:{nextSibling:l,parentNode:r,querySelector:u,insert:d,createText:c}},f){function m(y,b,x,L){b.anchor=f(l(y),b,r(y),a,n,o,s),b.targetStart=x,b.targetAnchor=L}const g=t.target=Gr(t.props,u),v=as(t.props);if(g){const y=g._lpa||g.firstChild;if(t.shapeFlag&16)if(v)m(e,t,y,y&&l(y));else{t.anchor=l(e);let b=y;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,g._lpa=t.targetAnchor&&l(t.targetAnchor);break}}b=l(b)}t.targetAnchor||bc(g,t,c,d),f(y&&l(y),t,g,a,n,o,s)}ml(t,v)}else v&&t.shapeFlag&16&&m(e,t,e,l(e));return t.anchor&&l(t.anchor)}const yc=_c;function ml(e,t){const a=e.ctx;if(a&&a.ut){let n,o;for(t?(n=e.el,o=e.anchor):(n=e.targetStart,o=e.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",a.uid),n=n.nextSibling;a.ut()}}function bc(e,t,a,n){const o=t.targetStart=a(""),s=t.targetAnchor=a("");return o[pc]=s,e&&(n(o,e),n(s,e)),s}const co=Symbol("_leaveCb"),hl=Symbol("_enterCb");function wc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rt(()=>{e.isMounted=!0}),Oo(()=>{e.isUnmounting=!0}),e}const Mn=[Function,Array],xc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mn,onEnter:Mn,onAfterEnter:Mn,onEnterCancelled:Mn,onBeforeLeave:Mn,onLeave:Mn,onAfterLeave:Mn,onLeaveCancelled:Mn,onBeforeAppear:Mn,onAppear:Mn,onAfterAppear:Mn,onAppearCancelled:Mn},Tc=e=>{const t=e.subTree;return t.component?Tc(t.component):t},Eh={name:"BaseTransition",props:xc,setup(e,{slots:t}){const a=go(),n=wc();return()=>{const o=t.default&&Yr(t.default(),!0);if(!o||!o.length)return;const s=Sc(o),l=at(e),{mode:r}=l;if(n.isLeaving)return Qr(s);const u=Cc(s);if(!u)return Qr(s);let d=ss(u,l,n,a,f=>d=f);u.type!==an&&ta(u,d);let c=a.subTree&&Cc(a.subTree);if(c&&c.type!==an&&!aa(c,u)&&Tc(a).type!==an){let f=ss(c,l,n,a);if(ta(c,f),r==="out-in"&&u.type!==an)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,a.job.flags&8||a.update(),delete f.afterLeave,c=void 0},Qr(s);r==="in-out"&&u.type!==an?f.delayLeave=(m,g,v)=>{const y=kc(n,c);y[String(c.key)]=c,m[co]=()=>{g(),m[co]=void 0,delete d.delayedLeave,c=void 0},d.delayedLeave=()=>{v(),delete d.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function Sc(e){let t=e[0];if(e.length>1){for(const a of e)if(a.type!==an){t=a;break}}return t}const Lh=Eh;function kc(e,t){const{leavingVNodes:a}=e;let n=a.get(t.type);return n||(n=Object.create(null),a.set(t.type,n)),n}function ss(e,t,a,n,o){const{appear:s,mode:l,persisted:r=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:m,onLeave:g,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:b,onAppear:x,onAfterAppear:L,onAppearCancelled:U}=t,S=String(e.key),R=kc(a,e),V=(q,_e)=>{q&&Un(q,n,9,_e)},j=(q,_e)=>{const re=_e[1];V(q,_e),Ve(q)?q.every(O=>O.length<=1)&&re():q.length<=1&&re()},H={mode:l,persisted:r,beforeEnter(q){let _e=u;if(!a.isMounted)if(s)_e=b||u;else return;q[co]&&q[co](!0);const re=R[S];re&&aa(e,re)&&re.el[co]&&re.el[co](),V(_e,[q])},enter(q){let _e=d,re=c,O=f;if(!a.isMounted)if(s)_e=x||d,re=L||c,O=U||f;else return;let Y=!1;const Z=q[hl]=W=>{Y||(Y=!0,W?V(O,[q]):V(re,[q]),H.delayedLeave&&H.delayedLeave(),q[hl]=void 0)};_e?j(_e,[q,Z]):Z()},leave(q,_e){const re=String(e.key);if(q[hl]&&q[hl](!0),a.isUnmounting)return _e();V(m,[q]);let O=!1;const Y=q[co]=Z=>{O||(O=!0,_e(),Z?V(y,[q]):V(v,[q]),q[co]=void 0,R[re]===e&&delete R[re])};R[re]=e,g?j(g,[q,Y]):Y()},clone(q){const _e=ss(q,t,a,n,o);return o&&o(_e),_e}};return H}function Qr(e){if(_l(e))return e=No(e),e.children=null,e}function Cc(e){if(!_l(e))return gc(e.type)&&e.children?Sc(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:a}=e;if(a){if(t&16)return a[0];if(t&32&&qe(a.default))return a.default()}}function ta(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ta(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yr(e,t=!1,a){let n=[],o=0;for(let s=0;s<e.length;s++){let l=e[s];const r=a==null?l.key:String(a)+String(l.key!=null?l.key:s);l.type===Me?(l.patchFlag&128&&o++,n=n.concat(Yr(l.children,t,r))):(t||l.type!==an)&&n.push(r!=null?No(l,{key:r}):l)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function _n(e,t){return qe(e)?Wt({name:e.name},t,{setup:e}):e}function Ec(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const vl=new WeakMap;function ls(e,t,a,n,o=!1){if(Ve(e)){e.forEach((v,y)=>ls(v,t&&(Ve(t)?t[y]:t),a,n,o));return}if(xa(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ls(e,t,a,n.component.subTree);return}const s=n.shapeFlag&4?Cl(n.component):n.el,l=o?null:s,{i:r,r:u}=e,d=t&&t.r,c=r.refs===Tt?r.refs={}:r.refs,f=r.setupState,m=at(f),g=f===Tt?Eu:v=>mt(m,v);if(d!=null&&d!==u){if(Lc(t),Ot(d))c[d]=null,g(d)&&(f[d]=null);else if(Nt(d)){d.value=null;const v=t;v.k&&(c[v.k]=null)}}if(qe(u))ya(u,r,12,[l,c]);else{const v=Ot(u),y=Nt(u);if(v||y){const b=()=>{if(e.f){const x=v?g(u)?f[u]:c[u]:u.value;if(o)Ve(x)&&Er(x,s);else if(Ve(x))x.includes(s)||x.push(s);else if(v)c[u]=[s],g(u)&&(f[u]=c[u]);else{const L=[s];u.value=L,e.k&&(c[e.k]=L)}}else v?(c[u]=l,g(u)&&(f[u]=l)):y&&(u.value=l,e.k&&(c[e.k]=l))};if(l){const x=()=>{b(),vl.delete(e)};x.id=-1,vl.set(e,x),gn(x,a)}else Lc(e),b()}}}function Lc(e){const t=vl.get(e);t&&(t.flags|=8,vl.delete(e))}el().requestIdleCallback,el().cancelIdleCallback;const xa=e=>!!e.type.__asyncLoader,_l=e=>e.type.__isKeepAlive;function $h(e,t){$c(e,"a",t)}function Ah(e,t){$c(e,"da",t)}function $c(e,t,a=sn){const n=e.__wdc||(e.__wdc=()=>{let o=a;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(yl(t,n,a),a){let o=a.parent;for(;o&&o.parent;)_l(o.parent.vnode)&&Ih(n,t,a,o),o=o.parent}}function Ih(e,t,a,n){const o=yl(t,e,n,!0);Rn(()=>{Er(n[t],o)},a)}function yl(e,t,a=sn,n=!1){if(a){const o=a[e]||(a[e]=[]),s=t.__weh||(t.__weh=(...l)=>{Yn();const r=gs(a),u=Un(t,a,e,l);return r(),Kn(),u});return n?o.unshift(s):o.push(s),s}}const fo=e=>(t,a=sn)=>{(!ms||e==="sp")&&yl(e,(...n)=>t(...n),a)},Mh=fo("bm"),rt=fo("m"),Ac=fo("bu"),Ic=fo("u"),Oo=fo("bum"),Rn=fo("um"),Rh=fo("sp"),Oh=fo("rtg"),Nh=fo("rtc");function Dh(e,t=sn){yl("ec",e,t)}const Ph="components";function Fh(e,t){return Uh(Ph,e,!0,t)||e}const Bh=Symbol.for("v-ndc");function Uh(e,t,a=!0,n=!1){const o=en||sn;if(o){const s=o.type;{const r=cd(s,!1);if(r&&(r===t||r===An(t)||r===Js(An(t))))return s}const l=Mc(o[e]||s[e],t)||Mc(o.appContext[e],t);return!l&&n?s:l}}function Mc(e,t){return e&&(e[t]||e[An(t)]||e[Js(An(t))])}function je(e,t,a,n){let o;const s=a,l=Ve(e);if(l||Ot(e)){const r=l&&Io(e);let u=!1,d=!1;r&&(u=!In(e),d=Mo(e),e=nl(e)),o=new Array(e.length);for(let c=0,f=e.length;c<f;c++)o[c]=t(u?d?il(Zt(e[c])):Zt(e[c]):e[c],c,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,s)}else if(St(e))if(e[Symbol.iterator])o=Array.from(e,(r,u)=>t(r,u,void 0,s));else{const r=Object.keys(e);o=new Array(r.length);for(let u=0,d=r.length;u<d;u++){const c=r[u];o[u]=t(e[c],c,u,s)}}else o=[];return o}function rs(e,t,a={},n,o){if(en.ce||en.parent&&xa(en.parent)&&en.parent.ce)return t!=="default"&&(a.name=t),T(),bt(Me,null,[We("slot",a,n&&n())],64);let s=e[t];s&&s._c&&(s._d=!1),T();const l=s&&Rc(s(a)),r=a.key||l&&l.key,u=bt(Me,{key:(r&&!Fn(r)?r:`_${t}`)+(!l&&n?"_fb":"")},l||(n?n():[]),l&&e._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function Rc(e){return e.some(t=>ps(t)?!(t.type===an||t.type===Me&&!Rc(t.children)):!0)?e:null}const Kr=e=>e?rd(e)?Cl(e):Kr(e.parent):null,is=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kr(e.parent),$root:e=>Kr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Pc(e),$forceUpdate:e=>e.f||(e.f=()=>{qr(e.update)}),$nextTick:e=>e.n||(e.n=Ge.bind(e.proxy)),$watch:e=>iv.bind(e)}),Jr=(e,t)=>e!==Tt&&!e.__isScriptSetup&&mt(e,t),Hh={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:a,setupState:n,data:o,props:s,accessCache:l,type:r,appContext:u}=e;let d;if(t[0]!=="$"){const g=l[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return o[t];case 4:return a[t];case 3:return s[t]}else{if(Jr(n,t))return l[t]=1,n[t];if(o!==Tt&&mt(o,t))return l[t]=2,o[t];if((d=e.propsOptions[0])&&mt(d,t))return l[t]=3,s[t];if(a!==Tt&&mt(a,t))return l[t]=4,a[t];Xr&&(l[t]=0)}}const c=is[t];let f,m;if(c)return t==="$attrs"&&on(e.attrs,"get",""),c(e);if((f=r.__cssModules)&&(f=f[t]))return f;if(a!==Tt&&mt(a,t))return l[t]=4,a[t];if(m=u.config.globalProperties,mt(m,t))return m[t]},set({_:e},t,a){const{data:n,setupState:o,ctx:s}=e;return Jr(o,t)?(o[t]=a,!0):n!==Tt&&mt(n,t)?(n[t]=a,!0):mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=a,!0)},has({_:{data:e,setupState:t,accessCache:a,ctx:n,appContext:o,propsOptions:s,type:l}},r){let u,d;return!!(a[r]||e!==Tt&&r[0]!=="$"&&mt(e,r)||Jr(t,r)||(u=s[0])&&mt(u,r)||mt(n,r)||mt(is,r)||mt(o.config.globalProperties,r)||(d=l.__cssModules)&&d[r])},defineProperty(e,t,a){return a.get!=null?e._.accessCache[t]=0:mt(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};function Oc(e){return Ve(e)?e.reduce((t,a)=>(t[a]=null,t),{}):e}let Xr=!0;function Vh(e){const t=Pc(e),a=e.proxy,n=e.ctx;Xr=!1,t.beforeCreate&&Nc(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:l,watch:r,provide:u,inject:d,created:c,beforeMount:f,mounted:m,beforeUpdate:g,updated:v,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:L,destroyed:U,unmounted:S,render:R,renderTracked:V,renderTriggered:j,errorCaptured:H,serverPrefetch:q,expose:_e,inheritAttrs:re,components:O,directives:Y,filters:Z}=t;if(d&&jh(d,n,null),l)for(const ae in l){const F=l[ae];qe(F)&&(n[ae]=F.bind(a))}if(o){const ae=o.call(a,a);St(ae)&&(e.data=ll(ae))}if(Xr=!0,s)for(const ae in s){const F=s[ae],P=qe(F)?F.bind(a,a):qe(F.get)?F.get.bind(a,a):Qn,J=!qe(F)&&qe(F.set)?F.set.bind(a):Qn,le=et({get:P,set:J});Object.defineProperty(n,ae,{enumerable:!0,configurable:!0,get:()=>le.value,set:G=>le.value=G})}if(r)for(const ae in r)Dc(r[ae],n,a,ae);if(u){const ae=qe(u)?u.call(a):u;Reflect.ownKeys(ae).forEach(F=>{wl(F,ae[F])})}c&&Nc(c,e,"c");function ne(ae,F){Ve(F)?F.forEach(P=>ae(P.bind(a))):F&&ae(F.bind(a))}if(ne(Mh,f),ne(rt,m),ne(Ac,g),ne(Ic,v),ne($h,y),ne(Ah,b),ne(Dh,H),ne(Nh,V),ne(Oh,j),ne(Oo,L),ne(Rn,S),ne(Rh,q),Ve(_e))if(_e.length){const ae=e.exposed||(e.exposed={});_e.forEach(F=>{Object.defineProperty(ae,F,{get:()=>a[F],set:P=>a[F]=P,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===Qn&&(e.render=R),re!=null&&(e.inheritAttrs=re),O&&(e.components=O),Y&&(e.directives=Y),q&&Ec(e)}function jh(e,t,a=Qn){Ve(e)&&(e=Zr(e));for(const n in e){const o=e[n];let s;St(o)?"default"in o?s=po(o.from||n,o.default,!0):s=po(o.from||n):s=po(o),Nt(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[n]=s}}function Nc(e,t,a){Un(Ve(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,a)}function Dc(e,t,a,n){let o=n.includes(".")?Zc(a,n):()=>a[n];if(Ot(e)){const s=t[e];qe(s)&&Xe(o,s)}else if(qe(e))Xe(o,e.bind(a));else if(St(e))if(Ve(e))e.forEach(s=>Dc(s,t,a,n));else{const s=qe(e.handler)?e.handler.bind(a):t[e.handler];qe(s)&&Xe(o,s,e)}}function Pc(e){const t=e.type,{mixins:a,extends:n}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:l}}=e.appContext,r=s.get(t);let u;return r?u=r:!o.length&&!a&&!n?u=t:(u={},o.length&&o.forEach(d=>bl(u,d,l,!0)),bl(u,t,l)),St(t)&&s.set(t,u),u}function bl(e,t,a,n=!1){const{mixins:o,extends:s}=t;s&&bl(e,s,a,!0),o&&o.forEach(l=>bl(e,l,a,!0));for(const l in t)if(!(n&&l==="expose")){const r=Wh[l]||a&&a[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const Wh={data:Fc,props:Bc,emits:Bc,methods:us,computed:us,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:us,directives:us,watch:qh,provide:Fc,inject:zh};function Fc(e,t){return t?e?function(){return Wt(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function zh(e,t){return us(Zr(e),Zr(t))}function Zr(e){if(Ve(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function pn(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?Wt(Object.create(null),e,t):t}function Bc(e,t){return e?Ve(e)&&Ve(t)?[...new Set([...e,...t])]:Wt(Object.create(null),Oc(e),Oc(t??{})):t}function qh(e,t){if(!e)return t;if(!t)return e;const a=Wt(Object.create(null),e);for(const n in t)a[n]=pn(e[n],t[n]);return a}function Uc(){return{app:null,config:{isNativeTag:Eu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gh=0;function Qh(e,t){return function(n,o=null){qe(n)||(n=Wt({},n)),o!=null&&!St(o)&&(o=null);const s=Uc(),l=new WeakSet,r=[];let u=!1;const d=s.app={_uid:Gh++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:Iv,get config(){return s.config},set config(c){},use(c,...f){return l.has(c)||(c&&qe(c.install)?(l.add(c),c.install(d,...f)):qe(c)&&(l.add(c),c(d,...f))),d},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),d},component(c,f){return f?(s.components[c]=f,d):s.components[c]},directive(c,f){return f?(s.directives[c]=f,d):s.directives[c]},mount(c,f,m){if(!u){const g=d._ceVNode||We(n,o);return g.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),e(g,c,m),u=!0,d._container=c,c.__vue_app__=d,Cl(g.component)}},onUnmount(c){r.push(c)},unmount(){u&&(Un(r,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(c,f){return s.provides[c]=f,d},runWithContext(c){const f=na;na=d;try{return c()}finally{na=f}}};return d}}let na=null;function wl(e,t){if(sn){let a=sn.provides;const n=sn.parent&&sn.parent.provides;n===a&&(a=sn.provides=Object.create(n)),a[e]=t}}function po(e,t,a=!1){const n=go();if(n||na){let o=na?na._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return a&&qe(t)?t.call(n&&n.proxy):t}}function Yh(){return!!(go()||na)}const Hc={},Vc=()=>Object.create(Hc),jc=e=>Object.getPrototypeOf(e)===Hc;function Kh(e,t,a,n=!1){const o={},s=Vc();e.propsDefaults=Object.create(null),Wc(e,t,o,s);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);a?e.props=n?o:ih(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Jh(e,t,a,n){const{props:o,attrs:s,vnode:{patchFlag:l}}=e,r=at(o),[u]=e.propsOptions;let d=!1;if((n||l>0)&&!(l&16)){if(l&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let m=c[f];if(xl(e.emitsOptions,m))continue;const g=t[m];if(u)if(mt(s,m))g!==s[m]&&(s[m]=g,d=!0);else{const v=An(m);o[v]=ei(u,r,v,g,e,!1)}else g!==s[m]&&(s[m]=g,d=!0)}}}else{Wc(e,t,o,s)&&(d=!0);let c;for(const f in r)(!t||!mt(t,f)&&((c=$o(f))===f||!mt(t,c)))&&(u?a&&(a[f]!==void 0||a[c]!==void 0)&&(o[f]=ei(u,r,f,void 0,e,!0)):delete o[f]);if(s!==r)for(const f in s)(!t||!mt(t,f))&&(delete s[f],d=!0)}d&&ro(e.attrs,"set","")}function Wc(e,t,a,n){const[o,s]=e.propsOptions;let l=!1,r;if(t)for(let u in t){if(Ka(u))continue;const d=t[u];let c;o&&mt(o,c=An(u))?!s||!s.includes(c)?a[c]=d:(r||(r={}))[c]=d:xl(e.emitsOptions,u)||(!(u in n)||d!==n[u])&&(n[u]=d,l=!0)}if(s){const u=at(a),d=r||Tt;for(let c=0;c<s.length;c++){const f=s[c];a[f]=ei(o,u,f,d[f],e,!mt(d,f))}}return l}function ei(e,t,a,n,o,s){const l=e[a];if(l!=null){const r=mt(l,"default");if(r&&n===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&qe(u)){const{propsDefaults:d}=o;if(a in d)n=d[a];else{const c=gs(o);n=d[a]=u.call(null,t),c()}}else n=u;o.ce&&o.ce._setProp(a,n)}l[0]&&(s&&!r?n=!1:l[1]&&(n===""||n===$o(a))&&(n=!0))}return n}const Xh=new WeakMap;function zc(e,t,a=!1){const n=a?Xh:t.propsCache,o=n.get(e);if(o)return o;const s=e.props,l={},r=[];let u=!1;if(!qe(e)){const c=f=>{u=!0;const[m,g]=zc(f,t,!0);Wt(l,m),g&&r.push(...g)};!a&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!u)return St(e)&&n.set(e,ma),ma;if(Ve(s))for(let c=0;c<s.length;c++){const f=An(s[c]);qc(f)&&(l[f]=Tt)}else if(s)for(const c in s){const f=An(c);if(qc(f)){const m=s[c],g=l[f]=Ve(m)||qe(m)?{type:m}:Wt({},m),v=g.type;let y=!1,b=!0;if(Ve(v))for(let x=0;x<v.length;++x){const L=v[x],U=qe(L)&&L.name;if(U==="Boolean"){y=!0;break}else U==="String"&&(b=!1)}else y=qe(v)&&v.name==="Boolean";g[0]=y,g[1]=b,(y||mt(g,"default"))&&r.push(f)}}const d=[l,r];return St(e)&&n.set(e,d),d}function qc(e){return e[0]!=="$"&&!Ka(e)}const ti=e=>e==="_"||e==="_ctx"||e==="$stable",ni=e=>Ve(e)?e.map(Xn):[Xn(e)],Zh=(e,t,a)=>{if(t._n)return t;const n=ut((...o)=>ni(t(...o)),a);return n._c=!1,n},Gc=(e,t,a)=>{const n=e._ctx;for(const o in e){if(ti(o))continue;const s=e[o];if(qe(s))t[o]=Zh(o,s,n);else if(s!=null){const l=ni(s);t[o]=()=>l}}},Qc=(e,t)=>{const a=ni(t);e.slots.default=()=>a},Yc=(e,t,a)=>{for(const n in t)(a||!ti(n))&&(e[n]=t[n])},ev=(e,t,a)=>{const n=e.slots=Vc();if(e.vnode.shapeFlag&32){const o=t._;o?(Yc(n,t,a),a&&Mu(n,"_",o,!0)):Gc(t,n)}else t&&Qc(e,t)},tv=(e,t,a)=>{const{vnode:n,slots:o}=e;let s=!0,l=Tt;if(n.shapeFlag&32){const r=t._;r?a&&r===1?s=!1:Yc(o,t,a):(s=!t.$stable,Gc(t,o)),l=t}else t&&(Qc(e,t),l={default:1});if(s)for(const r in o)!ti(r)&&l[r]==null&&delete o[r]},gn=hv;function nv(e){return ov(e)}function ov(e,t){const a=el();a.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:l,createText:r,createComment:u,setText:d,setElementText:c,parentNode:f,nextSibling:m,setScopeId:g=Qn,insertStaticContent:v}=e,y=($,A,B,te=null,he=null,we=null,C=void 0,w=null,N=!!A.dynamicChildren)=>{if($===A)return;$&&!aa($,A)&&(te=M($),G($,he,we,!0),$=null),A.patchFlag===-2&&(N=!1,A.dynamicChildren=null);const{type:z,ref:xe,shapeFlag:ye}=A;switch(z){case cs:b($,A,B,te);break;case an:x($,A,B,te);break;case si:$==null&&L(A,B,te,C);break;case Me:O($,A,B,te,he,we,C,w,N);break;default:ye&1?R($,A,B,te,he,we,C,w,N):ye&6?Y($,A,B,te,he,we,C,w,N):(ye&64||ye&128)&&z.process($,A,B,te,he,we,C,w,N,D)}xe!=null&&he?ls(xe,$&&$.ref,we,A||$,!A):xe==null&&$&&$.ref!=null&&ls($.ref,null,we,$,!0)},b=($,A,B,te)=>{if($==null)n(A.el=r(A.children),B,te);else{const he=A.el=$.el;A.children!==$.children&&d(he,A.children)}},x=($,A,B,te)=>{$==null?n(A.el=u(A.children||""),B,te):A.el=$.el},L=($,A,B,te)=>{[$.el,$.anchor]=v($.children,A,B,te,$.el,$.anchor)},U=({el:$,anchor:A},B,te)=>{let he;for(;$&&$!==A;)he=m($),n($,B,te),$=he;n(A,B,te)},S=({el:$,anchor:A})=>{let B;for(;$&&$!==A;)B=m($),o($),$=B;o(A)},R=($,A,B,te,he,we,C,w,N)=>{A.type==="svg"?C="svg":A.type==="math"&&(C="mathml"),$==null?V(A,B,te,he,we,C,w,N):q($,A,he,we,C,w,N)},V=($,A,B,te,he,we,C,w)=>{let N,z;const{props:xe,shapeFlag:ye,transition:X,dirs:de}=$;if(N=$.el=l($.type,we,xe&&xe.is,xe),ye&8?c(N,$.children):ye&16&&H($.children,N,null,te,he,oi($,we),C,w),de&&ea($,null,te,"created"),j(N,$,$.scopeId,C,te),xe){for(const Pe in xe)Pe!=="value"&&!Ka(Pe)&&s(N,Pe,null,xe[Pe],we,te);"value"in xe&&s(N,"value",null,xe.value,we),(z=xe.onVnodeBeforeMount)&&Zn(z,te,$)}de&&ea($,null,te,"beforeMount");const Oe=av(he,X);Oe&&X.beforeEnter(N),n(N,A,B),((z=xe&&xe.onVnodeMounted)||Oe||de)&&gn(()=>{z&&Zn(z,te,$),Oe&&X.enter(N),de&&ea($,null,te,"mounted")},he)},j=($,A,B,te,he)=>{if(B&&g($,B),te)for(let we=0;we<te.length;we++)g($,te[we]);if(he){let we=he.subTree;if(A===we||od(we.type)&&(we.ssContent===A||we.ssFallback===A)){const C=he.vnode;j($,C,C.scopeId,C.slotScopeIds,he.parent)}}},H=($,A,B,te,he,we,C,w,N=0)=>{for(let z=N;z<$.length;z++){const xe=$[z]=w?Do($[z]):Xn($[z]);y(null,xe,A,B,te,he,we,C,w)}},q=($,A,B,te,he,we,C)=>{const w=A.el=$.el;let{patchFlag:N,dynamicChildren:z,dirs:xe}=A;N|=$.patchFlag&16;const ye=$.props||Tt,X=A.props||Tt;let de;if(B&&oa(B,!1),(de=X.onVnodeBeforeUpdate)&&Zn(de,B,A,$),xe&&ea(A,$,B,"beforeUpdate"),B&&oa(B,!0),(ye.innerHTML&&X.innerHTML==null||ye.textContent&&X.textContent==null)&&c(w,""),z?_e($.dynamicChildren,z,w,B,te,oi(A,he),we):C||F($,A,w,null,B,te,oi(A,he),we,!1),N>0){if(N&16)re(w,ye,X,B,he);else if(N&2&&ye.class!==X.class&&s(w,"class",null,X.class,he),N&4&&s(w,"style",ye.style,X.style,he),N&8){const Oe=A.dynamicProps;for(let Pe=0;Pe<Oe.length;Pe++){const Fe=Oe[Pe],Qe=ye[Fe],st=X[Fe];(st!==Qe||Fe==="value")&&s(w,Fe,Qe,st,he,B)}}N&1&&$.children!==A.children&&c(w,A.children)}else!C&&z==null&&re(w,ye,X,B,he);((de=X.onVnodeUpdated)||xe)&&gn(()=>{de&&Zn(de,B,A,$),xe&&ea(A,$,B,"updated")},te)},_e=($,A,B,te,he,we,C)=>{for(let w=0;w<A.length;w++){const N=$[w],z=A[w],xe=N.el&&(N.type===Me||!aa(N,z)||N.shapeFlag&198)?f(N.el):B;y(N,z,xe,null,te,he,we,C,!0)}},re=($,A,B,te,he)=>{if(A!==B){if(A!==Tt)for(const we in A)!Ka(we)&&!(we in B)&&s($,we,A[we],null,he,te);for(const we in B){if(Ka(we))continue;const C=B[we],w=A[we];C!==w&&we!=="value"&&s($,we,w,C,he,te)}"value"in B&&s($,"value",A.value,B.value,he)}},O=($,A,B,te,he,we,C,w,N)=>{const z=A.el=$?$.el:r(""),xe=A.anchor=$?$.anchor:r("");let{patchFlag:ye,dynamicChildren:X,slotScopeIds:de}=A;de&&(w=w?w.concat(de):de),$==null?(n(z,B,te),n(xe,B,te),H(A.children||[],B,xe,he,we,C,w,N)):ye>0&&ye&64&&X&&$.dynamicChildren?(_e($.dynamicChildren,X,B,he,we,C,w),(A.key!=null||he&&A===he.subTree)&&ai($,A,!0)):F($,A,B,xe,he,we,C,w,N)},Y=($,A,B,te,he,we,C,w,N)=>{A.slotScopeIds=w,$==null?A.shapeFlag&512?he.ctx.activate(A,B,te,C,N):Z(A,B,te,he,we,C,N):W($,A,N)},Z=($,A,B,te,he,we,C)=>{const w=$.component=Tv($,te,he);if(_l($)&&(w.ctx.renderer=D),Sv(w,!1,C),w.asyncDep){if(he&&he.registerDep(w,ne,C),!$.el){const N=w.subTree=We(an);x(null,N,A,B),$.placeholder=N.el}}else ne(w,$,A,B,he,we,C)},W=($,A,B)=>{const te=A.component=$.component;if(gv($,A,B))if(te.asyncDep&&!te.asyncResolved){ae(te,A,B);return}else te.next=A,te.update();else A.el=$.el,te.vnode=A},ne=($,A,B,te,he,we,C)=>{const w=()=>{if($.isMounted){let{next:ye,bu:X,u:de,parent:Oe,vnode:Pe}=$;{const Rt=Kc($);if(Rt){ye&&(ye.el=Pe.el,ae($,ye,C)),Rt.asyncDep.then(()=>{$.isUnmounted||w()});return}}let Fe=ye,Qe;oa($,!1),ye?(ye.el=Pe.el,ae($,ye,C)):ye=Pe,X&&Xs(X),(Qe=ye.props&&ye.props.onVnodeBeforeUpdate)&&Zn(Qe,Oe,ye,Pe),oa($,!0);const st=td($),yt=$.subTree;$.subTree=st,y(yt,st,f(yt.el),M(yt),$,he,we),ye.el=st.el,Fe===null&&mv($,st.el),de&&gn(de,he),(Qe=ye.props&&ye.props.onVnodeUpdated)&&gn(()=>Zn(Qe,Oe,ye,Pe),he)}else{let ye;const{el:X,props:de}=A,{bm:Oe,m:Pe,parent:Fe,root:Qe,type:st}=$,yt=xa(A);oa($,!1),Oe&&Xs(Oe),!yt&&(ye=de&&de.onVnodeBeforeMount)&&Zn(ye,Fe,A),oa($,!0);{Qe.ce&&Qe.ce._def.shadowRoot!==!1&&Qe.ce._injectChildStyle(st);const Rt=$.subTree=td($);y(null,Rt,B,te,$,he,we),A.el=Rt.el}if(Pe&&gn(Pe,he),!yt&&(ye=de&&de.onVnodeMounted)){const Rt=A;gn(()=>Zn(ye,Fe,Rt),he)}(A.shapeFlag&256||Fe&&xa(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&$.a&&gn($.a,he),$.isMounted=!0,A=B=te=null}};$.scope.on();const N=$.effect=new Bu(w);$.scope.off();const z=$.update=N.run.bind(N),xe=$.job=N.runIfDirty.bind(N);xe.i=$,xe.id=$.uid,N.scheduler=()=>qr(xe),oa($,!0),z()},ae=($,A,B)=>{A.component=$;const te=$.vnode.props;$.vnode=A,$.next=null,Jh($,A.props,te,B),tv($,A.children,B),Yn(),uc($),Kn()},F=($,A,B,te,he,we,C,w,N=!1)=>{const z=$&&$.children,xe=$?$.shapeFlag:0,ye=A.children,{patchFlag:X,shapeFlag:de}=A;if(X>0){if(X&128){J(z,ye,B,te,he,we,C,w,N);return}else if(X&256){P(z,ye,B,te,he,we,C,w,N);return}}de&8?(xe&16&&ce(z,he,we),ye!==z&&c(B,ye)):xe&16?de&16?J(z,ye,B,te,he,we,C,w,N):ce(z,he,we,!0):(xe&8&&c(B,""),de&16&&H(ye,B,te,he,we,C,w,N))},P=($,A,B,te,he,we,C,w,N)=>{$=$||ma,A=A||ma;const z=$.length,xe=A.length,ye=Math.min(z,xe);let X;for(X=0;X<ye;X++){const de=A[X]=N?Do(A[X]):Xn(A[X]);y($[X],de,B,null,he,we,C,w,N)}z>xe?ce($,he,we,!0,!1,ye):H(A,B,te,he,we,C,w,N,ye)},J=($,A,B,te,he,we,C,w,N)=>{let z=0;const xe=A.length;let ye=$.length-1,X=xe-1;for(;z<=ye&&z<=X;){const de=$[z],Oe=A[z]=N?Do(A[z]):Xn(A[z]);if(aa(de,Oe))y(de,Oe,B,null,he,we,C,w,N);else break;z++}for(;z<=ye&&z<=X;){const de=$[ye],Oe=A[X]=N?Do(A[X]):Xn(A[X]);if(aa(de,Oe))y(de,Oe,B,null,he,we,C,w,N);else break;ye--,X--}if(z>ye){if(z<=X){const de=X+1,Oe=de<xe?A[de].el:te;for(;z<=X;)y(null,A[z]=N?Do(A[z]):Xn(A[z]),B,Oe,he,we,C,w,N),z++}}else if(z>X)for(;z<=ye;)G($[z],he,we,!0),z++;else{const de=z,Oe=z,Pe=new Map;for(z=Oe;z<=X;z++){const Qt=A[z]=N?Do(A[z]):Xn(A[z]);Qt.key!=null&&Pe.set(Qt.key,z)}let Fe,Qe=0;const st=X-Oe+1;let yt=!1,Rt=0;const Wn=new Array(st);for(z=0;z<st;z++)Wn[z]=0;for(z=de;z<=ye;z++){const Qt=$[z];if(Qe>=st){G(Qt,he,we,!0);continue}let Jt;if(Qt.key!=null)Jt=Pe.get(Qt.key);else for(Fe=Oe;Fe<=X;Fe++)if(Wn[Fe-Oe]===0&&aa(Qt,A[Fe])){Jt=Fe;break}Jt===void 0?G(Qt,he,we,!0):(Wn[Jt-Oe]=z+1,Jt>=Rt?Rt=Jt:yt=!0,y(Qt,A[Jt],B,null,he,we,C,w,N),Qe++)}const Qo=yt?sv(Wn):ma;for(Fe=Qo.length-1,z=st-1;z>=0;z--){const Qt=Oe+z,Jt=A[Qt],Dn=A[Qt+1],ko=Qt+1<xe?Dn.el||Dn.placeholder:te;Wn[z]===0?y(null,Jt,B,ko,he,we,C,w,N):yt&&(Fe<0||z!==Qo[Fe]?le(Jt,B,ko,2):Fe--)}}},le=($,A,B,te,he=null)=>{const{el:we,type:C,transition:w,children:N,shapeFlag:z}=$;if(z&6){le($.component.subTree,A,B,te);return}if(z&128){$.suspense.move(A,B,te);return}if(z&64){C.move($,A,B,D);return}if(C===Me){n(we,A,B);for(let ye=0;ye<N.length;ye++)le(N[ye],A,B,te);n($.anchor,A,B);return}if(C===si){U($,A,B);return}if(te!==2&&z&1&&w)if(te===0)w.beforeEnter(we),n(we,A,B),gn(()=>w.enter(we),he);else{const{leave:ye,delayLeave:X,afterLeave:de}=w,Oe=()=>{$.ctx.isUnmounted?o(we):n(we,A,B)},Pe=()=>{we._isLeaving&&we[co](!0),ye(we,()=>{Oe(),de&&de()})};X?X(we,Oe,Pe):Pe()}else n(we,A,B)},G=($,A,B,te=!1,he=!1)=>{const{type:we,props:C,ref:w,children:N,dynamicChildren:z,shapeFlag:xe,patchFlag:ye,dirs:X,cacheIndex:de}=$;if(ye===-2&&(he=!1),w!=null&&(Yn(),ls(w,null,B,$,!0),Kn()),de!=null&&(A.renderCache[de]=void 0),xe&256){A.ctx.deactivate($);return}const Oe=xe&1&&X,Pe=!xa($);let Fe;if(Pe&&(Fe=C&&C.onVnodeBeforeUnmount)&&Zn(Fe,A,$),xe&6)be($.component,B,te);else{if(xe&128){$.suspense.unmount(B,te);return}Oe&&ea($,null,A,"beforeUnmount"),xe&64?$.type.remove($,A,B,D,te):z&&!z.hasOnce&&(we!==Me||ye>0&&ye&64)?ce(z,A,B,!1,!0):(we===Me&&ye&384||!he&&xe&16)&&ce(N,A,B),te&&ie($)}(Pe&&(Fe=C&&C.onVnodeUnmounted)||Oe)&&gn(()=>{Fe&&Zn(Fe,A,$),Oe&&ea($,null,A,"unmounted")},B)},ie=$=>{const{type:A,el:B,anchor:te,transition:he}=$;if(A===Me){oe(B,te);return}if(A===si){S($);return}const we=()=>{o(B),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if($.shapeFlag&1&&he&&!he.persisted){const{leave:C,delayLeave:w}=he,N=()=>C(B,we);w?w($.el,we,N):N()}else we()},oe=($,A)=>{let B;for(;$!==A;)B=m($),o($),$=B;o(A)},be=($,A,B)=>{const{bum:te,scope:he,job:we,subTree:C,um:w,m:N,a:z}=$;Jc(N),Jc(z),te&&Xs(te),he.stop(),we&&(we.flags|=8,G(C,$,A,B)),w&&gn(w,A),gn(()=>{$.isUnmounted=!0},A)},ce=($,A,B,te=!1,he=!1,we=0)=>{for(let C=we;C<$.length;C++)G($[C],A,B,te,he)},M=$=>{if($.shapeFlag&6)return M($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const A=m($.anchor||$.el),B=A&&A[pc];return B?m(B):A};let Q=!1;const se=($,A,B)=>{$==null?A._vnode&&G(A._vnode,null,null,!0):y(A._vnode||null,$,A,null,null,null,B),A._vnode=$,Q||(Q=!0,uc(),cc(),Q=!1)},D={p:y,um:G,m:le,r:ie,mt:Z,mc:H,pc:F,pbc:_e,n:M,o:e};return{render:se,hydrate:void 0,createApp:Qh(se)}}function oi({type:e,props:t},a){return a==="svg"&&e==="foreignObject"||a==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:a}function oa({effect:e,job:t},a){a?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function av(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ai(e,t,a=!1){const n=e.children,o=t.children;if(Ve(n)&&Ve(o))for(let s=0;s<n.length;s++){const l=n[s];let r=o[s];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[s]=Do(o[s]),r.el=l.el),!a&&r.patchFlag!==-2&&ai(l,r)),r.type===cs&&r.patchFlag!==-1&&(r.el=l.el),r.type===an&&!r.el&&(r.el=l.el)}}function sv(e){const t=e.slice(),a=[0];let n,o,s,l,r;const u=e.length;for(n=0;n<u;n++){const d=e[n];if(d!==0){if(o=a[a.length-1],e[o]<d){t[n]=o,a.push(n);continue}for(s=0,l=a.length-1;s<l;)r=s+l>>1,e[a[r]]<d?s=r+1:l=r;d<e[a[s]]&&(s>0&&(t[n]=a[s-1]),a[s]=n)}}for(s=a.length,l=a[s-1];s-- >0;)a[s]=l,l=t[l];return a}function Kc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Kc(t)}function Jc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const lv=Symbol.for("v-scx"),rv=()=>po(lv);function Xe(e,t,a){return Xc(e,t,a)}function Xc(e,t,a=Tt){const{immediate:n,deep:o,flush:s,once:l}=a,r=Wt({},a),u=t&&n||!t&&s!=="post";let d;if(ms){if(s==="sync"){const g=rv();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=Qn,g.resume=Qn,g.pause=Qn,g}}const c=sn;r.call=(g,v,y)=>Un(g,c,v,y);let f=!1;s==="post"?r.scheduler=g=>{gn(g,c&&c.suspense)}:s!=="sync"&&(f=!0,r.scheduler=(g,v)=>{v?g():qr(g)}),r.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const m=_h(e,t,r);return ms&&(d?d.push(m):u&&m()),m}function iv(e,t,a){const n=this.proxy,o=Ot(e)?e.includes(".")?Zc(n,e):()=>n[e]:e.bind(n,n);let s;qe(t)?s=t:(s=t.handler,a=t);const l=gs(this),r=Xc(o,s.bind(n),a);return l(),r}function Zc(e,t){const a=t.split(".");return()=>{let n=e;for(let o=0;o<a.length&&n;o++)n=n[a[o]];return n}}const uv=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${An(t)}Modifiers`]||e[`${$o(t)}Modifiers`];function cv(e,t,...a){if(e.isUnmounted)return;const n=e.vnode.props||Tt;let o=a;const s=t.startsWith("update:"),l=s&&uv(n,t.slice(7));l&&(l.trim&&(o=a.map(c=>Ot(c)?c.trim():c)),l.number&&(o=a.map(Zs)));let r,u=n[r=$r(t)]||n[r=$r(An(t))];!u&&s&&(u=n[r=$r($o(t))]),u&&Un(u,e,6,o);const d=n[r+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Un(d,e,6,o)}}const dv=new WeakMap;function ed(e,t,a=!1){const n=a?dv:t.emitsCache,o=n.get(e);if(o!==void 0)return o;const s=e.emits;let l={},r=!1;if(!qe(e)){const u=d=>{const c=ed(d,t,!0);c&&(r=!0,Wt(l,c))};!a&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!r?(St(e)&&n.set(e,null),null):(Ve(s)?s.forEach(u=>l[u]=null):Wt(l,s),St(e)&&n.set(e,l),l)}function xl(e,t){return!e||!Ys(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,$o(t))||mt(e,t))}function $M(){}function td(e){const{type:t,vnode:a,proxy:n,withProxy:o,propsOptions:[s],slots:l,attrs:r,emit:u,render:d,renderCache:c,props:f,data:m,setupState:g,ctx:v,inheritAttrs:y}=e,b=pl(e);let x,L;try{if(a.shapeFlag&4){const S=o||n,R=S;x=Xn(d.call(R,S,c,f,g,m,v)),L=r}else{const S=t;x=Xn(S.length>1?S(f,{attrs:r,slots:l,emit:u}):S(f,null)),L=t.props?r:fv(r)}}catch(S){ds.length=0,dl(S,e,1),x=We(an)}let U=x;if(L&&y!==!1){const S=Object.keys(L),{shapeFlag:R}=U;S.length&&R&7&&(s&&S.some(Cr)&&(L=pv(L,s)),U=No(U,L,!1,!0))}return a.dirs&&(U=No(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(a.dirs):a.dirs),a.transition&&ta(U,a.transition),x=U,pl(b),x}const fv=e=>{let t;for(const a in e)(a==="class"||a==="style"||Ys(a))&&((t||(t={}))[a]=e[a]);return t},pv=(e,t)=>{const a={};for(const n in e)(!Cr(n)||!(n.slice(9)in t))&&(a[n]=e[n]);return a};function gv(e,t,a){const{props:n,children:o,component:s}=e,{props:l,children:r,patchFlag:u}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(a&&u>=0){if(u&1024)return!0;if(u&16)return n?nd(n,l,d):!!l;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const m=c[f];if(l[m]!==n[m]&&!xl(d,m))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:n===l?!1:n?l?nd(n,l,d):!0:!!l;return!1}function nd(e,t,a){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(t[s]!==e[s]&&!xl(a,s))return!0}return!1}function mv({vnode:e,parent:t},a){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=a,t=t.parent;else break}}const od=e=>e.__isSuspense;function hv(e,t){t&&t.pendingBranch?Ve(e)?t.effects.push(...e):t.effects.push(e):kh(e)}const Me=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),si=Symbol.for("v-stc"),ds=[];let kn=null;function T(e=!1){ds.push(kn=e?null:[])}function vv(){ds.pop(),kn=ds[ds.length-1]||null}let fs=1;function Tl(e,t=!1){fs+=e,e<0&&kn&&t&&(kn.hasOnce=!0)}function ad(e){return e.dynamicChildren=fs>0?kn||ma:null,vv(),fs>0&&kn&&kn.push(e),e}function k(e,t,a,n,o,s){return ad(i(e,t,a,n,o,s,!0))}function bt(e,t,a,n,o){return ad(We(e,t,a,n,o,!0))}function ps(e){return e?e.__v_isVNode===!0:!1}function aa(e,t){return e.type===t.type&&e.key===t.key}const sd=({key:e})=>e??null,Sl=({ref:e,ref_key:t,ref_for:a})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||Nt(e)||qe(e)?{i:en,r:e,k:t,f:!!a}:e:null);function i(e,t=null,a=null,n=0,o=null,s=e===Me?0:1,l=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sd(t),ref:t&&Sl(t),scopeId:fc,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:en};return r?(li(u,a),s&128&&e.normalize(u)):a&&(u.shapeFlag|=Ot(a)?8:16),fs>0&&!l&&kn&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&kn.push(u),u}const We=_v;function _v(e,t=null,a=null,n=0,o=null,s=!1){if((!e||e===Bh)&&(e=an),ps(e)){const r=No(e,t,!0);return a&&li(r,a),fs>0&&!s&&kn&&(r.shapeFlag&6?kn[kn.indexOf(e)]=r:kn.push(r)),r.patchFlag=-2,r}if(Av(e)&&(e=e.__vccOpts),t){t=yv(t);let{class:r,style:u}=t;r&&!Ot(r)&&(t.class=Le(r)),St(u)&&(jr(u)&&!Ve(u)&&(u=Wt({},u)),t.style=dt(u))}const l=Ot(e)?1:od(e)?128:gc(e)?64:St(e)?4:qe(e)?2:0;return i(e,t,a,n,o,l,s,!0)}function yv(e){return e?jr(e)||jc(e)?Wt({},e):e:null}function No(e,t,a=!1,n=!1){const{props:o,ref:s,patchFlag:l,children:r,transition:u}=e,d=t?bv(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&sd(d),ref:t&&t.ref?a&&s?Ve(s)?s.concat(Sl(t)):[s,Sl(t)]:Sl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&No(e.ssContent),ssFallback:e.ssFallback&&No(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&ta(c,u.clone(c)),c}function ze(e=" ",t=0){return We(cs,null,e,t)}function fe(e="",t=!1){return t?(T(),bt(an,null,e)):We(an,null,e)}function Xn(e){return e==null||typeof e=="boolean"?We(an):Ve(e)?We(Me,null,e.slice()):ps(e)?Do(e):We(cs,null,String(e))}function Do(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:No(e)}function li(e,t){let a=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ve(t))a=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),li(e,o()),o._c&&(o._d=!0));return}else{a=32;const o=t._;!o&&!jc(t)?t._ctx=en:o===3&&en&&(en.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:en},a=32):(t=String(t),n&64?(a=16,t=[ze(t)]):a=8);e.children=t,e.shapeFlag|=a}function bv(...e){const t={};for(let a=0;a<e.length;a++){const n=e[a];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Le([t.class,n.class]));else if(o==="style")t.style=dt([t.style,n.style]);else if(Ys(o)){const s=t[o],l=n[o];l&&s!==l&&!(Ve(s)&&s.includes(l))&&(t[o]=s?[].concat(s,l):l)}else o!==""&&(t[o]=n[o])}return t}function Zn(e,t,a,n=null){Un(e,t,7,[a,n])}const wv=Uc();let xv=0;function Tv(e,t,a){const n=e.type,o=(t?t.appContext:e.appContext)||wv,s={uid:xv++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zc(n,o),emitsOptions:ed(n,o),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:n.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=cv.bind(null,s),e.ce&&e.ce(s),s}let sn=null;const go=()=>sn||en;let kl,ri;{const e=el(),t=(a,n)=>{let o;return(o=e[a])||(o=e[a]=[]),o.push(n),s=>{o.length>1?o.forEach(l=>l(s)):o[0](s)}};kl=t("__VUE_INSTANCE_SETTERS__",a=>sn=a),ri=t("__VUE_SSR_SETTERS__",a=>ms=a)}const gs=e=>{const t=sn;return kl(e),e.scope.on(),()=>{e.scope.off(),kl(t)}},ld=()=>{sn&&sn.scope.off(),kl(null)};function rd(e){return e.vnode.shapeFlag&4}let ms=!1;function Sv(e,t=!1,a=!1){t&&ri(t);const{props:n,children:o}=e.vnode,s=rd(e);Kh(e,n,s,t),ev(e,o,a||t);const l=s?kv(e,t):void 0;return t&&ri(!1),l}function kv(e,t){const a=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hh);const{setup:n}=a;if(n){Yn();const o=e.setupContext=n.length>1?Ev(e):null,s=gs(e),l=ya(n,e,0,[e.props,o]),r=$u(l);if(Kn(),s(),(r||e.sp)&&!xa(e)&&Ec(e),r){if(l.then(ld,ld),t)return l.then(u=>{id(e,u)}).catch(u=>{dl(u,e,0)});e.asyncDep=l}else id(e,l)}else ud(e)}function id(e,t,a){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:St(t)&&(e.setupState=sc(t)),ud(e)}function ud(e,t,a){const n=e.type;e.render||(e.render=n.render||Qn);{const o=gs(e);Yn();try{Vh(e)}finally{Kn(),o()}}}const Cv={get(e,t){return on(e,"get",""),e[t]}};function Ev(e){const t=a=>{e.exposed=a||{}};return{attrs:new Proxy(e.attrs,Cv),slots:e.slots,emit:e.emit,expose:t}}function Cl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sc(Wr(e.exposed)),{get(t,a){if(a in t)return t[a];if(a in is)return is[a](e)},has(t,a){return a in t||a in is}})):e.proxy}const Lv=/(?:^|[-_])\w/g,$v=e=>e.replace(Lv,t=>t.toUpperCase()).replace(/[-_]/g,"");function cd(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function dd(e,t,a=!1){let n=cd(t);if(!n&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(n=o[1])}if(!n&&e&&e.parent){const o=s=>{for(const l in s)if(s[l]===t)return l};n=o(e.components||e.parent.type.components)||o(e.appContext.components)}return n?$v(n):a?"App":"Anonymous"}function Av(e){return qe(e)&&"__vccOpts"in e}const et=(e,t)=>hh(e,t,ms);function kt(e,t,a){const n=(s,l,r)=>{Tl(-1);try{return We(s,l,r)}finally{Tl(1)}},o=arguments.length;return o===2?St(t)&&!Ve(t)?ps(t)?n(e,null,[t]):n(e,t):n(e,null,t):(o>3?a=Array.prototype.slice.call(arguments,2):o===3&&ps(a)&&(a=[a]),n(e,t,a))}const Iv="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const fd=typeof window<"u"&&window.trustedTypes;if(fd)try{ii=fd.createPolicy("vue",{createHTML:e=>e})}catch{}const pd=ii?e=>ii.createHTML(e):e=>e,Mv="http://www.w3.org/2000/svg",Rv="http://www.w3.org/1998/Math/MathML",mo=typeof document<"u"?document:null,gd=mo&&mo.createElement("template"),Ov={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,n)=>{const o=t==="svg"?mo.createElementNS(Mv,e):t==="mathml"?mo.createElementNS(Rv,e):a?mo.createElement(e,{is:a}):mo.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>mo.createTextNode(e),createComment:e=>mo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,n,o,s){const l=a?a.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),a),!(o===s||!(o=o.nextSibling)););else{gd.innerHTML=pd(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const r=gd.content;if(n==="svg"||n==="mathml"){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,a)}return[l?l.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}},Po="transition",hs="animation",Ta=Symbol("_vtc"),md={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hd=Wt({},xc,md),El=(e=>(e.displayName="Transition",e.props=hd,e))((e,{slots:t})=>kt(Lh,_d(e),t)),sa=(e,t=[])=>{Ve(e)?e.forEach(a=>a(...t)):e&&e(...t)},vd=e=>e?Ve(e)?e.some(t=>t.length>1):e.length>1:!1;function _d(e){const t={};for(const O in e)O in md||(t[O]=e[O]);if(e.css===!1)return t;const{name:a="v",type:n,duration:o,enterFromClass:s=`${a}-enter-from`,enterActiveClass:l=`${a}-enter-active`,enterToClass:r=`${a}-enter-to`,appearFromClass:u=s,appearActiveClass:d=l,appearToClass:c=r,leaveFromClass:f=`${a}-leave-from`,leaveActiveClass:m=`${a}-leave-active`,leaveToClass:g=`${a}-leave-to`}=e,v=Nv(o),y=v&&v[0],b=v&&v[1],{onBeforeEnter:x,onEnter:L,onEnterCancelled:U,onLeave:S,onLeaveCancelled:R,onBeforeAppear:V=x,onAppear:j=L,onAppearCancelled:H=U}=t,q=(O,Y,Z,W)=>{O._enterCancelled=W,Fo(O,Y?c:r),Fo(O,Y?d:l),Z&&Z()},_e=(O,Y)=>{O._isLeaving=!1,Fo(O,f),Fo(O,g),Fo(O,m),Y&&Y()},re=O=>(Y,Z)=>{const W=O?j:L,ne=()=>q(Y,O,Z);sa(W,[Y,ne]),yd(()=>{Fo(Y,O?u:s),eo(Y,O?c:r),vd(W)||bd(Y,n,y,ne)})};return Wt(t,{onBeforeEnter(O){sa(x,[O]),eo(O,s),eo(O,l)},onBeforeAppear(O){sa(V,[O]),eo(O,u),eo(O,d)},onEnter:re(!1),onAppear:re(!0),onLeave(O,Y){O._isLeaving=!0;const Z=()=>_e(O,Y);eo(O,f),O._enterCancelled?(eo(O,m),ci()):(ci(),eo(O,m)),yd(()=>{O._isLeaving&&(Fo(O,f),eo(O,g),vd(S)||bd(O,n,b,Z))}),sa(S,[O,Z])},onEnterCancelled(O){q(O,!1,void 0,!0),sa(U,[O])},onAppearCancelled(O){q(O,!0,void 0,!0),sa(H,[O])},onLeaveCancelled(O){_e(O),sa(R,[O])}})}function Nv(e){if(e==null)return null;if(St(e))return[ui(e.enter),ui(e.leave)];{const t=ui(e);return[t,t]}}function ui(e){return Nm(e)}function eo(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e[Ta]||(e[Ta]=new Set)).add(t)}function Fo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const a=e[Ta];a&&(a.delete(t),a.size||(e[Ta]=void 0))}function yd(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Dv=0;function bd(e,t,a,n){const o=e._endId=++Dv,s=()=>{o===e._endId&&n()};if(a!=null)return setTimeout(s,a);const{type:l,timeout:r,propCount:u}=wd(e,t);if(!l)return n();const d=l+"end";let c=0;const f=()=>{e.removeEventListener(d,m),s()},m=g=>{g.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},r+1),e.addEventListener(d,m)}function wd(e,t){const a=window.getComputedStyle(e),n=v=>(a[v]||"").split(", "),o=n(`${Po}Delay`),s=n(`${Po}Duration`),l=xd(o,s),r=n(`${hs}Delay`),u=n(`${hs}Duration`),d=xd(r,u);let c=null,f=0,m=0;t===Po?l>0&&(c=Po,f=l,m=s.length):t===hs?d>0&&(c=hs,f=d,m=u.length):(f=Math.max(l,d),c=f>0?l>d?Po:hs:null,m=c?c===Po?s.length:u.length:0);const g=c===Po&&/\b(?:transform|all)(?:,|$)/.test(n(`${Po}Property`).toString());return{type:c,timeout:f,propCount:m,hasTransform:g}}function xd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((a,n)=>Td(a)+Td(e[n])))}function Td(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ci(){return document.body.offsetHeight}function Pv(e,t,a){const n=e[Ta];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}const Ll=Symbol("_vod"),Sd=Symbol("_vsh"),vs={name:"show",beforeMount(e,{value:t},{transition:a}){e[Ll]=e.style.display==="none"?"":e.style.display,a&&t?a.beforeEnter(e):_s(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:n}){!t!=!a&&(n?t?(n.beforeEnter(e),_s(e,!0),n.enter(e)):n.leave(e,()=>{_s(e,!1)}):_s(e,t))},beforeUnmount(e,{value:t}){_s(e,t)}};function _s(e,t){e.style.display=t?e[Ll]:"none",e[Sd]=!t}const Fv=Symbol(""),Bv=/(?:^|;)\s*display\s*:/;function Uv(e,t,a){const n=e.style,o=Ot(a);let s=!1;if(a&&!o){if(t)if(Ot(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();a[r]==null&&$l(n,r,"")}else for(const l in t)a[l]==null&&$l(n,l,"");for(const l in a)l==="display"&&(s=!0),$l(n,l,a[l])}else if(o){if(t!==a){const l=n[Fv];l&&(a+=";"+l),n.cssText=a,s=Bv.test(a)}}else t&&e.removeAttribute("style");Ll in e&&(e[Ll]=s?n.display:"",e[Sd]&&(n.display="none"))}const kd=/\s*!important$/;function $l(e,t,a){if(Ve(a))a.forEach(n=>$l(e,t,n));else if(a==null&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const n=Hv(e,t);kd.test(a)?e.setProperty($o(n),a.replace(kd,""),"important"):e[n]=a}}const Cd=["Webkit","Moz","ms"],di={};function Hv(e,t){const a=di[t];if(a)return a;let n=An(t);if(n!=="filter"&&n in e)return di[t]=n;n=Js(n);for(let o=0;o<Cd.length;o++){const s=Cd[o]+n;if(s in e)return di[t]=s}return t}const Ed="http://www.w3.org/1999/xlink";function Ld(e,t,a,n,o,s=Um(t)){n&&t.startsWith("xlink:")?a==null?e.removeAttributeNS(Ed,t.slice(6,t.length)):e.setAttributeNS(Ed,t,a):a==null||s&&!Ou(a)?e.removeAttribute(t):e.setAttribute(t,s?"":Fn(a)?String(a):a)}function $d(e,t,a,n,o){if(t==="innerHTML"||t==="textContent"){a!=null&&(e[t]=t==="innerHTML"?pd(a):a);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const r=s==="OPTION"?e.getAttribute("value")||"":e.value,u=a==null?e.type==="checkbox"?"on":"":String(a);(r!==u||!("_value"in e))&&(e.value=u),a==null&&e.removeAttribute(t),e._value=a;return}let l=!1;if(a===""||a==null){const r=typeof e[t];r==="boolean"?a=Ou(a):a==null&&r==="string"?(a="",l=!0):r==="number"&&(a=0,l=!0)}try{e[t]=a}catch{}l&&e.removeAttribute(o||t)}function ho(e,t,a,n){e.addEventListener(t,a,n)}function Vv(e,t,a,n){e.removeEventListener(t,a,n)}const Ad=Symbol("_vei");function jv(e,t,a,n,o=null){const s=e[Ad]||(e[Ad]={}),l=s[t];if(n&&l)l.value=n;else{const[r,u]=Wv(t);if(n){const d=s[t]=Gv(n,o);ho(e,r,d,u)}else l&&(Vv(e,r,l,u),s[t]=void 0)}}const Id=/(?:Once|Passive|Capture)$/;function Wv(e){let t;if(Id.test(e)){t={};let n;for(;n=e.match(Id);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$o(e.slice(2)),t]}let fi=0;const zv=Promise.resolve(),qv=()=>fi||(zv.then(()=>fi=0),fi=Date.now());function Gv(e,t){const a=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=a.attached)return;Un(Qv(n,a.value),t,5,[n])};return a.value=e,a.attached=qv(),a}function Qv(e,t){if(Ve(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Md=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Yv=(e,t,a,n,o,s)=>{const l=o==="svg";t==="class"?Pv(e,n,l):t==="style"?Uv(e,a,n):Ys(t)?Cr(t)||jv(e,t,a,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kv(e,t,n,l))?($d(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ld(e,t,n,l,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ot(n))?$d(e,An(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ld(e,t,n,l))};function Kv(e,t,a,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Md(t)&&qe(a));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Md(t)&&Ot(a)?!1:t in e}const Rd=new WeakMap,Od=new WeakMap,Al=Symbol("_moveCb"),Nd=Symbol("_enterCb"),Jv=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:Wt({},hd,{tag:String,moveClass:String}),setup(e,{slots:t}){const a=go(),n=wc();let o,s;return Ic(()=>{if(!o.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!t1(o[0].el,a.vnode.el,l)){o=[];return}o.forEach(Xv),o.forEach(Zv);const r=o.filter(e1);ci(),r.forEach(u=>{const d=u.el,c=d.style;eo(d,l),c.transform=c.webkitTransform=c.transitionDuration="";const f=d[Al]=m=>{m&&m.target!==d||(!m||m.propertyName.endsWith("transform"))&&(d.removeEventListener("transitionend",f),d[Al]=null,Fo(d,l))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const l=at(e),r=_d(l);let u=l.tag||Me;if(o=[],s)for(let d=0;d<s.length;d++){const c=s[d];c.el&&c.el instanceof Element&&(o.push(c),ta(c,ss(c,r,n,a)),Rd.set(c,c.el.getBoundingClientRect()))}s=t.default?Yr(t.default()):[];for(let d=0;d<s.length;d++){const c=s[d];c.key!=null&&ta(c,ss(c,r,n,a))}return We(u,null,s)}}});function Xv(e){const t=e.el;t[Al]&&t[Al](),t[Nd]&&t[Nd]()}function Zv(e){Od.set(e,e.el.getBoundingClientRect())}function e1(e){const t=Rd.get(e),a=Od.get(e),n=t.left-a.left,o=t.top-a.top;if(n||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${o}px)`,s.transitionDuration="0s",e}}function t1(e,t,a){const n=e.cloneNode(),o=e[Ta];o&&o.forEach(r=>{r.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),a.split(/\s+/).forEach(r=>r&&n.classList.add(r)),n.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(n);const{hasTransform:l}=wd(n);return s.removeChild(n),l}const Bo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ve(t)?a=>Xs(t,a):t};function n1(e){e.target.composing=!0}function Dd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const On=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:a,number:n}},o){e[On]=Bo(o);const s=n||o.props&&o.props.type==="number";ho(e,t?"change":"input",l=>{if(l.target.composing)return;let r=e.value;a&&(r=r.trim()),s&&(r=Zs(r)),e[On](r)}),a&&ho(e,"change",()=>{e.value=e.value.trim()}),t||(ho(e,"compositionstart",n1),ho(e,"compositionend",Dd),ho(e,"change",Dd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:a,modifiers:{lazy:n,trim:o,number:s}},l){if(e[On]=Bo(l),e.composing)return;const r=(s||e.type==="number")&&!/^0\d/.test(e.value)?Zs(e.value):e.value,u=t??"";r!==u&&(document.activeElement===e&&e.type!=="range"&&(n&&t===a||o&&e.value.trim()===u)||(e.value=u))}},$t={deep:!0,created(e,t,a){e[On]=Bo(a),ho(e,"change",()=>{const n=e._modelValue,o=Sa(e),s=e.checked,l=e[On];if(Ve(n)){const r=Ar(n,o),u=r!==-1;if(s&&!u)l(n.concat(o));else if(!s&&u){const d=[...n];d.splice(r,1),l(d)}}else if(va(n)){const r=new Set(n);s?r.add(o):r.delete(o),l(r)}else l(Bd(e,s))})},mounted:Pd,beforeUpdate(e,t,a){e[On]=Bo(a),Pd(e,t,a)}};function Pd(e,{value:t,oldValue:a},n){e._modelValue=t;let o;if(Ve(t))o=Ar(t,n.props.value)>-1;else if(va(t))o=t.has(n.props.value);else{if(t===a)return;o=Jo(t,Bd(e,!0))}e.checked!==o&&(e.checked=o)}const vo={created(e,{value:t},a){e.checked=Jo(t,a.props.value),e[On]=Bo(a),ho(e,"change",()=>{e[On](Sa(e))})},beforeUpdate(e,{value:t,oldValue:a},n){e[On]=Bo(n),t!==a&&(e.checked=Jo(t,n.props.value))}},zt={deep:!0,created(e,{value:t,modifiers:{number:a}},n){const o=va(t);ho(e,"change",()=>{const s=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>a?Zs(Sa(l)):Sa(l));e[On](e.multiple?o?new Set(s):s:s[0]),e._assigning=!0,Ge(()=>{e._assigning=!1})}),e[On]=Bo(n)},mounted(e,{value:t}){Fd(e,t)},beforeUpdate(e,t,a){e[On]=Bo(a)},updated(e,{value:t}){e._assigning||Fd(e,t)}};function Fd(e,t){const a=e.multiple,n=Ve(t);if(!(a&&!n&&!va(t))){for(let o=0,s=e.options.length;o<s;o++){const l=e.options[o],r=Sa(l);if(a)if(n){const u=typeof r;u==="string"||u==="number"?l.selected=t.some(d=>String(d)===String(r)):l.selected=Ar(t,r)>-1}else l.selected=t.has(r);else if(Jo(Sa(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!a&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Sa(e){return"_value"in e?e._value:e.value}function Bd(e,t){const a=t?"_trueValue":"_falseValue";return a in e?e[a]:t}const Ud={created(e,t,a){Il(e,t,a,null,"created")},mounted(e,t,a){Il(e,t,a,null,"mounted")},beforeUpdate(e,t,a,n){Il(e,t,a,n,"beforeUpdate")},updated(e,t,a,n){Il(e,t,a,n,"updated")}};function o1(e,t){switch(e){case"SELECT":return zt;case"TEXTAREA":return Ae;default:switch(t){case"checkbox":return $t;case"radio":return vo;default:return Ae}}}function Il(e,t,a,n,o){const l=o1(e.tagName,a.props&&a.props.type)[o];l&&l(e,t,a,n)}const a1=["ctrl","shift","alt","meta"],s1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>a1.some(a=>e[`${a}Key`]&&!t.includes(a))},Je=(e,t)=>{const a=e._withMods||(e._withMods={}),n=t.join(".");return a[n]||(a[n]=((o,...s)=>{for(let l=0;l<t.length;l++){const r=s1[t[l]];if(r&&r(o,t))return}return e(o,...s)}))},l1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ln=(e,t)=>{const a=e._withKeys||(e._withKeys={}),n=t.join(".");return a[n]||(a[n]=(o=>{if(!("key"in o))return;const s=$o(o.key);if(t.some(l=>l===s||l1[l]===s))return e(o)}))},r1=Wt({patchProp:Yv},Ov);let Hd;function Vd(){return Hd||(Hd=nv(r1))}const jd=((...e)=>{Vd().render(...e)}),i1=((...e)=>{const t=Vd().createApp(...e),{mount:a}=t;return t.mount=n=>{const o=c1(n);if(!o)return;const s=t._component;!qe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=a(o,!1,u1(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t});function u1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function c1(e){return Ot(e)?document.querySelector(e):e}/*!
  * shared v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function d1(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Ml=typeof window<"u",Uo=(e,t=!1)=>t?Symbol.for(e):Symbol(e),f1=(e,t,a)=>p1({l:e,k:t,s:a}),p1=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ht=e=>typeof e=="number"&&isFinite(e),g1=e=>pi(e)==="[object Date]",ka=e=>pi(e)==="[object RegExp]",Rl=e=>tt(e)&&Object.keys(e).length===0,qt=Object.assign,m1=Object.create,wt=(e=null)=>m1(e);let Wd;const la=()=>Wd||(Wd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:wt());function zd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function qd(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h1(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,o,s)=>`${o}="${qd(s)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,o,s)=>`${o}='${qd(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{e=e.replace(n,"$1javascript&#58;")}),e}const v1=Object.prototype.hasOwnProperty;function Hn(e,t){return v1.call(e,t)}const Dt=Array.isArray,At=e=>typeof e=="function",De=e=>typeof e=="string",ct=e=>typeof e=="boolean",ft=e=>e!==null&&typeof e=="object",_1=e=>ft(e)&&At(e.then)&&At(e.catch),Gd=Object.prototype.toString,pi=e=>Gd.call(e),tt=e=>pi(e)==="[object Object]",y1=e=>e==null?"":Dt(e)||tt(e)&&e.toString===Gd?JSON.stringify(e,null,2):String(e);function gi(e,t=""){return e.reduce((a,n,o)=>o===0?a+n:a+t+n,"")}const Ol=e=>!ft(e)||Dt(e);function Nl(e,t){if(Ol(e)||Ol(t))throw new Error("Invalid value");const a=[{src:e,des:t}];for(;a.length;){const{src:n,des:o}=a.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(ft(n[s])&&!ft(o[s])&&(o[s]=Array.isArray(n[s])?[]:wt()),Ol(o[s])||Ol(n[s])?o[s]=n[s]:a.push({src:n[s],des:o[s]}))})}}/*!
  * message-compiler v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function b1(e,t,a){return{line:e,column:t,offset:a}}function mi(e,t,a){return{start:e,end:t}}const ht={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},w1=17;function Dl(e,t,a={}){const{domain:n,messages:o,args:s}=a,l=e,r=new SyntaxError(String(l));return r.code=e,t&&(r.location=t),r.domain=n,r}function x1(e){throw e}const to=" ",T1="\r",rn=`
`,S1="\u2028",k1="\u2029";function C1(e){const t=e;let a=0,n=1,o=1,s=0;const l=j=>t[j]===T1&&t[j+1]===rn,r=j=>t[j]===rn,u=j=>t[j]===k1,d=j=>t[j]===S1,c=j=>l(j)||r(j)||u(j)||d(j),f=()=>a,m=()=>n,g=()=>o,v=()=>s,y=j=>l(j)||u(j)||d(j)?rn:t[j],b=()=>y(a),x=()=>y(a+s);function L(){return s=0,c(a)&&(n++,o=0),l(a)&&a++,a++,o++,t[a]}function U(){return l(a+s)&&s++,s++,t[a+s]}function S(){a=0,n=1,o=1,s=0}function R(j=0){s=j}function V(){const j=a+s;for(;j!==a;)L();s=0}return{index:f,line:m,column:g,peekOffset:v,charAt:y,currentChar:b,currentPeek:x,next:L,peek:U,reset:S,resetPeek:R,skipToPeek:V}}const _o=void 0,E1=".",Qd="'",L1="tokenizer";function $1(e,t={}){const a=t.location!==!1,n=C1(e),o=()=>n.index(),s=()=>b1(n.line(),n.column(),n.index()),l=s(),r=o(),u={currentType:13,offset:r,startLoc:l,endLoc:l,lastType:13,lastOffset:r,lastStartLoc:l,lastEndLoc:l,braceNest:0,inLinked:!1,text:""},d=()=>u,{onError:c}=t;function f(C,w,N,...z){const xe=d();if(w.column+=N,w.offset+=N,c){const ye=a?mi(xe.startLoc,w):null,X=Dl(C,ye,{domain:L1,args:z});c(X)}}function m(C,w,N){C.endLoc=s(),C.currentType=w;const z={type:w};return a&&(z.loc=mi(C.startLoc,C.endLoc)),N!=null&&(z.value=N),z}const g=C=>m(C,13);function v(C,w){return C.currentChar()===w?(C.next(),w):(f(ht.EXPECTED_TOKEN,s(),0,w),"")}function y(C){let w="";for(;C.currentPeek()===to||C.currentPeek()===rn;)w+=C.currentPeek(),C.peek();return w}function b(C){const w=y(C);return C.skipToPeek(),w}function x(C){if(C===_o)return!1;const w=C.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w===95}function L(C){if(C===_o)return!1;const w=C.charCodeAt(0);return w>=48&&w<=57}function U(C,w){const{currentType:N}=w;if(N!==2)return!1;y(C);const z=x(C.currentPeek());return C.resetPeek(),z}function S(C,w){const{currentType:N}=w;if(N!==2)return!1;y(C);const z=C.currentPeek()==="-"?C.peek():C.currentPeek(),xe=L(z);return C.resetPeek(),xe}function R(C,w){const{currentType:N}=w;if(N!==2)return!1;y(C);const z=C.currentPeek()===Qd;return C.resetPeek(),z}function V(C,w){const{currentType:N}=w;if(N!==7)return!1;y(C);const z=C.currentPeek()===".";return C.resetPeek(),z}function j(C,w){const{currentType:N}=w;if(N!==8)return!1;y(C);const z=x(C.currentPeek());return C.resetPeek(),z}function H(C,w){const{currentType:N}=w;if(!(N===7||N===11))return!1;y(C);const z=C.currentPeek()===":";return C.resetPeek(),z}function q(C,w){const{currentType:N}=w;if(N!==9)return!1;const z=()=>{const ye=C.currentPeek();return ye==="{"?x(C.peek()):ye==="@"||ye==="|"||ye===":"||ye==="."||ye===to||!ye?!1:ye===rn?(C.peek(),z()):re(C,!1)},xe=z();return C.resetPeek(),xe}function _e(C){y(C);const w=C.currentPeek()==="|";return C.resetPeek(),w}function re(C,w=!0){const N=(xe=!1,ye="")=>{const X=C.currentPeek();return X==="{"||X==="@"||!X?xe:X==="|"?!(ye===to||ye===rn):X===to?(C.peek(),N(!0,to)):X===rn?(C.peek(),N(!0,rn)):!0},z=N();return w&&C.resetPeek(),z}function O(C,w){const N=C.currentChar();return N===_o?_o:w(N)?(C.next(),N):null}function Y(C){const w=C.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36}function Z(C){return O(C,Y)}function W(C){const w=C.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36||w===45}function ne(C){return O(C,W)}function ae(C){const w=C.charCodeAt(0);return w>=48&&w<=57}function F(C){return O(C,ae)}function P(C){const w=C.charCodeAt(0);return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function J(C){return O(C,P)}function le(C){let w="",N="";for(;w=F(C);)N+=w;return N}function G(C){let w="";for(;;){const N=C.currentChar();if(N==="{"||N==="}"||N==="@"||N==="|"||!N)break;if(N===to||N===rn)if(re(C))w+=N,C.next();else{if(_e(C))break;w+=N,C.next()}else w+=N,C.next()}return w}function ie(C){b(C);let w="",N="";for(;w=ne(C);)N+=w;const z=C.currentChar();if(z&&z!=="}"&&z!==_o&&z!==to&&z!==rn&&z!==""){const xe=D(C);return f(ht.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,N+xe),N+xe}return C.currentChar()===_o&&f(ht.UNTERMINATED_CLOSING_BRACE,s(),0),N}function oe(C){b(C);let w="";return C.currentChar()==="-"?(C.next(),w+=`-${le(C)}`):w+=le(C),C.currentChar()===_o&&f(ht.UNTERMINATED_CLOSING_BRACE,s(),0),w}function be(C){return C!==Qd&&C!==rn}function ce(C){b(C),v(C,"'");let w="",N="";for(;w=O(C,be);)w==="\\"?N+=M(C):N+=w;const z=C.currentChar();return z===rn||z===_o?(f(ht.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),z===rn&&(C.next(),v(C,"'")),N):(v(C,"'"),N)}function M(C){const w=C.currentChar();switch(w){case"\\":case"'":return C.next(),`\\${w}`;case"u":return Q(C,w,4);case"U":return Q(C,w,6);default:return f(ht.UNKNOWN_ESCAPE_SEQUENCE,s(),0,w),""}}function Q(C,w,N){v(C,w);let z="";for(let xe=0;xe<N;xe++){const ye=J(C);if(!ye){f(ht.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${w}${z}${C.currentChar()}`);break}z+=ye}return`\\${w}${z}`}function se(C){return C!=="{"&&C!=="}"&&C!==to&&C!==rn}function D(C){b(C);let w="",N="";for(;w=O(C,se);)N+=w;return N}function ee(C){let w="",N="";for(;w=Z(C);)N+=w;return N}function $(C){const w=N=>{const z=C.currentChar();return z==="{"||z==="@"||z==="|"||z==="("||z===")"||!z||z===to?N:(N+=z,C.next(),w(N))};return w("")}function A(C){b(C);const w=v(C,"|");return b(C),w}function B(C,w){let N=null;switch(C.currentChar()){case"{":return w.braceNest>=1&&f(ht.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),C.next(),N=m(w,2,"{"),b(C),w.braceNest++,N;case"}":return w.braceNest>0&&w.currentType===2&&f(ht.EMPTY_PLACEHOLDER,s(),0),C.next(),N=m(w,3,"}"),w.braceNest--,w.braceNest>0&&b(C),w.inLinked&&w.braceNest===0&&(w.inLinked=!1),N;case"@":return w.braceNest>0&&f(ht.UNTERMINATED_CLOSING_BRACE,s(),0),N=te(C,w)||g(w),w.braceNest=0,N;default:{let xe=!0,ye=!0,X=!0;if(_e(C))return w.braceNest>0&&f(ht.UNTERMINATED_CLOSING_BRACE,s(),0),N=m(w,1,A(C)),w.braceNest=0,w.inLinked=!1,N;if(w.braceNest>0&&(w.currentType===4||w.currentType===5||w.currentType===6))return f(ht.UNTERMINATED_CLOSING_BRACE,s(),0),w.braceNest=0,he(C,w);if(xe=U(C,w))return N=m(w,4,ie(C)),b(C),N;if(ye=S(C,w))return N=m(w,5,oe(C)),b(C),N;if(X=R(C,w))return N=m(w,6,ce(C)),b(C),N;if(!xe&&!ye&&!X)return N=m(w,12,D(C)),f(ht.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,N.value),b(C),N;break}}return N}function te(C,w){const{currentType:N}=w;let z=null;const xe=C.currentChar();switch((N===7||N===8||N===11||N===9)&&(xe===rn||xe===to)&&f(ht.INVALID_LINKED_FORMAT,s(),0),xe){case"@":return C.next(),z=m(w,7,"@"),w.inLinked=!0,z;case".":return b(C),C.next(),m(w,8,".");case":":return b(C),C.next(),m(w,9,":");default:return _e(C)?(z=m(w,1,A(C)),w.braceNest=0,w.inLinked=!1,z):V(C,w)||H(C,w)?(b(C),te(C,w)):j(C,w)?(b(C),m(w,11,ee(C))):q(C,w)?(b(C),xe==="{"?B(C,w)||z:m(w,10,$(C))):(N===7&&f(ht.INVALID_LINKED_FORMAT,s(),0),w.braceNest=0,w.inLinked=!1,he(C,w))}}function he(C,w){let N={type:13};if(w.braceNest>0)return B(C,w)||g(w);if(w.inLinked)return te(C,w)||g(w);switch(C.currentChar()){case"{":return B(C,w)||g(w);case"}":return f(ht.UNBALANCED_CLOSING_BRACE,s(),0),C.next(),m(w,3,"}");case"@":return te(C,w)||g(w);default:{if(_e(C))return N=m(w,1,A(C)),w.braceNest=0,w.inLinked=!1,N;if(re(C))return m(w,0,G(C));break}}return N}function we(){const{currentType:C,offset:w,startLoc:N,endLoc:z}=u;return u.lastType=C,u.lastOffset=w,u.lastStartLoc=N,u.lastEndLoc=z,u.offset=o(),u.startLoc=s(),n.currentChar()===_o?m(u,13):he(n,u)}return{nextToken:we,currentOffset:o,currentPosition:s,context:d}}const A1="parser",I1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function M1(e,t,a){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||a,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function R1(e={}){const t=e.location!==!1,{onError:a}=e;function n(x,L,U,S,...R){const V=x.currentPosition();if(V.offset+=S,V.column+=S,a){const j=t?mi(U,V):null,H=Dl(L,j,{domain:A1,args:R});a(H)}}function o(x,L,U){const S={type:x};return t&&(S.start=L,S.end=L,S.loc={start:U,end:U}),S}function s(x,L,U,S){t&&(x.end=L,x.loc&&(x.loc.end=U))}function l(x,L){const U=x.context(),S=o(3,U.offset,U.startLoc);return S.value=L,s(S,x.currentOffset(),x.currentPosition()),S}function r(x,L){const U=x.context(),{lastOffset:S,lastStartLoc:R}=U,V=o(5,S,R);return V.index=parseInt(L,10),x.nextToken(),s(V,x.currentOffset(),x.currentPosition()),V}function u(x,L){const U=x.context(),{lastOffset:S,lastStartLoc:R}=U,V=o(4,S,R);return V.key=L,x.nextToken(),s(V,x.currentOffset(),x.currentPosition()),V}function d(x,L){const U=x.context(),{lastOffset:S,lastStartLoc:R}=U,V=o(9,S,R);return V.value=L.replace(I1,M1),x.nextToken(),s(V,x.currentOffset(),x.currentPosition()),V}function c(x){const L=x.nextToken(),U=x.context(),{lastOffset:S,lastStartLoc:R}=U,V=o(8,S,R);return L.type!==11?(n(x,ht.UNEXPECTED_EMPTY_LINKED_MODIFIER,U.lastStartLoc,0),V.value="",s(V,S,R),{nextConsumeToken:L,node:V}):(L.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,no(L)),V.value=L.value||"",s(V,x.currentOffset(),x.currentPosition()),{node:V})}function f(x,L){const U=x.context(),S=o(7,U.offset,U.startLoc);return S.value=L,s(S,x.currentOffset(),x.currentPosition()),S}function m(x){const L=x.context(),U=o(6,L.offset,L.startLoc);let S=x.nextToken();if(S.type===8){const R=c(x);U.modifier=R.node,S=R.nextConsumeToken||x.nextToken()}switch(S.type!==9&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(S)),S=x.nextToken(),S.type===2&&(S=x.nextToken()),S.type){case 10:S.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(S)),U.key=f(x,S.value||"");break;case 4:S.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(S)),U.key=u(x,S.value||"");break;case 5:S.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(S)),U.key=r(x,S.value||"");break;case 6:S.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(S)),U.key=d(x,S.value||"");break;default:{n(x,ht.UNEXPECTED_EMPTY_LINKED_KEY,L.lastStartLoc,0);const R=x.context(),V=o(7,R.offset,R.startLoc);return V.value="",s(V,R.offset,R.startLoc),U.key=V,s(U,R.offset,R.startLoc),{nextConsumeToken:S,node:U}}}return s(U,x.currentOffset(),x.currentPosition()),{node:U}}function g(x){const L=x.context(),U=L.currentType===1?x.currentOffset():L.offset,S=L.currentType===1?L.endLoc:L.startLoc,R=o(2,U,S);R.items=[];let V=null;do{const q=V||x.nextToken();switch(V=null,q.type){case 0:q.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(q)),R.items.push(l(x,q.value||""));break;case 5:q.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(q)),R.items.push(r(x,q.value||""));break;case 4:q.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(q)),R.items.push(u(x,q.value||""));break;case 6:q.value==null&&n(x,ht.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,no(q)),R.items.push(d(x,q.value||""));break;case 7:{const _e=m(x);R.items.push(_e.node),V=_e.nextConsumeToken||null;break}}}while(L.currentType!==13&&L.currentType!==1);const j=L.currentType===1?L.lastOffset:x.currentOffset(),H=L.currentType===1?L.lastEndLoc:x.currentPosition();return s(R,j,H),R}function v(x,L,U,S){const R=x.context();let V=S.items.length===0;const j=o(1,L,U);j.cases=[],j.cases.push(S);do{const H=g(x);V||(V=H.items.length===0),j.cases.push(H)}while(R.currentType!==13);return V&&n(x,ht.MUST_HAVE_MESSAGES_IN_PLURAL,U,0),s(j,x.currentOffset(),x.currentPosition()),j}function y(x){const L=x.context(),{offset:U,startLoc:S}=L,R=g(x);return L.currentType===13?R:v(x,U,S,R)}function b(x){const L=$1(x,qt({},e)),U=L.context(),S=o(0,U.offset,U.startLoc);return t&&S.loc&&(S.loc.source=x),S.body=y(L),e.onCacheKey&&(S.cacheKey=e.onCacheKey(x)),U.currentType!==13&&n(L,ht.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,x[U.offset]||""),s(S,L.currentOffset(),L.currentPosition()),S}return{parse:b}}function no(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function O1(e,t={}){const a={ast:e,helpers:new Set};return{context:()=>a,helper:s=>(a.helpers.add(s),s)}}function Yd(e,t){for(let a=0;a<e.length;a++)hi(e[a],t)}function hi(e,t){switch(e.type){case 1:Yd(e.cases,t),t.helper("plural");break;case 2:Yd(e.items,t);break;case 6:{hi(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function N1(e,t={}){const a=O1(e);a.helper("normalize"),e.body&&hi(e.body,a);const n=a.context();e.helpers=Array.from(n.helpers)}function D1(e){const t=e.body;return t.type===2?Kd(t):t.cases.forEach(a=>Kd(a)),e}function Kd(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let a=0;a<e.items.length;a++){const n=e.items[a];if(!(n.type===3||n.type===9)||n.value==null)break;t.push(n.value)}if(t.length===e.items.length){e.static=gi(t);for(let a=0;a<e.items.length;a++){const n=e.items[a];(n.type===3||n.type===9)&&delete n.value}}}}function Ca(e){switch(e.t=e.type,e.type){case 0:{const t=e;Ca(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,a=t.cases;for(let n=0;n<a.length;n++)Ca(a[n]);t.c=a,delete t.cases;break}case 2:{const t=e,a=t.items;for(let n=0;n<a.length;n++)Ca(a[n]);t.i=a,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Ca(t.key),t.k=t.key,delete t.key,t.modifier&&(Ca(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function P1(e,t){const{filename:a,breakLineCode:n,needIndent:o}=t,s=t.location!==!1,l={filename:a,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:o,indentLevel:0};s&&e.loc&&(l.source=e.loc.source);const r=()=>l;function u(y,b){l.code+=y}function d(y,b=!0){const x=b?n:"";u(o?x+"  ".repeat(y):x)}function c(y=!0){const b=++l.indentLevel;y&&d(b)}function f(y=!0){const b=--l.indentLevel;y&&d(b)}function m(){d(l.indentLevel)}return{context:r,push:u,indent:c,deindent:f,newline:m,helper:y=>`_${y}`,needIndent:()=>l.needIndent}}function F1(e,t){const{helper:a}=e;e.push(`${a("linked")}(`),Ea(e,t.key),t.modifier?(e.push(", "),Ea(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function B1(e,t){const{helper:a,needIndent:n}=e;e.push(`${a("normalize")}([`),e.indent(n());const o=t.items.length;for(let s=0;s<o&&(Ea(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(n()),e.push("])")}function U1(e,t){const{helper:a,needIndent:n}=e;if(t.cases.length>1){e.push(`${a("plural")}([`),e.indent(n());const o=t.cases.length;for(let s=0;s<o&&(Ea(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(n()),e.push("])")}}function H1(e,t){t.body?Ea(e,t.body):e.push("null")}function Ea(e,t){const{helper:a}=e;switch(t.type){case 0:H1(e,t);break;case 1:U1(e,t);break;case 2:B1(e,t);break;case 6:F1(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${a("interpolate")}(${a("list")}(${t.index}))`,t);break;case 4:e.push(`${a("interpolate")}(${a("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const V1=(e,t={})=>{const a=De(t.mode)?t.mode:"normal",n=De(t.filename)?t.filename:"message.intl";t.sourceMap;const o=t.breakLineCode!=null?t.breakLineCode:a==="arrow"?";":`
`,s=t.needIndent?t.needIndent:a!=="arrow",l=e.helpers||[],r=P1(e,{filename:n,breakLineCode:o,needIndent:s});r.push(a==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),r.indent(s),l.length>0&&(r.push(`const { ${gi(l.map(c=>`${c}: _${c}`),", ")} } = ctx`),r.newline()),r.push("return "),Ea(r,e),r.deindent(s),r.push("}"),delete e.helpers;const{code:u,map:d}=r.context();return{ast:e,code:u,map:d?d.toJSON():void 0}};function j1(e,t={}){const a=qt({},t),n=!!a.jit,o=!!a.minify,s=a.optimize==null?!0:a.optimize,r=R1(a).parse(e);return n?(s&&D1(r),o&&Ca(r),{ast:r,code:""}):(N1(r,a),V1(r,a))}/*!
  * core-base v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function W1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(la().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(la().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function oo(e){return ft(e)&&vi(e)===0&&(Hn(e,"b")||Hn(e,"body"))}const Jd=["b","body"];function z1(e){return Ho(e,Jd)}const Xd=["c","cases"];function q1(e){return Ho(e,Xd,[])}const Zd=["s","static"];function G1(e){return Ho(e,Zd)}const ef=["i","items"];function Q1(e){return Ho(e,ef,[])}const tf=["t","type"];function vi(e){return Ho(e,tf)}const nf=["v","value"];function Pl(e,t){const a=Ho(e,nf);if(a!=null)return a;throw ys(t)}const of=["m","modifier"];function Y1(e){return Ho(e,of)}const af=["k","key"];function K1(e){const t=Ho(e,af);if(t)return t;throw ys(6)}function Ho(e,t,a){for(let n=0;n<t.length;n++){const o=t[n];if(Hn(e,o)&&e[o]!=null)return e[o]}return a}const sf=[...Jd,...Xd,...Zd,...ef,...af,...of,...nf,...tf];function ys(e){return new Error(`unhandled node type: ${e}`)}function _i(e){return a=>J1(a,e)}function J1(e,t){const a=z1(t);if(a==null)throw ys(0);if(vi(a)===1){const s=q1(a);return e.plural(s.reduce((l,r)=>[...l,lf(e,r)],[]))}else return lf(e,a)}function lf(e,t){const a=G1(t);if(a!=null)return e.type==="text"?a:e.normalize([a]);{const n=Q1(t).reduce((o,s)=>[...o,yi(e,s)],[]);return e.normalize(n)}}function yi(e,t){const a=vi(t);switch(a){case 3:return Pl(t,a);case 9:return Pl(t,a);case 4:{const n=t;if(Hn(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(Hn(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw ys(a)}case 5:{const n=t;if(Hn(n,"i")&&Ht(n.i))return e.interpolate(e.list(n.i));if(Hn(n,"index")&&Ht(n.index))return e.interpolate(e.list(n.index));throw ys(a)}case 6:{const n=t,o=Y1(n),s=K1(n);return e.linked(yi(e,s),o?yi(e,o):void 0,e.type)}case 7:return Pl(t,a);case 8:return Pl(t,a);default:throw new Error(`unhandled node on format message part: ${a}`)}}const X1=e=>e;let Fl=wt();function Z1(e,t={}){let a=!1;const n=t.onError||x1;return t.onError=o=>{a=!0,n(o)},{...j1(e,t),detectError:a}}function e0(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&De(e)){ct(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||X1)(e),o=Fl[n];if(o)return o;const{ast:s,detectError:l}=Z1(e,{...t,location:!1,jit:!0}),r=_i(s);return l?r:Fl[n]=r}else{const a=e.cacheKey;if(a){const n=Fl[a];return n||(Fl[a]=_i(e))}else return _i(e)}}let bs=null;function t0(e){bs=e}function n0(e,t,a){bs&&bs.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:a})}const o0=a0("function:translate");function a0(e){return t=>bs&&bs.emit(e,t)}const yo={INVALID_ARGUMENT:w1,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},s0=24;function bo(e){return Dl(e,null,void 0)}function bi(e,t){return t.locale!=null?rf(t.locale):rf(e.locale)}let wi;function rf(e){if(De(e))return e;if(At(e)){if(e.resolvedOnce&&wi!=null)return wi;if(e.constructor.name==="Function"){const t=e();if(_1(t))throw bo(yo.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return wi=t}else throw bo(yo.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw bo(yo.NOT_SUPPORT_LOCALE_TYPE)}function l0(e,t,a){return[...new Set([a,...Dt(t)?t:ft(t)?Object.keys(t):De(t)?[t]:[a]])]}function uf(e,t,a){const n=De(a)?a:ws,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(n);if(!s){s=[];let l=[a];for(;Dt(l);)l=cf(s,l,t);const r=Dt(t)||!tt(t)?t:t.default?t.default:null;l=De(r)?[r]:r,Dt(l)&&cf(s,l,!1),o.__localeChainCache.set(n,s)}return s}function cf(e,t,a){let n=!0;for(let o=0;o<t.length&&ct(n);o++){const s=t[o];De(s)&&(n=r0(e,t[o],a))}return n}function r0(e,t,a){let n;const o=t.split("-");do{const s=o.join("-");n=i0(e,s,a),o.splice(-1,1)}while(o.length&&n===!0);return n}function i0(e,t,a){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Dt(a)||tt(a))&&a[o]&&(n=a[o])}return n}const Vo=[];Vo[0]={w:[0],i:[3,0],"[":[4],o:[7]},Vo[1]={w:[1],".":[2],"[":[4],o:[7]},Vo[2]={w:[2],i:[3,0],0:[3,0]},Vo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Vo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Vo[5]={"'":[4,0],o:8,l:[5,0]},Vo[6]={'"':[4,0],o:8,l:[6,0]};const u0=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function c0(e){return u0.test(e)}function d0(e){const t=e.charCodeAt(0),a=e.charCodeAt(e.length-1);return t===a&&(t===34||t===39)?e.slice(1,-1):e}function f0(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function p0(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:c0(t)?d0(t):"*"+t}function g0(e){const t=[];let a=-1,n=0,o=0,s,l,r,u,d,c,f;const m=[];m[0]=()=>{l===void 0?l=r:l+=r},m[1]=()=>{l!==void 0&&(t.push(l),l=void 0)},m[2]=()=>{m[0](),o++},m[3]=()=>{if(o>0)o--,n=4,m[0]();else{if(o=0,l===void 0||(l=p0(l),l===!1))return!1;m[1]()}};function g(){const v=e[a+1];if(n===5&&v==="'"||n===6&&v==='"')return a++,r="\\"+v,m[0](),!0}for(;n!==null;)if(a++,s=e[a],!(s==="\\"&&g())){if(u=f0(s),f=Vo[n],d=f[u]||f.l||8,d===8||(n=d[0],d[1]!==void 0&&(c=m[d[1]],c&&(r=s,c()===!1))))return;if(n===7)return t}}const df=new Map;function m0(e,t){return ft(e)?e[t]:null}function h0(e,t){if(!ft(e))return null;let a=df.get(t);if(a||(a=g0(t),a&&df.set(t,a)),!a)return null;const n=a.length;let o=e,s=0;for(;s<n;){const l=a[s];if(sf.includes(l)&&oo(o))return null;const r=o[l];if(r===void 0||At(o))return null;o=r,s++}return o}const v0="11.1.12",Bl=-1,ws="en-US",ff="",pf=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function _0(){return{upper:(e,t)=>t==="text"&&De(e)?e.toUpperCase():t==="vnode"&&ft(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&De(e)?e.toLowerCase():t==="vnode"&&ft(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&De(e)?pf(e):t==="vnode"&&ft(e)&&"__v_isVNode"in e?pf(e.children):e}}let gf;function y0(e){gf=e}let mf;function b0(e){mf=e}let hf;function w0(e){hf=e}let vf=null;const x0=e=>{vf=e},T0=()=>vf;let _f=null;const yf=e=>{_f=e},S0=()=>_f;let bf=0;function k0(e={}){const t=At(e.onWarn)?e.onWarn:d1,a=De(e.version)?e.version:v0,n=De(e.locale)||At(e.locale)?e.locale:ws,o=At(n)?ws:n,s=Dt(e.fallbackLocale)||tt(e.fallbackLocale)||De(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,l=tt(e.messages)?e.messages:xi(o),r=tt(e.datetimeFormats)?e.datetimeFormats:xi(o),u=tt(e.numberFormats)?e.numberFormats:xi(o),d=qt(wt(),e.modifiers,_0()),c=e.pluralRules||wt(),f=At(e.missing)?e.missing:null,m=ct(e.missingWarn)||ka(e.missingWarn)?e.missingWarn:!0,g=ct(e.fallbackWarn)||ka(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,y=!!e.unresolving,b=At(e.postTranslation)?e.postTranslation:null,x=tt(e.processor)?e.processor:null,L=ct(e.warnHtmlMessage)?e.warnHtmlMessage:!0,U=!!e.escapeParameter,S=At(e.messageCompiler)?e.messageCompiler:gf,R=At(e.messageResolver)?e.messageResolver:mf||m0,V=At(e.localeFallbacker)?e.localeFallbacker:hf||l0,j=ft(e.fallbackContext)?e.fallbackContext:void 0,H=e,q=ft(H.__datetimeFormatters)?H.__datetimeFormatters:new Map,_e=ft(H.__numberFormatters)?H.__numberFormatters:new Map,re=ft(H.__meta)?H.__meta:{};bf++;const O={version:a,cid:bf,locale:n,fallbackLocale:s,messages:l,modifiers:d,pluralRules:c,missing:f,missingWarn:m,fallbackWarn:g,fallbackFormat:v,unresolving:y,postTranslation:b,processor:x,warnHtmlMessage:L,escapeParameter:U,messageCompiler:S,messageResolver:R,localeFallbacker:V,fallbackContext:j,onWarn:t,__meta:re};return O.datetimeFormats=r,O.numberFormats=u,O.__datetimeFormatters=q,O.__numberFormatters=_e,__INTLIFY_PROD_DEVTOOLS__&&n0(O,a,re),O}const xi=e=>({[e]:wt()});function Ti(e,t,a,n,o){const{missing:s,onWarn:l}=e;if(s!==null){const r=s(e,a,t,o);return De(r)?r:t}else return t}function xs(e,t,a){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,a,t)}function C0(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function E0(e,t){const a=t.indexOf(e);if(a===-1)return!1;for(let n=a+1;n<t.length;n++)if(C0(e,t[n]))return!0;return!1}function wf(e,...t){const{datetimeFormats:a,unresolving:n,fallbackLocale:o,onWarn:s,localeFallbacker:l}=e,{__datetimeFormatters:r}=e,[u,d,c,f]=Si(...t),m=ct(c.missingWarn)?c.missingWarn:e.missingWarn;ct(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const g=!!c.part,v=bi(e,c),y=l(e,o,v);if(!De(u)||u==="")return new Intl.DateTimeFormat(v,f).format(d);let b={},x,L=null;const U="datetime format";for(let V=0;V<y.length&&(x=y[V],b=a[x]||{},L=b[u],!tt(L));V++)Ti(e,u,x,m,U);if(!tt(L)||!De(x))return n?Bl:u;let S=`${x}__${u}`;Rl(f)||(S=`${S}__${JSON.stringify(f)}`);let R=r.get(S);return R||(R=new Intl.DateTimeFormat(x,qt({},L,f)),r.set(S,R)),g?R.formatToParts(d):R.format(d)}const xf=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Si(...e){const[t,a,n,o]=e,s=wt();let l=wt(),r;if(De(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw bo(yo.INVALID_ISO_DATE_ARGUMENT);const d=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();r=new Date(d);try{r.toISOString()}catch{throw bo(yo.INVALID_ISO_DATE_ARGUMENT)}}else if(g1(t)){if(isNaN(t.getTime()))throw bo(yo.INVALID_DATE_ARGUMENT);r=t}else if(Ht(t))r=t;else throw bo(yo.INVALID_ARGUMENT);return De(a)?s.key=a:tt(a)&&Object.keys(a).forEach(u=>{xf.includes(u)?l[u]=a[u]:s[u]=a[u]}),De(n)?s.locale=n:tt(n)&&(l=n),tt(o)&&(l=o),[s.key||"",r,s,l]}function Tf(e,t,a){const n=e;for(const o in a){const s=`${t}__${o}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function Sf(e,...t){const{numberFormats:a,unresolving:n,fallbackLocale:o,onWarn:s,localeFallbacker:l}=e,{__numberFormatters:r}=e,[u,d,c,f]=ki(...t),m=ct(c.missingWarn)?c.missingWarn:e.missingWarn;ct(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const g=!!c.part,v=bi(e,c),y=l(e,o,v);if(!De(u)||u==="")return new Intl.NumberFormat(v,f).format(d);let b={},x,L=null;const U="number format";for(let V=0;V<y.length&&(x=y[V],b=a[x]||{},L=b[u],!tt(L));V++)Ti(e,u,x,m,U);if(!tt(L)||!De(x))return n?Bl:u;let S=`${x}__${u}`;Rl(f)||(S=`${S}__${JSON.stringify(f)}`);let R=r.get(S);return R||(R=new Intl.NumberFormat(x,qt({},L,f)),r.set(S,R)),g?R.formatToParts(d):R.format(d)}const kf=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ki(...e){const[t,a,n,o]=e,s=wt();let l=wt();if(!Ht(t))throw bo(yo.INVALID_ARGUMENT);const r=t;return De(a)?s.key=a:tt(a)&&Object.keys(a).forEach(u=>{kf.includes(u)?l[u]=a[u]:s[u]=a[u]}),De(n)?s.locale=n:tt(n)&&(l=n),tt(o)&&(l=o),[s.key||"",r,s,l]}function Cf(e,t,a){const n=e;for(const o in a){const s=`${t}__${o}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}const L0=e=>e,$0=e=>"",A0="text",I0=e=>e.length===0?"":gi(e),M0=y1;function Ef(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function R0(e){const t=Ht(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ht(e.named.count)||Ht(e.named.n))?Ht(e.named.count)?e.named.count:Ht(e.named.n)?e.named.n:t:t}function O0(e,t){t.count||(t.count=e),t.n||(t.n=e)}function N0(e={}){const t=e.locale,a=R0(e),n=ft(e.pluralRules)&&De(t)&&At(e.pluralRules[t])?e.pluralRules[t]:Ef,o=ft(e.pluralRules)&&De(t)&&At(e.pluralRules[t])?Ef:void 0,s=x=>x[n(a,x.length,o)],l=e.list||[],r=x=>l[x],u=e.named||wt();Ht(e.pluralIndex)&&O0(a,u);const d=x=>u[x];function c(x,L){const U=At(e.messages)?e.messages(x,!!L):ft(e.messages)?e.messages[x]:!1;return U||(e.parent?e.parent.message(x):$0)}const f=x=>e.modifiers?e.modifiers[x]:L0,m=tt(e.processor)&&At(e.processor.normalize)?e.processor.normalize:I0,g=tt(e.processor)&&At(e.processor.interpolate)?e.processor.interpolate:M0,v=tt(e.processor)&&De(e.processor.type)?e.processor.type:A0,b={list:r,named:d,plural:s,linked:(x,...L)=>{const[U,S]=L;let R="text",V="";L.length===1?ft(U)?(V=U.modifier||V,R=U.type||R):De(U)&&(V=U||V):L.length===2&&(De(U)&&(V=U||V),De(S)&&(R=S||R));const j=c(x,!0)(b),H=R==="vnode"&&Dt(j)&&V?j[0]:j;return V?f(V)(H,R):H},message:c,type:v,interpolate:g,normalize:m,values:qt(wt(),l,u)};return b}const Lf=()=>"",Nn=e=>At(e);function $f(e,...t){const{fallbackFormat:a,postTranslation:n,unresolving:o,messageCompiler:s,fallbackLocale:l,messages:r}=e,[u,d]=Ci(...t),c=ct(d.missingWarn)?d.missingWarn:e.missingWarn,f=ct(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,m=ct(d.escapeParameter)?d.escapeParameter:e.escapeParameter,g=!!d.resolvedMessage,v=De(d.default)||ct(d.default)?ct(d.default)?s?u:()=>u:d.default:a?s?u:()=>u:null,y=a||v!=null&&(De(v)||At(v)),b=bi(e,d);m&&D0(d);let[x,L,U]=g?[u,b,r[b]||wt()]:Af(e,u,b,l,f,c),S=x,R=u;if(!g&&!(De(S)||oo(S)||Nn(S))&&y&&(S=v,R=S),!g&&(!(De(S)||oo(S)||Nn(S))||!De(L)))return o?Bl:u;let V=!1;const j=()=>{V=!0},H=Nn(S)?S:If(e,u,L,S,R,j);if(V)return S;const q=B0(e,L,U,d),_e=N0(q),re=P0(e,H,_e);let O=n?n(re,u):re;if(m&&De(O)&&(O=h1(O)),__INTLIFY_PROD_DEVTOOLS__){const Y={timestamp:Date.now(),key:De(u)?u:Nn(S)?S.key:"",locale:L||(Nn(S)?S.locale:""),format:De(S)?S:Nn(S)?S.source:"",message:O};Y.meta=qt({},e.__meta,T0()||{}),o0(Y)}return O}function D0(e){Dt(e.list)?e.list=e.list.map(t=>De(t)?zd(t):t):ft(e.named)&&Object.keys(e.named).forEach(t=>{De(e.named[t])&&(e.named[t]=zd(e.named[t]))})}function Af(e,t,a,n,o,s){const{messages:l,onWarn:r,messageResolver:u,localeFallbacker:d}=e,c=d(e,n,a);let f=wt(),m,g=null;const v="translate";for(let y=0;y<c.length&&(m=c[y],f=l[m]||wt(),(g=u(f,t))===null&&(g=f[t]),!(De(g)||oo(g)||Nn(g)));y++)if(!E0(m,c)){const b=Ti(e,t,m,s,v);b!==t&&(g=b)}return[g,m,f]}function If(e,t,a,n,o,s){const{messageCompiler:l,warnHtmlMessage:r}=e;if(Nn(n)){const d=n;return d.locale=d.locale||a,d.key=d.key||t,d}if(l==null){const d=(()=>n);return d.locale=a,d.key=t,d}const u=l(n,F0(e,a,o,n,r,s));return u.locale=a,u.key=t,u.source=n,u}function P0(e,t,a){return t(a)}function Ci(...e){const[t,a,n]=e,o=wt();if(!De(t)&&!Ht(t)&&!Nn(t)&&!oo(t))throw bo(yo.INVALID_ARGUMENT);const s=Ht(t)?String(t):(Nn(t),t);return Ht(a)?o.plural=a:De(a)?o.default=a:tt(a)&&!Rl(a)?o.named=a:Dt(a)&&(o.list=a),Ht(n)?o.plural=n:De(n)?o.default=n:tt(n)&&qt(o,n),[s,o]}function F0(e,t,a,n,o,s){return{locale:t,key:a,warnHtmlMessage:o,onError:l=>{throw s&&s(l),l},onCacheKey:l=>f1(t,a,l)}}function B0(e,t,a,n){const{modifiers:o,pluralRules:s,messageResolver:l,fallbackLocale:r,fallbackWarn:u,missingWarn:d,fallbackContext:c}=e,m={locale:t,modifiers:o,pluralRules:s,messages:(g,v)=>{let y=l(a,g);if(y==null&&(c||v)){const[,,b]=Af(c||e,g,t,r,u,d);y=l(b,g)}if(De(y)||oo(y)){let b=!1;const L=If(e,g,t,y,g,()=>{b=!0});return b?Lf:L}else return Nn(y)?y:Lf}};return e.processor&&(m.processor=e.processor),n.list&&(m.list=n.list),n.named&&(m.named=n.named),Ht(n.plural)&&(m.pluralIndex=n.plural),m}W1();/*!
  * vue-i18n v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const U0="11.1.12";function H0(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(la().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(la().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(la().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(la().__INTLIFY_PROD_DEVTOOLS__=!1)}const yn={UNEXPECTED_RETURN_TYPE:s0,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Cn(e,...t){return Dl(e,null,void 0)}const Ei=Uo("__translateVNode"),Li=Uo("__datetimeParts"),$i=Uo("__numberParts"),Mf=Uo("__setPluralRules"),Rf=Uo("__injectWithOption"),Ai=Uo("__dispose");function Ts(e){if(!ft(e)||oo(e))return e;for(const t in e)if(Hn(e,t))if(!t.includes("."))ft(e[t])&&Ts(e[t]);else{const a=t.split("."),n=a.length-1;let o=e,s=!1;for(let l=0;l<n;l++){if(a[l]==="__proto__")throw new Error(`unsafe key: ${a[l]}`);if(a[l]in o||(o[a[l]]=wt()),!ft(o[a[l]])){s=!0;break}o=o[a[l]]}if(s||(oo(o)?sf.includes(a[n])||delete e[t]:(o[a[n]]=e[t],delete e[t])),!oo(o)){const l=o[a[n]];ft(l)&&Ts(l)}}return e}function Ii(e,t){const{messages:a,__i18n:n,messageResolver:o,flatJson:s}=t,l=tt(a)?a:Dt(n)?wt():{[e]:wt()};if(Dt(n)&&n.forEach(r=>{if("locale"in r&&"resource"in r){const{locale:u,resource:d}=r;u?(l[u]=l[u]||wt(),Nl(d,l[u])):Nl(d,l)}else De(r)&&Nl(JSON.parse(r),l)}),o==null&&s)for(const r in l)Hn(l,r)&&Ts(l[r]);return l}function Of(e){return e.type}function Nf(e,t,a){let n=ft(t.messages)?t.messages:wt();"__i18nGlobal"in a&&(n=Ii(e.locale.value,{messages:n,__i18n:a.__i18nGlobal}));const o=Object.keys(n);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,n[s])});{if(ft(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(l=>{e.mergeDateTimeFormat(l,t.datetimeFormats[l])})}if(ft(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(l=>{e.mergeNumberFormat(l,t.numberFormats[l])})}}}function Df(e){return We(cs,null,e,0)}const Pf="__INTLIFY_META__",Ff=()=>[],V0=()=>!1;let Bf=0;function Uf(e){return((t,a,n,o)=>e(a,n,go()||void 0,o))}const j0=()=>{const e=go();let t=null;return e&&(t=Of(e)[Pf])?{[Pf]:t}:null};function Mi(e={}){const{__root:t,__injectWithOption:a}=e,n=t===void 0,o=e.flatJson,s=Ml?_:uh;let l=ct(e.inheritLocale)?e.inheritLocale:!0;const r=s(t&&l?t.locale.value:De(e.locale)?e.locale:ws),u=s(t&&l?t.fallbackLocale.value:De(e.fallbackLocale)||Dt(e.fallbackLocale)||tt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r.value),d=s(Ii(r.value,e)),c=s(tt(e.datetimeFormats)?e.datetimeFormats:{[r.value]:{}}),f=s(tt(e.numberFormats)?e.numberFormats:{[r.value]:{}});let m=t?t.missingWarn:ct(e.missingWarn)||ka(e.missingWarn)?e.missingWarn:!0,g=t?t.fallbackWarn:ct(e.fallbackWarn)||ka(e.fallbackWarn)?e.fallbackWarn:!0,v=t?t.fallbackRoot:ct(e.fallbackRoot)?e.fallbackRoot:!0,y=!!e.fallbackFormat,b=At(e.missing)?e.missing:null,x=At(e.missing)?Uf(e.missing):null,L=At(e.postTranslation)?e.postTranslation:null,U=t?t.warnHtmlMessage:ct(e.warnHtmlMessage)?e.warnHtmlMessage:!0,S=!!e.escapeParameter;const R=t?t.modifiers:tt(e.modifiers)?e.modifiers:{};let V=e.pluralRules||t&&t.pluralRules,j;j=(()=>{n&&yf(null);const X={version:U0,locale:r.value,fallbackLocale:u.value,messages:d.value,modifiers:R,pluralRules:V,missing:x===null?void 0:x,missingWarn:m,fallbackWarn:g,fallbackFormat:y,unresolving:!0,postTranslation:L===null?void 0:L,warnHtmlMessage:U,escapeParameter:S,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};X.datetimeFormats=c.value,X.numberFormats=f.value,X.__datetimeFormatters=tt(j)?j.__datetimeFormatters:void 0,X.__numberFormatters=tt(j)?j.__numberFormatters:void 0;const de=k0(X);return n&&yf(de),de})(),xs(j,r.value,u.value);function q(){return[r.value,u.value,d.value,c.value,f.value]}const _e=et({get:()=>r.value,set:X=>{j.locale=X,r.value=X}}),re=et({get:()=>u.value,set:X=>{j.fallbackLocale=X,u.value=X,xs(j,r.value,X)}}),O=et(()=>d.value),Y=et(()=>c.value),Z=et(()=>f.value);function W(){return At(L)?L:null}function ne(X){L=X,j.postTranslation=X}function ae(){return b}function F(X){X!==null&&(x=Uf(X)),b=X,j.missing=x}const P=(X,de,Oe,Pe,Fe,Qe)=>{q();let st;try{__INTLIFY_PROD_DEVTOOLS__,n||(j.fallbackContext=t?S0():void 0),st=X(j)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(j.fallbackContext=void 0)}if(Oe!=="translate exists"&&Ht(st)&&st===Bl||Oe==="translate exists"&&!st){const[yt,Rt]=de();return t&&v?Pe(t):Fe(yt)}else{if(Qe(st))return st;throw Cn(yn.UNEXPECTED_RETURN_TYPE)}};function J(...X){return P(de=>Reflect.apply($f,null,[de,...X]),()=>Ci(...X),"translate",de=>Reflect.apply(de.t,de,[...X]),de=>de,de=>De(de))}function le(...X){const[de,Oe,Pe]=X;if(Pe&&!ft(Pe))throw Cn(yn.INVALID_ARGUMENT);return J(de,Oe,qt({resolvedMessage:!0},Pe||{}))}function G(...X){return P(de=>Reflect.apply(wf,null,[de,...X]),()=>Si(...X),"datetime format",de=>Reflect.apply(de.d,de,[...X]),()=>ff,de=>De(de)||Dt(de))}function ie(...X){return P(de=>Reflect.apply(Sf,null,[de,...X]),()=>ki(...X),"number format",de=>Reflect.apply(de.n,de,[...X]),()=>ff,de=>De(de)||Dt(de))}function oe(X){return X.map(de=>De(de)||Ht(de)||ct(de)?Df(String(de)):de)}const ce={normalize:oe,interpolate:X=>X,type:"vnode"};function M(...X){return P(de=>{let Oe;const Pe=de;try{Pe.processor=ce,Oe=Reflect.apply($f,null,[Pe,...X])}finally{Pe.processor=null}return Oe},()=>Ci(...X),"translate",de=>de[Ei](...X),de=>[Df(de)],de=>Dt(de))}function Q(...X){return P(de=>Reflect.apply(Sf,null,[de,...X]),()=>ki(...X),"number format",de=>de[$i](...X),Ff,de=>De(de)||Dt(de))}function se(...X){return P(de=>Reflect.apply(wf,null,[de,...X]),()=>Si(...X),"datetime format",de=>de[Li](...X),Ff,de=>De(de)||Dt(de))}function D(X){V=X,j.pluralRules=V}function ee(X,de){return P(()=>{if(!X)return!1;const Oe=De(de)?de:r.value,Pe=B(Oe),Fe=j.messageResolver(Pe,X);return oo(Fe)||Nn(Fe)||De(Fe)},()=>[X],"translate exists",Oe=>Reflect.apply(Oe.te,Oe,[X,de]),V0,Oe=>ct(Oe))}function $(X){let de=null;const Oe=uf(j,u.value,r.value);for(let Pe=0;Pe<Oe.length;Pe++){const Fe=d.value[Oe[Pe]]||{},Qe=j.messageResolver(Fe,X);if(Qe!=null){de=Qe;break}}return de}function A(X){const de=$(X);return de??(t?t.tm(X)||{}:{})}function B(X){return d.value[X]||{}}function te(X,de){if(o){const Oe={[X]:de};for(const Pe in Oe)Hn(Oe,Pe)&&Ts(Oe[Pe]);de=Oe[X]}d.value[X]=de,j.messages=d.value}function he(X,de){d.value[X]=d.value[X]||{};const Oe={[X]:de};if(o)for(const Pe in Oe)Hn(Oe,Pe)&&Ts(Oe[Pe]);de=Oe[X],Nl(de,d.value[X]),j.messages=d.value}function we(X){return c.value[X]||{}}function C(X,de){c.value[X]=de,j.datetimeFormats=c.value,Tf(j,X,de)}function w(X,de){c.value[X]=qt(c.value[X]||{},de),j.datetimeFormats=c.value,Tf(j,X,de)}function N(X){return f.value[X]||{}}function z(X,de){f.value[X]=de,j.numberFormats=f.value,Cf(j,X,de)}function xe(X,de){f.value[X]=qt(f.value[X]||{},de),j.numberFormats=f.value,Cf(j,X,de)}Bf++,t&&Ml&&(Xe(t.locale,X=>{l&&(r.value=X,j.locale=X,xs(j,r.value,u.value))}),Xe(t.fallbackLocale,X=>{l&&(u.value=X,j.fallbackLocale=X,xs(j,r.value,u.value))}));const ye={id:Bf,locale:_e,fallbackLocale:re,get inheritLocale(){return l},set inheritLocale(X){l=X,X&&t&&(r.value=t.locale.value,u.value=t.fallbackLocale.value,xs(j,r.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:O,get modifiers(){return R},get pluralRules(){return V||{}},get isGlobal(){return n},get missingWarn(){return m},set missingWarn(X){m=X,j.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(X){g=X,j.fallbackWarn=g},get fallbackRoot(){return v},set fallbackRoot(X){v=X},get fallbackFormat(){return y},set fallbackFormat(X){y=X,j.fallbackFormat=y},get warnHtmlMessage(){return U},set warnHtmlMessage(X){U=X,j.warnHtmlMessage=X},get escapeParameter(){return S},set escapeParameter(X){S=X,j.escapeParameter=X},t:J,getLocaleMessage:B,setLocaleMessage:te,mergeLocaleMessage:he,getPostTranslationHandler:W,setPostTranslationHandler:ne,getMissingHandler:ae,setMissingHandler:F,[Mf]:D};return ye.datetimeFormats=Y,ye.numberFormats=Z,ye.rt=le,ye.te=ee,ye.tm=A,ye.d=G,ye.n=ie,ye.getDateTimeFormat=we,ye.setDateTimeFormat=C,ye.mergeDateTimeFormat=w,ye.getNumberFormat=N,ye.setNumberFormat=z,ye.mergeNumberFormat=xe,ye[Rf]=a,ye[Ei]=M,ye[Li]=se,ye[$i]=Q,ye}function W0(e){const t=De(e.locale)?e.locale:ws,a=De(e.fallbackLocale)||Dt(e.fallbackLocale)||tt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=At(e.missing)?e.missing:void 0,o=ct(e.silentTranslationWarn)||ka(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ct(e.silentFallbackWarn)||ka(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,l=ct(e.fallbackRoot)?e.fallbackRoot:!0,r=!!e.formatFallbackMessages,u=tt(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,c=At(e.postTranslation)?e.postTranslation:void 0,f=De(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,g=ct(e.sync)?e.sync:!0;let v=e.messages;if(tt(e.sharedMessages)){const R=e.sharedMessages;v=Object.keys(R).reduce((j,H)=>{const q=j[H]||(j[H]={});return qt(q,R[H]),j},v||{})}const{__i18n:y,__root:b,__injectWithOption:x}=e,L=e.datetimeFormats,U=e.numberFormats,S=e.flatJson;return{locale:t,fallbackLocale:a,messages:v,flatJson:S,datetimeFormats:L,numberFormats:U,missing:n,missingWarn:o,fallbackWarn:s,fallbackRoot:l,fallbackFormat:r,modifiers:u,pluralRules:d,postTranslation:c,warnHtmlMessage:f,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:g,__i18n:y,__root:b,__injectWithOption:x}}function Ri(e={}){const t=Mi(W0(e)),{__extender:a}=e,n={id:t.id,get locale(){return t.locale.value},set locale(o){t.locale.value=o},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(o){t.fallbackLocale.value=o},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(o){t.setMissingHandler(o)},get silentTranslationWarn(){return ct(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(o){t.missingWarn=ct(o)?!o:o},get silentFallbackWarn(){return ct(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(o){t.fallbackWarn=ct(o)?!o:o},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(o){t.fallbackFormat=o},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(o){t.setPostTranslationHandler(o)},get sync(){return t.inheritLocale},set sync(o){t.inheritLocale=o},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){t.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(o){t.escapeParameter=o},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...o){return Reflect.apply(t.t,t,[...o])},rt(...o){return Reflect.apply(t.rt,t,[...o])},te(o,s){return t.te(o,s)},tm(o){return t.tm(o)},getLocaleMessage(o){return t.getLocaleMessage(o)},setLocaleMessage(o,s){t.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){t.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(t.d,t,[...o])},getDateTimeFormat(o){return t.getDateTimeFormat(o)},setDateTimeFormat(o,s){t.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){t.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(t.n,t,[...o])},getNumberFormat(o){return t.getNumberFormat(o)},setNumberFormat(o,s){t.setNumberFormat(o,s)},mergeNumberFormat(o,s){t.mergeNumberFormat(o,s)}};return n.__extender=a,n}function z0(e,t,a){return{beforeCreate(){const n=go();if(!n)throw Cn(yn.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;if(o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root)this.$i18n=Hf(e,s);else{s.__injectWithOption=!0,s.__extender=a.__vueI18nExtend,this.$i18n=Ri(s);const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=Hf(e,o);else{this.$i18n=Ri({__i18n:o.__i18n,__injectWithOption:!0,__extender:a.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&Nf(t,o,o),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$te=(s,l)=>this.$i18n.te(s,l),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),a.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=go();if(!n)throw Cn(yn.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),a.__deleteInstance(n),delete this.$i18n}}}function Hf(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Mf](t.pluralizationRules||e.pluralizationRules);const a=Ii(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(a).forEach(n=>e.mergeLocaleMessage(n,a[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const Oi={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function q0({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,o)=>[...n,...o.type===Me?o.children:[o]],[]):t.reduce((a,n)=>{const o=e[n];return o&&(a[n]=o()),a},wt())}function Vf(){return Me}const jf=_n({name:"i18n-t",props:qt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ht(e)||!isNaN(e)}},Oi),setup(e,t){const{slots:a,attrs:n}=t,o=e.i18n||vt({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(a).filter(f=>f[0]!=="_"),l=wt();e.locale&&(l.locale=e.locale),e.plural!==void 0&&(l.plural=De(e.plural)?+e.plural:e.plural);const r=q0(t,s),u=o[Ei](e.keypath,r,l),d=qt(wt(),n),c=De(e.tag)||ft(e.tag)?e.tag:Vf();return kt(c,d,u)}}});function G0(e){return Dt(e)&&!De(e[0])}function Wf(e,t,a,n){const{slots:o,attrs:s}=t;return()=>{const l={part:!0};let r=wt();e.locale&&(l.locale=e.locale),De(e.format)?l.key=e.format:ft(e.format)&&(De(e.format.key)&&(l.key=e.format.key),r=Object.keys(e.format).reduce((m,g)=>a.includes(g)?qt(wt(),m,{[g]:e.format[g]}):m,wt()));const u=n(e.value,l,r);let d=[l.key];Dt(u)?d=u.map((m,g)=>{const v=o[m.type],y=v?v({[m.type]:m.value,index:g,parts:u}):[m.value];return G0(y)&&(y[0].key=`${m.type}-${g}`),y}):De(u)&&(d=[u]);const c=qt(wt(),s),f=De(e.tag)||ft(e.tag)?e.tag:Vf();return kt(f,c,d)}}const zf=_n({name:"i18n-n",props:qt({value:{type:Number,required:!0},format:{type:[String,Object]}},Oi),setup(e,t){const a=e.i18n||vt({useScope:e.scope,__useComponent:!0});return Wf(e,t,kf,(...n)=>a[$i](...n))}});function Q0(e,t){const a=e;if(e.mode==="composition")return a.__getInstance(t)||e.global;{const n=a.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function Y0(e){const t=l=>{const{instance:r,value:u}=l;if(!r||!r.$)throw Cn(yn.UNEXPECTED_ERROR);const d=Q0(e,r.$),c=qf(u);return[Reflect.apply(d.t,d,[...Gf(c)]),d]};return{created:(l,r)=>{const[u,d]=t(r);Ml&&e.global===d&&(l.__i18nWatcher=Xe(d.locale,()=>{r.instance&&r.instance.$forceUpdate()})),l.__composer=d,l.textContent=u},unmounted:l=>{Ml&&l.__i18nWatcher&&(l.__i18nWatcher(),l.__i18nWatcher=void 0,delete l.__i18nWatcher),l.__composer&&(l.__composer=void 0,delete l.__composer)},beforeUpdate:(l,{value:r})=>{if(l.__composer){const u=l.__composer,d=qf(r);l.textContent=Reflect.apply(u.t,u,[...Gf(d)])}},getSSRProps:l=>{const[r]=t(l);return{textContent:r}}}}function qf(e){if(De(e))return{path:e};if(tt(e)){if(!("path"in e))throw Cn(yn.REQUIRED_VALUE,"path");return e}else throw Cn(yn.INVALID_VALUE)}function Gf(e){const{path:t,locale:a,args:n,choice:o,plural:s}=e,l={},r=n||{};return De(a)&&(l.locale=a),Ht(o)&&(l.plural=o),Ht(s)&&(l.plural=s),[t,r,l]}function K0(e,t,...a){const n=tt(a[0])?a[0]:{};(ct(n.globalInstall)?n.globalInstall:!0)&&([jf.name,"I18nT"].forEach(s=>e.component(s,jf)),[zf.name,"I18nN"].forEach(s=>e.component(s,zf)),[Yf.name,"I18nD"].forEach(s=>e.component(s,Yf))),e.directive("t",Y0(t))}const J0=Uo("global-vue-i18n");function X0(e={}){const t=__VUE_I18N_LEGACY_API__&&ct(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,a=ct(e.globalInjection)?e.globalInjection:!0,n=new Map,[o,s]=Z0(e,t),l=Uo("");function r(f){return n.get(f)||null}function u(f,m){n.set(f,m)}function d(f){n.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...m){if(f.__VUE_I18N_SYMBOL__=l,f.provide(f.__VUE_I18N_SYMBOL__,c),tt(m[0])){const y=m[0];c.__composerExtend=y.__composerExtend,c.__vueI18nExtend=y.__vueI18nExtend}let g=null;!t&&a&&(g=r2(f,c.global)),__VUE_I18N_FULL_INSTALL__&&K0(f,c,...m),__VUE_I18N_LEGACY_API__&&t&&f.mixin(z0(s,s.__composer,c));const v=f.unmount;f.unmount=()=>{g&&g(),c.dispose(),v()}},get global(){return s},dispose(){o.stop()},__instances:n,__getInstance:r,__setInstance:u,__deleteInstance:d};return c}function vt(e={}){const t=go();if(t==null)throw Cn(yn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Cn(yn.NOT_INSTALLED);const a=e2(t),n=n2(a),o=Of(t),s=t2(e,o);if(s==="global")return Nf(n,e,o),n;if(s==="parent"){let u=o2(a,t,e.__useComponent);return u==null&&(u=n),u}const l=a;let r=l.__getInstance(t);if(r==null){const u=qt({},e);"__i18n"in o&&(u.__i18n=o.__i18n),n&&(u.__root=n),r=Mi(u),l.__composerExtend&&(r[Ai]=l.__composerExtend(r)),s2(l,t,r),l.__setInstance(t,r)}return r}function Z0(e,t){const a=Mr(),n=__VUE_I18N_LEGACY_API__&&t?a.run(()=>Ri(e)):a.run(()=>Mi(e));if(n==null)throw Cn(yn.UNEXPECTED_ERROR);return[a,n]}function e2(e){const t=po(e.isCE?J0:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Cn(e.isCE?yn.NOT_INSTALLED_WITH_PROVIDE:yn.UNEXPECTED_ERROR);return t}function t2(e,t){return Rl(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function n2(e){return e.mode==="composition"?e.global:e.global.__composer}function o2(e,t,a=!1){let n=null;const o=t.root;let s=a2(t,a);for(;s!=null;){const l=e;if(e.mode==="composition")n=l.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const r=l.__getInstance(s);r!=null&&(n=r.__composer,a&&n&&!n[Rf]&&(n=null))}if(n!=null||o===s)break;s=s.parent}return n}function a2(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function s2(e,t,a){rt(()=>{},t),Rn(()=>{const n=a;e.__deleteInstance(t);const o=n[Ai];o&&(o(),delete n[Ai])},t)}const l2=["locale","fallbackLocale","availableLocales"],Qf=["t","rt","d","n","tm","te"];function r2(e,t){const a=Object.create(null);return l2.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s)throw Cn(yn.UNEXPECTED_ERROR);const l=Nt(s.value)?{get(){return s.value.value},set(r){s.value.value=r}}:{get(){return s.get&&s.get()}};Object.defineProperty(a,o,l)}),e.config.globalProperties.$i18n=a,Qf.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s||!s.value)throw Cn(yn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,s)}),()=>{delete e.config.globalProperties.$i18n,Qf.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}const Yf=_n({name:"i18n-d",props:qt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Oi),setup(e,t){const a=e.i18n||vt({useScope:e.scope,__useComponent:!0});return Wf(e,t,xf,(...n)=>a[Li](...n))}});if(H0(),y0(e0),b0(h0),w0(uf),__INTLIFY_PROD_DEVTOOLS__){const e=la();e.__INTLIFY__=!0,t0(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const _t=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a},i2={class:"weilin_prompt_ui_window-title"},u2=["title"],En=_t({__name:"DraggableWindow",props:{title:{type:String,required:!0},position:{type:Object,required:!0},size:{type:Object,required:!0},zIndex:{type:Number,default:1},name:{type:String,default:"default_window_name"}},emits:["update:position","update:size","active","close"],setup(e,{emit:t}){const a=e,{t:n}=vt(),o=t,s=_({x:0,y:0}),l=_({width:600,height:400});Xe(()=>a.position,V=>{V&&(s.value={...V},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${a.name}_position`},"*"))},{immediate:!0,deep:!0}),Xe(()=>a.size,V=>{V&&(l.value={...V},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${a.name}_size`},"*"))},{immediate:!0,deep:!0});const r=()=>{window.parent.postMessage({type:`weilin_prompt_ui_window_change_${a.name}_scroll`},"*")};rt(()=>{var V;if(a.position){const j=window.innerWidth,H=window.innerHeight,q=100;let _e=a.position.x,re=a.position.y;_e=Math.max(q-(((V=a.size)==null?void 0:V.width)||l.value.width),_e),_e=Math.min(_e,j-100),re=Math.max(100,re),re=Math.min(re,H-100),s.value={x:_e,y:re}}a.size&&(l.value={...a.size})});const u=_(!1),d=_({x:0,y:0}),c=V=>{u.value=!0,d.value={x:V.clientX-s.value.x,y:V.clientY-s.value.y},document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)},f=V=>{if(u.value){const j=window.innerWidth,H=window.innerHeight,q=100;let _e=V.clientX-d.value.x,re=V.clientY-d.value.y;_e=Math.max(q-l.value.width,_e),_e=Math.min(_e,j-100),re=Math.max(100,re),re=Math.min(re,H-100);const O={x:_e,y:re};s.value=O,o("update:position",O)}},m=()=>{u.value=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)},g=_(!1),v=_({x:0,y:0}),y=_({width:0,height:0}),b=V=>{g.value=!0,v.value={x:V.clientX,y:V.clientY},y.value={...l.value},document.addEventListener("mousemove",x),document.addEventListener("mouseup",L)},x=V=>{if(g.value){const j=V.clientX-v.value.x,H=V.clientY-v.value.y,q={width:Math.max(200,y.value.width+j),height:Math.max(200,y.value.height+H)};l.value=q,o("update:size",q)}},L=()=>{g.value=!1,document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",L)},U=()=>{o("active")},S=()=>{o("close")},R=V=>{U(),c(V)};return(V,j)=>(T(),bt(yc,{to:"#weilin_comfyui_tools_prompt_ui_div"},[i("div",{class:"weilin_prompt_ui_draggable-window",style:dt({left:`${s.value.x}px`,top:`${s.value.y}px`,width:`${l.value.width}px`,height:`${l.value.height}px`,zIndex:e.zIndex}),onMousedown:U},[i("div",{class:"weilin_prompt_ui_window-header",onMousedown:Je(R,["stop"])},[i("div",i2,h(e.title),1),i("button",{class:"weilin_prompt_ui_close-btn",onClick:S},"")],32),i("div",{class:"weilin_prompt_ui_window-content",onScroll:r},[rs(V.$slots,"default",{},void 0,!0)],32),i("div",{class:"weilin_prompt_ui_resize-handle",title:p(n)("common.windowSize"),onMousedown:Je(b,["stop"])},null,40,u2)],36)]))}},[["__scopeId","data-v-cbc46280"]]),wo="v0.0.68",c2={promptBox:{placeholder:"...",delete:"",newline:"",tab:"",windowTitle:"WeiLinUI "+wo,windowTitleGlobal:"WeiLinUI "+wo,translate:"",translatePlaceholder:",",weight:"",weightPlaceholder:"",addBracket:"",removeLayer:"",hiddenHint:"",tagTips:"Tag<br>Tag<br>Tag",oneClickRandomTag:"Tag",oneClickCleanAll:"",oneClickClearDisabled:"",clearDisabledSuccess:"",randomTagSettings:"Tag",oneClickTranslate:"Tag",showDeleteButton:"",hideDeleteButton:"",modelWeight:"",textWeight:"",favour:"",lineToken:"",addLineToken:"",settings:{title:"",cancel:"",save:"",translator:"",sourceLanguage:"",targetLanguage:"",chinese_simplified:"",english:"",close:"",auto_detect:"",setting_function_toggles:"",setting_function_toggles_full:"",enableClearAll:"",enableDeleteButton:"",enableRandomTag:"",enableRandomTagSettings:"",enableTranslateTag:"",enableClearDisabled:"",setting_floating_ball:"",setting_prompt_box:"",enablePromptCommaShow:"",floatingBallCount:"",floatingBallCountPlaceholder:"",floatingBallSize:"",floatingBallSizePlaceholder:"",floatingBallHeight:"",floatingBallHeightPlaceholder:"",enableFloatingBall:"",enableCommaConversion:"",enablePeriodConversion:"",enableBracketConversion:"",enableAngleBracketConversion:"",enableUnderscoreToBracket:"",enableBracketEscape:"\\",enableCommaCloseAutocomplete:"",setting_openai_box:"OpenAI",openai_api_key:"API Key",openai_api_key_placeholder:"API Key",openai_api_key_save:"",openaiSettings:"OpenAI",openai_base_url:"Base URL",openai_base_url_placeholder:"Base URL",openai_model:"",openai_model_placeholder:"",not_set:"",edit:"",delete:"",selectedOpenaiConfig:"OpenAI",addNewConfig:"OpenAI",setting_sponsor_me:"",sponsorMe:"",sponsorMeTip:"",sponsorMeLink:" https://afdian.com/a/weilin9999",setting_start_panel:"",startPanel:"",startPanelTip:"",selectTranslater:"",selectOptionNetworkTranslater:"",selectOptionPythonTranslater:"",apply:"",selectOptionNetworkTranslaterTitle:"",selectOptionPythonTranslaterTitle:"",selectOptionNetworkTranslaterInfo:"",selectOptionPythonTranslaterInfo:"translators",install:"",nowTranlaterPackageState:"",tranlaterPackageStateTrue:"",tranlaterPackageStateFlase:"",installed:"...",installTranslaterPackageInfo:"",translaterSetting:"",chooseTranslaterSetting:"",translaterLangSourceSetting:"",translaterLangTargeSetting:"",saveTranslaterSetting:"",testTranslaterTitle:"",inputTestTranslater:"",outPutTestTranslater:"",testingTranslater:"",inputTestTranslaterPlaceholder:"",outPutTestTranslaterPlaceholder:"",errorPrompt:"",setting_auto_complete_limit:"",show_auto_limit:"",showAutoLimitPlaceholder:"",settingAutoCompleteWidth:"",settingAutoCompleteWidthPlaceholder:"",settingAutoCompleteHeight:"",settingAutoCompleteHeightPlaceholder:"",skinSetting:"",defaultSkin:"",customSkin:"",uploadSkin:"",bgSetting:"",gradientBg:"",transparentBg:"",gradientColor:"",borderRadius:"",resetToDefault:"",settingAutoCompleteWidth:"",settingAutoCompleteWidthPlaceholder:"",settingAutoCompleteHeight:"",settingAutoCompleteHeightPlaceholder:""}},controls:{language:"",settings:"",switchTheme:"",darkMode:"",lightMode:"",tagManager:"",loraStack:"Lora",loraManager:"Lora",history:"",addLora:"Lora",removeLora:"Lora",lookOnLora:"Lora",aiChat:"AI",github:"Github",shareCloudData:"",tutorialVideo:"",sponsor:"",danbooruManager:"Danbooru"},theme:{toggle:""},common:{confirmDelete:"",delete:"",cancel:"",confirm:"",edit:"",save:"",refresh:"",copy:"",copySuccess:"",copyFailed:"",windowSize:"",showMore:"",showLess:""},cloudWindow:{windowTitle:"",back:"",currentPath:"",tagDatabase:"Tag ",danbooruDatabase:"Danbooru ",open:"",installed:"",install:"",installing:"..."},nodeListWindow:{windowTitle:"",openPromptUI:""},lora:{title:"Lora ",rawTitle:"LoraRaw",file:"",hash:"Hash",civitai:"Civitai",viewOnCivitai:" Civitai ",fetchFromCivitai:" Civitai ",modelNotFound:"",modelNotFoundTip:" Civitai ",name:"",nameTip:"",type:"",baseModel:"",trainedWords:"",trainedWordsTip:"",selectedWords:" {count} ",strengthMin:"",strengthMinTip:"",strengthMax:"",strengthMaxTip:"",promptWords:"",promptWordsTip:"",loraWorks:"Lora",strWeight:"",hideLora:"Lora",showLora:"Lora",baseModel:"",skipClip:"",seeLoraRaw:"LoraRaw",addDiyFiled:"",getCivitData:"Civitai",copy:""},tagManager:{deletePrimaryCategoryConfirm:" {name} ",deleteGroupConfirm:" {name} ",deleteTagConfirm:" {name} ",windowTitle:"",categories:"",groups:"",selectCategory:"",selectGroup:"",addPrimaryCategory:"",addGroup:"",editPrimaryCategory:"",editGroup:"",editTag:"",categoryName:"",categoryNamePlaceholder:"",categoryNameRequired:"",groupName:"",groupNamePlaceholder:"",groupNameRequired:"",addTag:"Tag",text:"Tag",textPlaceholder:"Tag",description:"Tag",descriptionPlaceholder:"Tag",textRequired:"TagTag",favourRequired:"TagTag",backgroundColor:"",colorPickerTitle:"",opacity:"",searchPlaceholder:"Tag...",noResults:"",searchInCategory:"",searchInTag:"Tag",save:"",cancel:"",confirm:"",delete:"",addSubCategory:"",editSubCategory:"",subCategoryName:"",subCategoryNamePlaceholder:"",subCategoryNameRequired:"",deleteConfirmTitle:"",deleteConfirmMessage:"{type}",deleteSuccess:"",deleteFailed:"",saveSuccess:"",saveFailed:"",colorPickerAlpha:"",colorPickerHex:"",colorPreview:"",dragToSort:"",searchTags:"",noTagsFound:"",noGroupsFound:"",noCategoriesFound:"",refresh:"",refreshing:"...",refreshSuccess:"",refreshFailed:"",search:"",searching:"...",searchResult:"",searchInPath:": {path}",category:"",group:"",tag:"",resultType:{category:"",group:"",tag:""},hasDeleteAction:"",deleteSelected:"",confirmDeleteSelected:"",cancelDelete:"",moveTag:"",targetTag:"",movePosition:"",moveBefore:"",moveAfter:"",editTag:"",deleteTag:"",editGroupMode:"",exitEditMode:"",autoAddSearchTag:"Tag",importTags:"Tag",share:"",delete:"",edit:"",outputSuccess:"",noTagsSelected:"Tag",shareSelected:"Tag",batchShare:"Tag",cancelShare:"",moveGroup:"",targetGroup:"",moveGroupBefore:"",moveGroupAfter:"",importDanbooru:"",modifyTabSize:"",tabSizeConfig:"",primaryTabConfig:"",groupTabConfig:"",tabWidth:"",tabHeight:"",fontSize:"",fitContent:"",customWidth:"",resetDefault:"",tabSizeConfigSaved:"",tabSizeConfigSaveFailed:""},loraManager:{windowTitle:"Lora",modelWeight:"",textEncoderWeight:"",all:"",root:"",refresh:"",cacheAll:"Lora",searchPlaceholder:"Lora...",prevPage:"",nextPage:"",noResults:"",loadingMore:"...",noMoreData:""},message:{copySuccess:"",copyFailed:"",saveSuccess:"",saveFailed:"",deleteSuccess:"",deleteFailed:"",operationSuccess:"",operationFailed:"",networkError:"",unknownError:"",refreshSuccess:"",refreshFailed:"",loadingData:"...",dataLoaded:"",editSuccess:"",editFailed:"",addSuccess:"",addFailed:"",addFavoriteSuccess:"",addFavoriteIsExist:"",error:"",editNameExist:"",moveSuccess:"",moveFailed:"",setLanguageSuccess:"",setLanguageFailed:"",startPanelSuccess:"",startPanelFailed:"",isLoading:"",loaddingPrc:" {name}%",loaddingSuccess:"",noFinishKuo:"",getTranslaterFail:"",applyTranslaterFail:"",applyToTranslaterFail:"",applyTranslaterSuccess:"",tranlaterPackageInstallFail:"",tranlaterPackageInstallSuccess:"",translaterTestFail:"",installPackageSuccess:"",installPackageFail:"",loadFailed:"",jsonErrorMesg:"JSON",pleaseAddSub:"",pleaseAddMainCeb:"",pleaseSelectGroup:"",isLoadingPleaseWait:"",shareGroupError:"",shareTagError:"Tag"},history:{title:"",search_placeholder:"...",search:"",windowTitle:"",favorites:"",history:"",refresh:"",refresh_history:"",refresh_favorites:"",add_to_favorites:"",delete_history:"",use_item:"",add_new:"",bulk_delete:"",deleteHistoryConfirm:" {name} ",deleteFavoriteConfirm:" {name} ",confirmDeleteSelected:"",cancel_delete:"",sure_delete:"",deleteSelected:"",dialog:{add_tag:"",edit_tag:"",name:"",name_placeholder:"",tag:"",tag_placeholder:"",background_color:"",background_color_placeholder:"",edit_favorite:"",delete_favorite:""},edit_favorite:"",delete_favorite:"",use_favorite:""},floatingBall:{promptBox:"",tagManager:"",loraManager:"Lora",aiWindow:"AI",restoreWindow:"",openNodeListWindow:"",tranToWeb:"",openSetting:""},aiWindow:{windowTitle:"AI",newChat:"",chatName:"",thinking:"...",send:"",inputMessage:"..."},translaterService:{niutrans:"",mymemory:"MyMemory",alibaba:"",baidu:"",modernmt:"ModernMT",volcengine:"",iciba:"",iflytek:"",google:"",bing:"",lingvanex:"Lingvanex",yandex:"Yandex",itranslate:"iTranslate",systran:"SYSTRAN",argos:"Argos",apertium:"Apertium",reverso:"Reverso",deepl:"DeepL",cloudtranslation:"",qqtransmart:"",translatecom:"Translate.com",sogou:"",tilde:"Tilde",caiyun:"",qqfanyi:"",translateme:"TranslateMe",papago:"Papago",mirai:"",youdao:"",iflyrec:"",hujiang:"",yeekit:"",languagewire:"LanguageWire",elia:"Elia",judic:"Judic",mglip:"",utibet:""},translaterLanguage:{english:"",chinese:"",arabic:"",russian:"",french:"",german:"",spanish:"",portuguese:"",italian:"",japanese:"",korean:"",greek:"",dutch:"",hindi:"",turkish:"",malay:"",thai:"",vietnamese:"",indonesian:"",hebrew:"",polish:"",mongolian:"",czech:"",hungarian:"",estonian:"",bulgarian:"",danish:"",finnish:"",romanian:"",swedish:"",slovenian:"","persian/farsi":"/",bosnian:"",serbian:"",fijian:"",filipino:"",haitiancreole:"",catalan:"",croatian:"",latvian:"",lithuanian:"",urdu:"",ukrainian:"",welsh:"",tahiti:"",tongan:"",swahili:"",samoan:"",slovak:"",afrikaans:"",norwegian:"",bengali:"",malagasy:"",maltese:"","queretaro otomi":"","klingon/tlhingan hol":"",gujarati:"",tamil:"",telugu:"",punjabi:"",amharic:"",azerbaijani:"",bashkir:"",belarusian:"",cebuano:"",chuvash:"",esperanto:"",basque:"",irish:""},utils:{tranToWeb:"HTML",dropOrPasteImage:"",downloadHtml:"HTML",copyHtml:"HTML",copySuccess:"HTML",copyFailed:"HTML",clear:""},importDialog:{title:"Tag",sure:"",cleanAll:"",dumpSQL:"SQL",uploadSQL:"SQL",setMainCeb:"",setSubCeb:"",addTag:"Tag",fromJSONImput:"JSONTag",fromTxtInput:"TXTTag",fromYmalInput:"YAMLTag",selectMainCeb:"",selectSubCeb:"",selectGroup:"",sureSelect:"",pleaseAddGroupName:"",pleaseAddSubGroupName:"",pleaseFullRequest:"",successImport:"",importFail:"",dumpOnlySQL:"TagSQL",settingOutputName:"",sureYes:"",cancel:"",edit:"",delete:"",add:"Tag",pleaseMainCebUuid:"UUID",pleaseSubGroupUuid:"UUID",pleaseSubGroup:"",pleaseMainCeb:"",translater:"",tips1:"",tips1text:"B",tips2:"Tag",tips2text:"GitHub",tips3:"",tips3text:"",selectTitle:"",selectedCategories:"",clearAll:"",primaryCategories:"",subCategories:"",noSelectedCategories:"",selectCategory:"",selectSubcategory:"",sureSelect:""},randomUtils:{title:"Tag",generalSettings:"",totalTags:"Tag",rules:"",addRule:"",rule:"",range:"",tagType:"",category:"Tag",specificTags:"",selectCategory:"",addTagPlaceholder:"",addTag:"",testRandom:"",generatedTags:"",selectTagGroup:"Tag",ruleTemplates:"",saveAsTemplate:"",selectTemplate:"",applyTemplate:"",templateNamePlaceholder:"",templateNameRequired:"",templateSaved:"",templateApplied:"",errorSavingTemplates:"",save:"",cancel:"",editTemplate:"",deleteTemplate:"",confirmDeleteTemplate:"",templateDeleted:"",templateUpdated:"",errorUpdatingTemplate:"",errorLoadingTemplate:"",errorDeletingTemplate:"",errorApplyingTemplate:"",pleaseChooseTemplate:"",errorSavingTemplate:"",newTemplate:"",rulesReminder:"1"},danbooruManager:{title:"Danbooru",controle:"",translatePlaceholder:"",searchPlaceholder:"Danbooru...",pageShow:":",pageLimit:"",hot:"",aliases:"",sureBatchDelete:"",sureBatchDeleteTips1:"",sureBatchDeleteTips2:"",sureDelete:"",import:"Danbooru",importBatchTitle:"Danbooru",importTitle:"Danbooru ",add:"Danbooru",edit:"Danbooru"}},d2={promptBox:{placeholder:"Please enter text...",delete:"Delete",newline:"New Line",tab:"Tab",windowTitle:"WeiLin Prompt UI Window "+wo,windowTitleGlobal:"WeiLin Global Prompt UI Window "+wo,translate:"Translate",translatePlaceholder:"Please enter the text to be translated",weight:"Weight",weightPlaceholder:"Please enter the weight",addBracket:"Add Bracket",removeLayer:"Remove Bracket",hiddenHint:"Double-click to show",tagTips:"Double-click the left mouse button to mask the Tag<br>click the Tag to edit<br>and drag the Tag to drag",oneClickRandomTag:"one Click Random Tag",oneClickCleanAll:"one Click Clean All",oneClickClearDisabled:"Clear All Disabled",clearDisabledSuccess:"All disabled tags cleared",randomTagSettings:"setting Random Tag",oneClickTranslate:"one Click Translate Tag",showDeleteButton:"Show Delete Button",hideDeleteButton:"Hide Delete Button",modelWeight:"Model Weight",textWeight:"Text Weight",favour:"Favour",lineToken:"Line Break",addLineToken:"Add Line Break Token",settings:{title:"Settings",cancel:"Cancel",save:"Save",translator:"Translator",sourceLanguage:"Source Language",targetLanguage:"Target Language",chinese_simplified:"Chinese Simplified",english:"English",close:"Close",auto_detect:"Auto Detect",setting_floating_ball:"Setting Floating Ball",setting_prompt_box:"Setting Prompt Box",setting_function_toggles:"Function Toggle Settings",setting_function_toggles_full:"Function Toggle Settings (Reopen window to take effect)",enableClearDisabled:"Enable Clear Disabled",enablePromptCommaShow:"Show Prompt Comma",floatingBallCount:"Floating Ball Count",floatingBallCountPlaceholder:"Please enter the number of floating balls",floatingBallSize:"Width of suspended ball",floatingBallSizePlaceholder:"Please enter the width of the suspension ball",floatingBallHeight:"Height of suspended ball",floatingBallHeightPlaceholder:"Please input the height of the suspension ball",enableFloatingBall:"Enable Floating Ball",enableCommaConversion:"Enable Comma Conversion",enablePeriodConversion:"Enable Period Conversion",enableBracketConversion:"Enable Bracket Conversion",enableAngleBracketConversion:"Enable Angle Bracket Conversion",enableUnderscoreToBracket:"Enable Underscore to Bracket",setting_openai_box:"OpenAI Settings",openai_api_key:"API Key",openai_api_key_placeholder:"Please enter API Key",openai_api_key_save:"Save",openaiSettings:"OpenAI Settings",openaiSettings_api_key:"API Key",openaiSettings_api_key_placeholder:"Please enter API Key",openaiSettings_api_key_save:"Save",openai_base_url:"Base URL",openai_base_url_placeholder:"Please enter Base URL",openai_model:"Model",openai_model_placeholder:"Please enter Model",not_set:"Not Set",edit:"Edit",delete:"Delete",selectedOpenaiConfig:"Selected OpenAI Config",addNewConfig:"Add New Config",setting_sponsor_me:"Sponsor Me",sponsorMe:"Sponsor Me",sponsorMeTip:"Sponsor Me, Support Me to Continue Development",sponsorMeLink:"Unique Sponsor Link https://afdian.com/a/weilin9999",setting_start_panel:"Start Panel",startPanel:"Start Panel",startPanelTip:"Click Start Panel, after successful startup, the panel page will be automatically opened",selectTranslater:"select translater",selectOptionNetworkTranslater:"Three party online translation",selectOptionPythonTranslater:"Translation Library Translation",apply:"Apply",selectOptionNetworkTranslaterTitle:"Three party network translation settings",selectOptionPythonTranslaterTitle:"Translation library settings",selectOptionNetworkTranslaterInfo:"The third-party tool used is (only for online translation)",selectOptionPythonTranslaterInfo:"The translation package used is translators",install:"Install",nowTranlaterPackageState:"now transtler package state:",tranlaterPackageStateTrue:"installed",tranlaterPackageStateFlase:"not installed",installed:"is installed ....",installTranslaterPackageInfo:"Currently installing translation library, please do not close the window! Wait for installation to complete",translaterSetting:"Translation Settings",chooseTranslaterSetting:"Choose a translation service:",translaterLangSourceSetting:"Translation language:",translaterLangTargeSetting:"Translation target language:",saveTranslaterSetting:"Save Settings",testTranslaterTitle:"Test translation",inputTestTranslater:"Enter translation content:",outPutTestTranslater:"Translation result:",testingTranslater:"Test translation",inputTestTranslaterPlaceholder:"Please enter the content to be translated",outPutTestTranslaterPlaceholder:"The translation result will be displayed here",errorPrompt:"Read the prompt node failed",skinSetting:"skin setting",defaultSkin:"default skin",customSkin:"custom skin",uploadSkin:"upload skin",bgSetting:"background setting",gradientBg:"gradient color",transparentBg:"transparent",gradientColor:"gradient color select",borderRadius:"border radius",resetToDefault:"reset to default"}},controls:{language:"Language",settings:"Settings",switchTheme:"Switch Theme",darkMode:"Dark Mode",lightMode:"Light Mode",tagManager:"Tag Manager",loraStack:"Lora Stack",loraManager:"Lora Manager",history:"History",addLora:"Add Lora",removeLora:"Remove Lora",lookOnLora:"Look On Lora",aiChat:"AI Chat",github:"Github Home",shareCloudData:"Share Cloud Data",tutorialVideo:"Tutorial Video",sponsor:"Sponsor Me",danbooruManager:"danbooru Manager"},theme:{toggle:"Switch Theme"},lora:{title:"Lora Information",rawTitle:"LoraRaw",file:"File",hash:"Hash",civitai:"Civitai",viewOnCivitai:"View on Civitai",fetchFromCivitai:"Fetch from Civitai",modelNotFound:"Model not found",modelNotFoundTip:"The model was not found on Civitai. It might be private or deleted",name:"Name",nameTip:"Display name of the model",type:"Type",baseModel:"Base Model",trainedWords:"Trained Words",trainedWordsTip:"Keywords used in model training, click to select for copying",selectedWords:"{count} words selected",strengthMin:"Min Strength",strengthMinTip:"Recommended minimum strength value",strengthMax:"Max Strength",strengthMaxTip:"Recommended maximum strength value",promptWords:"Prompt Words",promptWordsTip:"Recommended prompt words when using this model",loraWorks:"Lora Prompt Words",strWeight:"Text Strength Weight",hideLora:"Disable Lora",showLora:"Enable Lora",baseModel:"Base Model",skipClip:"Clip Skip",seeLoraRaw:"LoraRaw",addDiyFiled:"Add DIY Filed",getCivitData:"Get Civitai Data",copy:"Copy"},common:{confirmDelete:"Confirm Delete",delete:"Delete",cancel:"Cancel",confirm:"Confirm",edit:"Edit",save:"Save",refresh:"Refresh",copy:"Copy",copySuccess:"Copied successfully",copyFailed:"Copy failed",windowSize:"Adjust window size",showMore:"show more",showLess:"show less"},nodeListWindow:{windowTitle:"Node List",openPromptUI:"Open Prompt UI"},tagManager:{deletePrimaryCategoryConfirm:"Are you sure you want to delete category {name}?",deleteGroupConfirm:"Are you sure you want to delete group {name}?",deleteTagConfirm:"Are you sure you want to delete tag {name}?",windowTitle:"Tag Manager",categories:"Categories",groups:"Groups",selectCategory:"Please select a category",selectGroup:"Please select a group",addPrimaryCategory:"Add Category",addGroup:"Add Group",editPrimaryCategory:"Edit Category",editGroup:"Edit Group",editTag:"Edit Tag",categoryName:"Category Name",categoryNamePlaceholder:"Enter category name",categoryNameRequired:"Category name is required",groupName:"Group Name",groupNamePlaceholder:"Enter group name",groupNameRequired:"Group name is required",addTag:"Add Tag",text:"Tag Description",textPlaceholder:"Enter tag Description",description:"Tag",descriptionPlaceholder:"Enter tag",textRequired:"Tag and Tag description cannot be empty",favourRequired:"Tag and Tag description cannot be empty, and a group must be selected",backgroundColor:"Background Color",colorPickerTitle:"Select Color",opacity:"Opacity",searchPlaceholder:"Search tags...",noResults:"No results found",searchInCategory:"in category",searchInTag:"in tag",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",addSubCategory:"Add Sub-category",editSubCategory:"Edit Sub-category",subCategoryName:"Sub-category Name",subCategoryNamePlaceholder:"Enter sub-category name",subCategoryNameRequired:"Sub-category name is required",deleteConfirmTitle:"Confirm Delete",deleteConfirmMessage:"This action will permanently delete this {type}. Continue?",deleteSuccess:"Deleted successfully",deleteFailed:"Delete failed",saveSuccess:"Saved successfully",saveFailed:"Save failed",colorPickerAlpha:"Opacity",colorPickerHex:"Hex Color Value",colorPreview:"Color Preview",dragToSort:"Drag to Sort",searchTags:"Search Tags",noTagsFound:"No tags found",noGroupsFound:"No groups found",noCategoriesFound:"No categories found",refresh:"Refresh",refreshing:"Refreshing...",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",search:"Search",searching:"Searching...",searchResult:"Search Result",searchInPath:"Located in: {path}",category:"Category",group:"Group",tag:"Tag",resultType:{category:"Category",group:"Group",tag:"Tag"},hasDeleteAction:"Batch Delete",deleteSelected:"Delete Selected",confirmDeleteSelected:"Are you sure you want to delete the selected tags?",cancelDelete:"Cancel Delete",moveTag:"Move Tag",targetTag:"Target Tag",movePosition:"Move Position",moveBefore:"Move Before",moveAfter:"Move After",editTag:"Edit Tag",deleteTag:"Delete Tag",editGroupMode:"Edit Group Mode",exitEditMode:"Exit Edit Mode",autoAddSearchTag:"Auto Add Search Tag With Prompt",importTags:"Import Tags",share:"Share",delete:"Delete",edit:"Edit",outputSuccess:"Share successfully",noTagsSelected:"No share tags selected",shareSelected:"Share selected Tag",batchShare:"Batch Share Tag",cancelShare:"Cancel Share",moveGroup:"Move Group",targetGroup:"Target Group",moveGroupBefore:"Move Before",moveGroupAfter:"Move After",importDanbooru:"Batch import",modifyTabSize:"Modify Tag Size",tabSizeConfig:"Tag Size Configuration",primaryTabConfig:"Primary Category Tab Configuration",groupTabConfig:"Group Category Tab Configuration",tabWidth:"Tab Width",tabHeight:"Tab Height",fontSize:"Font Size",fitContent:"Fit Content",customWidth:"Custom Width",resetDefault:"Reset to Default",tabSizeConfigSaved:"Tag size configuration saved",tabSizeConfigSaveFailed:"Failed to save tag size configuration"},loraManager:{windowTitle:"Lora Manager",modelWeight:"Model Weight",textEncoderWeight:"Text Encoder Weight",all:"All",root:"Root",refresh:"Refresh",cacheAll:"Cache all Lora information",searchPlaceholder:"Search Lora...",noResults:"No results found",prevPage:"prev page",nextPage:"next page",loadingMore:"Loadding more ...",noMoreData:"No more data"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",saveSuccess:"Save successful",saveFailed:"Save failed",deleteSuccess:"Delete successful",deleteFailed:"Delete failed",operationSuccess:"Operation successful",operationFailed:"Operation failed",networkError:"Network error",unknownError:"Unknown error",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",loadingData:"Loading data...",dataLoaded:"Data loaded",editSuccess:"Edit successful",editFailed:"Edit failed",addSuccess:"Add successful",addFailed:"Add failed",addFavoriteSuccess:"Added to favorites",addFavoriteIsExist:"Added to favorites",error:"Error",moveSuccess:"Move successful",moveFailed:"Move failed",setLanguageSuccess:"Set language successful",setLanguageFailed:"Set language failed",startPanelSuccess:"Start panel successful",startPanelFailed:"Start panel failed",isLoading:"Loading...",loaddingPrc:"Execution progress {name}%",loaddingSuccess:"All loaded successfully",noFinishKuo:"The parentheses are incomplete. Please check the input",getTranslaterFail:"Get translator failed",applyTranslaterFail:"Apply translator failed",applyToTranslaterFail:"Switching to a translation library requires installing a translation library. Please install the translation library first and then apply the settings",applyTranslaterSuccess:"Apply translator successful",tranlaterPackageInstallFail:"Waiting for installation timeout, please check the background installation status. If the installation is successful, click install again to verify",tranlaterPackageInstallSuccess:"Successfully installed translation package",translaterTestFail:"Translation failed, please try using another translation service",installPackageSuccess:"Successfully installed translation package",installPackageFail:"Failed to install translation package, please check the background installation status",loadFailed:"load failed",jsonErrorMesg:"The format of the JSON file is incorrect",pleaseAddSub:"Please add the secondary classification first",pleaseAddMainCeb:"Please add the first-level category first",pleaseSelectGroup:"Please select the complete grouping path",isLoadingPleaseWait:"It is being executed. Please check the progress in the background",shareGroupError:"Failed to share and failed to obtain group information",shareTagError:"Failed to share and failed to obtain group tag information"},cloudWindow:{windowTitle:"Share Cloud Window",back:"Back",currentPath:"Current Path",tagDatabase:"Tag Database",danbooruDatabase:"Danbooru Database",open:"Open Folder",installed:"Installed",install:"Install",installing:"Installing..."},history:{title:"History",search_placeholder:"Search history...",windowTitle:"History",search:"Search",favorites:"Favorites",history:"History",refresh:"Refresh",refresh_history:"Refresh history",refresh_favorites:"Refresh favorites",add_to_favorites:"Add to favorites",delete_history:"Delete history",use_item:"Use",add_new:"Add new",bulk_delete:"Bulk delete",deleteHistoryConfirm:"Are you sure you want to delete history {name}?",deleteFavoriteConfirm:"Are you sure you want to delete favorite {name}?",confirmDeleteSelected:"Are you sure you want to delete selected information?",cancel_delete:"Cancel delete",sure_delete:"Sure delete",deleteSelected:"Delete selected",dialog:{add_tag:"Add favorite",edit_tag:"Edit favorite",name:"Name",name_placeholder:"Please enter name",tag:"Tag",tag_placeholder:"Please enter tag",background_color:"Background color",background_color_placeholder:"Please select background color",edit_favorite:"Edit favorite",delete_favorite:"Delete favorite"},edit_favorite:"Edit favorite",delete_favorite:"Delete favorite",use_favorite:"Use favorite"},floatingBall:{promptBox:"open Global Prompt Box",tagManager:"open Tag Manager",loraManager:"open Lora Manager",aiWindow:"open AI Chat",restoreWindow:"reset all windows",openNodeListWindow:"open Node List",tranToWeb:"Image to Web Utils",openSetting:"open Setting"},aiWindow:{windowTitle:"AI Chat Window",newChat:"New Chat",chatName:"Chat",thinking:"Thinking...",send:"Send",inputMessage:"Enter your message..."},translaterService:{niutrans:"niutrans",mymemory:"mymemory",alibaba:"alibaba",baidu:"baidu",modernmt:"modernmt",volcengine:"volcengine",iciba:"iciba",iflytek:"iflytek",google:"google",bing:"bing",lingvanex:"lingvanex",yandex:"yandex",itranslate:"itranslate",systran:"systran",argos:"argos",apertium:"apertium",reverso:"reverso",deepl:"deepl",cloudtranslation:"cloudtranslation",qqtransmart:"qqtransmart",translatecom:"translatecom",sogou:"sogou",tilde:"tilde",caiyun:"caiyun",qqfanyi:"qqfanyi",translateme:"translateme",papago:"papago",mirai:"mirai",youdao:"youdao",iflyrec:"iflyrec",hujiang:"hujiang",yeekit:"yeekit",languagewire:"languagewire",elia:"elia",judic:"judic",mglip:"mglip",utibet:"utibet"},translaterLanguage:{english:"english",chinese:"chinese",arabic:"arabic",russian:"russian",french:"french",german:"german",spanish:"spanish",portuguese:"portuguese",italian:"italian",japanese:"japanese",korean:"korean",greek:"greek",dutch:"dutch",hindi:"hindi",turkish:"turkish",malay:"malay",thai:"thai",vietnamese:"vietnamese",indonesian:"indonesian",hebrew:"hebrew",polish:"polish",mongolian:"mongolian",czech:"czech",hungarian:"hungarian",estonian:"estonian",bulgarian:"bulgarian",danish:"danish",finnish:"finnish",romanian:"romanian",swedish:"swedish",slovenian:"slovenian","persian/farsi":"persian/farsi",bosnian:"bosnian",serbian:"serbian",fijian:"fijian",filipino:"filipino",haitiancreole:"haitiancreole",catalan:"catalan",croatian:"croatian",latvian:"latvian",lithuanian:"lithuanian",urdu:"urdu",ukrainian:"ukrainian",welsh:"welsh",tahiti:"tahiti",tongan:"tongan",swahili:"swahili",samoan:"samoan",slovak:"slovak",afrikaans:"afrikaans",norwegian:"norwegian",bengali:"bengali",malagasy:"malagasy",maltese:"maltese","queretaro otomi":"queretaro otomi","klingon/tlhingan hol":"klingon/tlhingan hol",gujarati:"gujarati",tamil:"tamil",telugu:"telugu",punjabi:"punjabi",amharic:"amharic",azerbaijani:"azerbaijani",bashkir:"bashkir",belarusian:"belarusian",cebuano:"cebuano",chuvash:"chuvash",esperanto:"esperanto",basque:"basque",irish:"irish"},utils:{tranToWeb:"Image to HTML",dropOrPasteImage:"Drop or paste image here",downloadHtml:"Download HTML",copyHtml:"Copy HTML",copySuccess:"HTML copied to clipboard",copyFailed:"Failed to copy HTML",clear:"Clear"},importDialog:{title:"Batch import of Tags",sure:"Confirm and import",cleanAll:"Empty all",dumpSQL:"Export All SQL",uploadSQL:"Upload the original SQL file",setMainCeb:"Set up a first-level classification",setSubCeb:"Set up secondary classification",addTag:"Add Tag",fromJSONImput:"Import tags from the JSON file",fromTxtInput:"Batch import tags from TXT files",fromYmalInput:"Batch import tags from YMAL files",selectMainCeb:"Select the first-level classification",selectSubCeb:"Select the secondary classification",selectGroup:"Select the existing classification",sureSelect:"Confirm the selection",pleaseAddGroupName:"Please fill in the name of the first-level classification",pleaseAddSubGroupName:"Please fill in the name of the secondary classification",pleaseFullRequest:"Please fill in the information of the first-level and second-level classifications completely",successImport:"Import successful",importFail:"Import failed",dumpOnlySQL:"Only export the SQL of the Tag",settingOutputName:"Set the name of the export file",sureYes:"Sure",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add Tag",pleaseMainCebUuid:"The original UUID of the first-level division is only required for incremental updates and cannot be modified",pleaseSubGroupUuid:"The secondary division of the original UUID is only required for incremental updates and cannot be modified",pleaseSubGroup:"Secondary classification name",pleaseMainCeb:"First-level classification name",translater:"Description",tips1:"Usage Tutorial:",tips1text:"Bilibili video tutorial",tips2:"Tag Cloud Warehouse:",tips2text:"GitHub repository",tips3:"Online batch editing:",tips3text:"Online editor",selectTitle:"Select Category",selectedCategories:"Selected Categories",clearAll:"Clear All",primaryCategories:"Primary Categories",subCategories:"Sub Categories",noSelectedCategories:"No categories selected",selectCategory:"Select this category",selectSubcategory:"Select this subcategory",sureSelect:"Confirm Selection"},randomUtils:{title:"Random Tag Rules Settings",generalSettings:"General Settings",totalTags:"Random Tag Total Number (If the rule range exceeds the total quantity, the maximum range is calculated by the total quantity)",rules:"Rules",addRule:"Add Rule",rule:"Rule",range:"Range",tagType:"Tag Type",category:"Tag Category",specificTags:"Specific Tags",selectCategory:"Select Category",addTagPlaceholder:"Enter tag and press Enter",addTag:"Add Tag",testRandom:"Test Random",generatedTags:"Generated Tags",selectTagGroup:"Select Tag Group",ruleTemplates:"Rule Templates",saveAsTemplate:"Save as Template",selectTemplate:"Select Template",applyTemplate:"Apply Template",templateNamePlaceholder:"Enter template name",templateNameRequired:"Template name is required",templateSaved:"Template saved",templateApplied:"Template applied",errorSavingTemplates:"Error saving templates",save:"Save",cancel:"Cancel",editTemplate:"Edit Name",deleteTemplate:"Delete",confirmDeleteTemplate:"Are you sure you want to delete this template?",templateDeleted:"Template deleted",templateUpdated:"Template name updated",errorUpdatingTemplate:"Update template failed",errorLoadingTemplate:"Load template failed",errorDeletingTemplate:"Delete template failed",pleaseChooseTemplate:"Please choose a template",errorApplyingTemplate:"Apply template failed",errorSavingTemplate:"Save template failed",newTemplate:"New Template",rulesReminder:"Reminder: The range of the first rule must start at 1! If the range exceeds the total number of random, it will simply display all not random!"},danbooruManager:{title:"Danbooru Manager",controle:"Controle",translatePlaceholder:"Please enter the tag to be translated",searchPlaceholder:"Input need search danbooru tag",pageShow:"Display per page:",pageLimit:"article",hot:"hot",aliases:"aliases",sureBatchDelete:"Batch deletion confirmation",sureBatchDeleteTips1:"You are sure you want to delete the selected one",sureBatchDeleteTips2:"A label? This operation is irrevocable.",sureDelete:"Confirm deletion",import:"Import in Danbooru format",importBatchTitle:"Batch import Danbooru data",importTitle:"Danbooru Import data display",add:"Add Danbooru Tag",edit:"Edit Danbooru Tag"}};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Kf;const Ul=e=>Kf=e,Jf=Symbol();function Ni(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ss;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ss||(Ss={}));function f2(){const e=Mr(!0),t=e.run(()=>_({}));let a=[],n=[];const o=Wr({install(s){Ul(o),o._a=s,s.provide(Jf,o),s.config.globalProperties.$pinia=o,n.forEach(l=>a.push(l)),n=[]},use(s){return this._a?a.push(s):n.push(s),this},_p:a,_a:null,_e:e,_s:new Map,state:t});return o}const Xf=()=>{};function Zf(e,t,a,n=Xf){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),n())};return!a&&Fu()&&Vm(o),o}function La(e,...t){e.slice().forEach(a=>{a(...t)})}const p2=e=>e(),ep=Symbol(),Di=Symbol();function Pi(e,t){e instanceof Map&&t instanceof Map?t.forEach((a,n)=>e.set(n,a)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const a in t){if(!t.hasOwnProperty(a))continue;const n=t[a],o=e[a];Ni(o)&&Ni(n)&&e.hasOwnProperty(a)&&!Nt(n)&&!Io(n)?e[a]=Pi(o,n):e[a]=n}return e}const g2=Symbol();function m2(e){return!Ni(e)||!Object.prototype.hasOwnProperty.call(e,g2)}const{assign:jo}=Object;function h2(e){return!!(Nt(e)&&e.effect)}function v2(e,t,a,n){const{state:o,actions:s,getters:l}=t,r=a.state.value[e];let u;function d(){r||(a.state.value[e]=o?o():{});const c=fh(a.state.value[e]);return jo(c,s,Object.keys(l||{}).reduce((f,m)=>(f[m]=Wr(et(()=>{Ul(a);const g=a._s.get(e);return l[m].call(g,g)})),f),{}))}return u=tp(e,d,t,a,n,!0),u}function tp(e,t,a={},n,o,s){let l;const r=jo({actions:{}},a),u={deep:!0};let d,c,f=[],m=[],g;const v=n.state.value[e];!s&&!v&&(n.state.value[e]={}),_({});let y;function b(H){let q;d=c=!1,typeof H=="function"?(H(n.state.value[e]),q={type:Ss.patchFunction,storeId:e,events:g}):(Pi(n.state.value[e],H),q={type:Ss.patchObject,payload:H,storeId:e,events:g});const _e=y=Symbol();Ge().then(()=>{y===_e&&(d=!0)}),c=!0,La(f,q,n.state.value[e])}const x=s?function(){const{state:q}=a,_e=q?q():{};this.$patch(re=>{jo(re,_e)})}:Xf;function L(){l.stop(),f=[],m=[],n._s.delete(e)}const U=(H,q="")=>{if(ep in H)return H[Di]=q,H;const _e=function(){Ul(n);const re=Array.from(arguments),O=[],Y=[];function Z(ae){O.push(ae)}function W(ae){Y.push(ae)}La(m,{args:re,name:_e[Di],store:R,after:Z,onError:W});let ne;try{ne=H.apply(this&&this.$id===e?this:R,re)}catch(ae){throw La(Y,ae),ae}return ne instanceof Promise?ne.then(ae=>(La(O,ae),ae)).catch(ae=>(La(Y,ae),Promise.reject(ae))):(La(O,ne),ne)};return _e[ep]=!0,_e[Di]=q,_e},S={_p:n,$id:e,$onAction:Zf.bind(null,m),$patch:b,$reset:x,$subscribe(H,q={}){const _e=Zf(f,H,q.detached,()=>re()),re=l.run(()=>Xe(()=>n.state.value[e],O=>{(q.flush==="sync"?c:d)&&H({storeId:e,type:Ss.direct,events:g},O)},jo({},u,q)));return _e},$dispose:L},R=ll(S);n._s.set(e,R);const j=(n._a&&n._a.runWithContext||p2)(()=>n._e.run(()=>(l=Mr()).run(()=>t({action:U}))));for(const H in j){const q=j[H];if(Nt(q)&&!h2(q)||Io(q))s||(v&&m2(q)&&(Nt(q)?q.value=v[H]:Pi(q,v[H])),n.state.value[e][H]=q);else if(typeof q=="function"){const _e=U(q,H);j[H]=_e,r.actions[H]=q}}return jo(R,j),jo(at(R),j),Object.defineProperty(R,"$state",{get:()=>n.state.value[e],set:H=>{b(q=>{jo(q,H)})}}),n._p.forEach(H=>{jo(R,l.run(()=>H({store:R,app:n._a,pinia:n,options:r})))}),v&&s&&a.hydrate&&a.hydrate(R.$state,v),d=!0,c=!0,R}/*! #__NO_SIDE_EFFECTS__ */function _2(e,t,a){let n;const o=typeof t=="function";n=o?a:t;function s(l,r){const u=Yh();return l=l||(u?po(Jf,null):null),l&&Ul(l),l=Kf,l._s.has(e)||(o?tp(e,t,n,l):v2(e,n,l)),l._s.get(e)}return s.$id=e,s}const Hl=_2("tag",()=>{const e=_([]),t=_({user_lang:"zh_CN"}),a=_(0);return{categories:e,setCategories:l=>{e.value=l},userSetting:t,setUserSetting:l=>{t.value=l},isFirstLoading:a,setisFirstLoading:l=>{a.value=l}}});function np(e,t){return function(){return e.apply(t,arguments)}}const{toString:y2}=Object.prototype,{getPrototypeOf:Fi}=Object,{iterator:Vl,toStringTag:op}=Symbol,jl=(e=>t=>{const a=y2.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=e=>(e=e.toLowerCase(),t=>jl(t)===e),Wl=e=>t=>typeof t===e,{isArray:$a}=Array,ks=Wl("undefined");function Cs(e){return e!==null&&!ks(e)&&e.constructor!==null&&!ks(e.constructor)&&bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ap=Vn("ArrayBuffer");function b2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ap(e.buffer),t}const w2=Wl("string"),bn=Wl("function"),sp=Wl("number"),Es=e=>e!==null&&typeof e=="object",x2=e=>e===!0||e===!1,zl=e=>{if(jl(e)!=="object")return!1;const t=Fi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(op in e)&&!(Vl in e)},T2=e=>{if(!Es(e)||Cs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},S2=Vn("Date"),k2=Vn("File"),C2=Vn("Blob"),E2=Vn("FileList"),L2=e=>Es(e)&&bn(e.pipe),$2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bn(e.append)&&((t=jl(e))==="formdata"||t==="object"&&bn(e.toString)&&e.toString()==="[object FormData]"))},A2=Vn("URLSearchParams"),[I2,M2,R2,O2]=["ReadableStream","Request","Response","Headers"].map(Vn),N2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ls(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),$a(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Cs(e))return;const s=a?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let r;for(n=0;n<l;n++)r=s[n],t.call(null,e[r],r,e)}}function lp(e,t){if(Cs(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n=a.length,o;for(;n-- >0;)if(o=a[n],t===o.toLowerCase())return o;return null}const ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rp=e=>!ks(e)&&e!==ra;function Bi(){const{caseless:e}=rp(this)&&this||{},t={},a=(n,o)=>{const s=e&&lp(t,o)||o;zl(t[s])&&zl(n)?t[s]=Bi(t[s],n):zl(n)?t[s]=Bi({},n):$a(n)?t[s]=n.slice():t[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Ls(arguments[n],a);return t}const D2=(e,t,a,{allOwnKeys:n}={})=>(Ls(t,(o,s)=>{a&&bn(o)?e[s]=np(o,a):e[s]=o},{allOwnKeys:n}),e),P2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),F2=(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},B2=(e,t,a,n)=>{let o,s,l;const r={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)l=o[s],(!n||n(l,e,t))&&!r[l]&&(t[l]=e[l],r[l]=!0);e=a!==!1&&Fi(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},U2=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return n!==-1&&n===a},H2=e=>{if(!e)return null;if($a(e))return e;let t=e.length;if(!sp(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},V2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fi(Uint8Array)),j2=(e,t)=>{const n=(e&&e[Vl]).call(e);let o;for(;(o=n.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},W2=(e,t)=>{let a;const n=[];for(;(a=e.exec(t))!==null;)n.push(a);return n},z2=Vn("HTMLFormElement"),q2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,o){return n.toUpperCase()+o}),ip=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),G2=Vn("RegExp"),up=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};Ls(a,(o,s)=>{let l;(l=t(o,s,e))!==!1&&(n[s]=l||o)}),Object.defineProperties(e,n)},Q2=e=>{up(e,(t,a)=>{if(bn(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(bn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Y2=(e,t)=>{const a={},n=o=>{o.forEach(s=>{a[s]=!0})};return $a(e)?n(e):n(String(e).split(t)),a},K2=()=>{},J2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function X2(e){return!!(e&&bn(e.append)&&e[op]==="FormData"&&e[Vl])}const Z2=e=>{const t=new Array(10),a=(n,o)=>{if(Es(n)){if(t.indexOf(n)>=0)return;if(Cs(n))return n;if(!("toJSON"in n)){t[o]=n;const s=$a(n)?[]:{};return Ls(n,(l,r)=>{const u=a(l,o+1);!ks(u)&&(s[r]=u)}),t[o]=void 0,s}}return n};return a(e,0)},e_=Vn("AsyncFunction"),t_=e=>e&&(Es(e)||bn(e))&&bn(e.then)&&bn(e.catch),cp=((e,t)=>e?setImmediate:t?((a,n)=>(ra.addEventListener("message",({source:o,data:s})=>{o===ra&&s===a&&n.length&&n.shift()()},!1),o=>{n.push(o),ra.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",bn(ra.postMessage)),n_=typeof queueMicrotask<"u"?queueMicrotask.bind(ra):typeof process<"u"&&process.nextTick||cp,ke={isArray:$a,isArrayBuffer:ap,isBuffer:Cs,isFormData:$2,isArrayBufferView:b2,isString:w2,isNumber:sp,isBoolean:x2,isObject:Es,isPlainObject:zl,isEmptyObject:T2,isReadableStream:I2,isRequest:M2,isResponse:R2,isHeaders:O2,isUndefined:ks,isDate:S2,isFile:k2,isBlob:C2,isRegExp:G2,isFunction:bn,isStream:L2,isURLSearchParams:A2,isTypedArray:V2,isFileList:E2,forEach:Ls,merge:Bi,extend:D2,trim:N2,stripBOM:P2,inherits:F2,toFlatObject:B2,kindOf:jl,kindOfTest:Vn,endsWith:U2,toArray:H2,forEachEntry:j2,matchAll:W2,isHTMLForm:z2,hasOwnProperty:ip,hasOwnProp:ip,reduceDescriptors:up,freezeMethods:Q2,toObjectSet:Y2,toCamelCase:q2,noop:K2,toFiniteNumber:J2,findKey:lp,global:ra,isContextDefined:rp,isSpecCompliantForm:X2,toJSONObject:Z2,isAsyncFn:e_,isThenable:t_,setImmediate:cp,asap:n_,isIterable:e=>e!=null&&bn(e[Vl])};function Ke(e,t,a,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}ke.inherits(Ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const dp=Ke.prototype,fp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fp[e]={value:e}}),Object.defineProperties(Ke,fp),Object.defineProperty(dp,"isAxiosError",{value:!0}),Ke.from=(e,t,a,n,o,s)=>{const l=Object.create(dp);return ke.toFlatObject(e,l,function(u){return u!==Error.prototype},r=>r!=="isAxiosError"),Ke.call(l,e.message,t,a,n,o),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const o_=null;function Ui(e){return ke.isPlainObject(e)||ke.isArray(e)}function pp(e){return ke.endsWith(e,"[]")?e.slice(0,-2):e}function gp(e,t,a){return e?e.concat(t).map(function(o,s){return o=pp(o),!a&&s?"["+o+"]":o}).join(a?".":""):t}function a_(e){return ke.isArray(e)&&!e.some(Ui)}const s_=ke.toFlatObject(ke,{},null,function(t){return/^is[A-Z]/.test(t)});function ql(e,t,a){if(!ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=ke.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!ke.isUndefined(b[y])});const n=a.metaTokens,o=a.visitor||c,s=a.dots,l=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(t);if(!ke.isFunction(o))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(ke.isDate(v))return v.toISOString();if(ke.isBoolean(v))return v.toString();if(!u&&ke.isBlob(v))throw new Ke("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(v)||ke.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,y,b){let x=v;if(v&&!b&&typeof v=="object"){if(ke.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(ke.isArray(v)&&a_(v)||(ke.isFileList(v)||ke.endsWith(y,"[]"))&&(x=ke.toArray(v)))return y=pp(y),x.forEach(function(U,S){!(ke.isUndefined(U)||U===null)&&t.append(l===!0?gp([y],S,s):l===null?y:y+"[]",d(U))}),!1}return Ui(v)?!0:(t.append(gp(b,y,s),d(v)),!1)}const f=[],m=Object.assign(s_,{defaultVisitor:c,convertValue:d,isVisitable:Ui});function g(v,y){if(!ke.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(v),ke.forEach(v,function(x,L){(!(ke.isUndefined(x)||x===null)&&o.call(t,x,ke.isString(L)?L.trim():L,y,m))===!0&&g(x,y?y.concat(L):[L])}),f.pop()}}if(!ke.isObject(e))throw new TypeError("data must be an object");return g(e),t}function mp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Hi(e,t){this._pairs=[],e&&ql(e,this,t)}const hp=Hi.prototype;hp.append=function(t,a){this._pairs.push([t,a])},hp.toString=function(t){const a=t?function(n){return t.call(this,n,mp)}:mp;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function l_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vp(e,t,a){if(!t)return e;const n=a&&a.encode||l_;ke.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let s;if(o?s=o(t,a):s=ke.isURLSearchParams(t)?t.toString():new Hi(t,a).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class _p{constructor(){this.handlers=[]}use(t,a,n){return this.handlers.push({fulfilled:t,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r_={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Hi,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Vi=typeof window<"u"&&typeof document<"u",ji=typeof navigator=="object"&&navigator||void 0,i_=Vi&&(!ji||["ReactNative","NativeScript","NS"].indexOf(ji.product)<0),u_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c_=Vi&&window.location.href||"http://localhost",un={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vi,hasStandardBrowserEnv:i_,hasStandardBrowserWebWorkerEnv:u_,navigator:ji,origin:c_},Symbol.toStringTag,{value:"Module"})),...r_};function d_(e,t){return ql(e,new un.classes.URLSearchParams,{visitor:function(a,n,o,s){return un.isNode&&ke.isBuffer(a)?(this.append(n,a.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function f_(e){return ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function p_(e){const t={},a=Object.keys(e);let n;const o=a.length;let s;for(n=0;n<o;n++)s=a[n],t[s]=e[s];return t}function bp(e){function t(a,n,o,s){let l=a[s++];if(l==="__proto__")return!0;const r=Number.isFinite(+l),u=s>=a.length;return l=!l&&ke.isArray(o)?o.length:l,u?(ke.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!r):((!o[l]||!ke.isObject(o[l]))&&(o[l]=[]),t(a,n,o[l],s)&&ke.isArray(o[l])&&(o[l]=p_(o[l])),!r)}if(ke.isFormData(e)&&ke.isFunction(e.entries)){const a={};return ke.forEachEntry(e,(n,o)=>{t(f_(n),o,a,0)}),a}return null}function g_(e,t,a){if(ke.isString(e))try{return(t||JSON.parse)(e),ke.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const $s={transitional:yp,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const n=a.getContentType()||"",o=n.indexOf("application/json")>-1,s=ke.isObject(t);if(s&&ke.isHTMLForm(t)&&(t=new FormData(t)),ke.isFormData(t))return o?JSON.stringify(bp(t)):t;if(ke.isArrayBuffer(t)||ke.isBuffer(t)||ke.isStream(t)||ke.isFile(t)||ke.isBlob(t)||ke.isReadableStream(t))return t;if(ke.isArrayBufferView(t))return t.buffer;if(ke.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return d_(t,this.formSerializer).toString();if((r=ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ql(r?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||o?(a.setContentType("application/json",!1),g_(t)):t}],transformResponse:[function(t){const a=this.transitional||$s.transitional,n=a&&a.forcedJSONParsing,o=this.responseType==="json";if(ke.isResponse(t)||ke.isReadableStream(t))return t;if(t&&ke.isString(t)&&(n&&!this.responseType||o)){const l=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(r){if(l)throw r.name==="SyntaxError"?Ke.from(r,Ke.ERR_BAD_RESPONSE,this,null,this.response):r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],e=>{$s.headers[e]={}});const m_=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h_=e=>{const t={};let a,n,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),a=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!a||t[a]&&m_[a])&&(a==="set-cookie"?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t},wp=Symbol("internals");function As(e){return e&&String(e).trim().toLowerCase()}function Gl(e){return e===!1||e==null?e:ke.isArray(e)?e.map(Gl):String(e)}function v_(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}const __=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wi(e,t,a,n,o){if(ke.isFunction(n))return n.call(this,t,a);if(o&&(t=a),!!ke.isString(t)){if(ke.isString(n))return t.indexOf(n)!==-1;if(ke.isRegExp(n))return n.test(t)}}function y_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,n)=>a.toUpperCase()+n)}function b_(e,t){const a=ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(o,s,l){return this[n].call(this,t,o,s,l)},configurable:!0})})}let wn=class{constructor(t){t&&this.set(t)}set(t,a,n){const o=this;function s(r,u,d){const c=As(u);if(!c)throw new Error("header name must be a non-empty string");const f=ke.findKey(o,c);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||u]=Gl(r))}const l=(r,u)=>ke.forEach(r,(d,c)=>s(d,c,u));if(ke.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(ke.isString(t)&&(t=t.trim())&&!__(t))l(h_(t),a);else if(ke.isObject(t)&&ke.isIterable(t)){let r={},u,d;for(const c of t){if(!ke.isArray(c))throw TypeError("Object iterator must return a key-value pair");r[d=c[0]]=(u=r[d])?ke.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}l(r,a)}else t!=null&&s(a,t,n);return this}get(t,a){if(t=As(t),t){const n=ke.findKey(this,t);if(n){const o=this[n];if(!a)return o;if(a===!0)return v_(o);if(ke.isFunction(a))return a.call(this,o,n);if(ke.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=As(t),t){const n=ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!a||Wi(this,this[n],n,a)))}return!1}delete(t,a){const n=this;let o=!1;function s(l){if(l=As(l),l){const r=ke.findKey(n,l);r&&(!a||Wi(n,n[r],r,a))&&(delete n[r],o=!0)}}return ke.isArray(t)?t.forEach(s):s(t),o}clear(t){const a=Object.keys(this);let n=a.length,o=!1;for(;n--;){const s=a[n];(!t||Wi(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const a=this,n={};return ke.forEach(this,(o,s)=>{const l=ke.findKey(n,s);if(l){a[l]=Gl(o),delete a[s];return}const r=t?y_(s):String(s).trim();r!==s&&delete a[s],a[r]=Gl(o),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return ke.forEach(this,(n,o)=>{n!=null&&n!==!1&&(a[o]=t&&ke.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const n=new this(t);return a.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[wp]=this[wp]={accessors:{}}).accessors,o=this.prototype;function s(l){const r=As(l);n[r]||(b_(o,l),n[r]=!0)}return ke.isArray(t)?t.forEach(s):s(t),this}};wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ke.reduceDescriptors(wn.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[a]=n}}}),ke.freezeMethods(wn);function zi(e,t){const a=this||$s,n=t||a,o=wn.from(n.headers);let s=n.data;return ke.forEach(e,function(r){s=r.call(a,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function xp(e){return!!(e&&e.__CANCEL__)}function Aa(e,t,a){Ke.call(this,e??"canceled",Ke.ERR_CANCELED,t,a),this.name="CanceledError"}ke.inherits(Aa,Ke,{__CANCEL__:!0});function Tp(e,t,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):t(new Ke("Request failed with status code "+a.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function w_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function x_(e,t){e=e||10;const a=new Array(e),n=new Array(e);let o=0,s=0,l;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),c=n[s];l||(l=d),a[o]=u,n[o]=d;let f=s,m=0;for(;f!==o;)m+=a[f++],f=f%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),d-l<t)return;const g=c&&d-c;return g?Math.round(m*1e3/g):void 0}}function T_(e,t){let a=0,n=1e3/t,o,s;const l=(d,c=Date.now())=>{a=c,o=null,s&&(clearTimeout(s),s=null),e(...d)};return[(...d)=>{const c=Date.now(),f=c-a;f>=n?l(d,c):(o=d,s||(s=setTimeout(()=>{s=null,l(o)},n-f)))},()=>o&&l(o)]}const Ql=(e,t,a=3)=>{let n=0;const o=x_(50,250);return T_(s=>{const l=s.loaded,r=s.lengthComputable?s.total:void 0,u=l-n,d=o(u),c=l<=r;n=l;const f={loaded:l,total:r,progress:r?l/r:void 0,bytes:u,rate:d||void 0,estimated:d&&r&&c?(r-l)/d:void 0,event:s,lengthComputable:r!=null,[t?"download":"upload"]:!0};e(f)},a)},Sp=(e,t)=>{const a=e!=null;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},kp=e=>(...t)=>ke.asap(()=>e(...t)),S_=un.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,un.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,k_=un.hasStandardBrowserEnv?{write(e,t,a,n,o,s){const l=[e+"="+encodeURIComponent(t)];ke.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),ke.isString(n)&&l.push("path="+n),ke.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function E_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cp(e,t,a){let n=!C_(t);return e&&(n||a==!1)?E_(e,t):t}const Ep=e=>e instanceof wn?{...e}:e;function ia(e,t){t=t||{};const a={};function n(d,c,f,m){return ke.isPlainObject(d)&&ke.isPlainObject(c)?ke.merge.call({caseless:m},d,c):ke.isPlainObject(c)?ke.merge({},c):ke.isArray(c)?c.slice():c}function o(d,c,f,m){if(ke.isUndefined(c)){if(!ke.isUndefined(d))return n(void 0,d,f,m)}else return n(d,c,f,m)}function s(d,c){if(!ke.isUndefined(c))return n(void 0,c)}function l(d,c){if(ke.isUndefined(c)){if(!ke.isUndefined(d))return n(void 0,d)}else return n(void 0,c)}function r(d,c,f){if(f in t)return n(d,c);if(f in e)return n(void 0,d)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:r,headers:(d,c,f)=>o(Ep(d),Ep(c),f,!0)};return ke.forEach(Object.keys({...e,...t}),function(c){const f=u[c]||o,m=f(e[c],t[c],c);ke.isUndefined(m)&&f!==r||(a[c]=m)}),a}const Lp=e=>{const t=ia({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:s,headers:l,auth:r}=t;t.headers=l=wn.from(l),t.url=vp(Cp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),r&&l.set("Authorization","Basic "+btoa((r.username||"")+":"+(r.password?unescape(encodeURIComponent(r.password)):"")));let u;if(ke.isFormData(a)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[d,...c]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...c].join("; "))}}if(un.hasStandardBrowserEnv&&(n&&ke.isFunction(n)&&(n=n(t)),n||n!==!1&&S_(t.url))){const d=o&&s&&k_.read(s);d&&l.set(o,d)}return t},L_=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(a,n){const o=Lp(e);let s=o.data;const l=wn.from(o.headers).normalize();let{responseType:r,onUploadProgress:u,onDownloadProgress:d}=o,c,f,m,g,v;function y(){g&&g(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(c),o.signal&&o.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function x(){if(!b)return;const U=wn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!r||r==="text"||r==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:U,config:e,request:b};Tp(function(j){a(j),y()},function(j){n(j),y()},R),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(n(new Ke("Request aborted",Ke.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new Ke("Network Error",Ke.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const R=o.transitional||yp;o.timeoutErrorMessage&&(S=o.timeoutErrorMessage),n(new Ke(S,R.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,e,b)),b=null},s===void 0&&l.setContentType(null),"setRequestHeader"in b&&ke.forEach(l.toJSON(),function(S,R){b.setRequestHeader(R,S)}),ke.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),r&&r!=="json"&&(b.responseType=o.responseType),d&&([m,v]=Ql(d,!0),b.addEventListener("progress",m)),u&&b.upload&&([f,g]=Ql(u),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(c=U=>{b&&(n(!U||U.type?new Aa(null,e,b):U),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(c),o.signal&&(o.signal.aborted?c():o.signal.addEventListener("abort",c)));const L=w_(o.url);if(L&&un.protocols.indexOf(L)===-1){n(new Ke("Unsupported protocol "+L+":",Ke.ERR_BAD_REQUEST,e));return}b.send(s||null)})},$_=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let n=new AbortController,o;const s=function(d){if(!o){o=!0,r();const c=d instanceof Error?d:this.reason;n.abort(c instanceof Ke?c:new Aa(c instanceof Error?c.message:c))}};let l=t&&setTimeout(()=>{l=null,s(new Ke(`timeout ${t} of ms exceeded`,Ke.ETIMEDOUT))},t);const r=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>ke.asap(r),u}},A_=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let n=0,o;for(;n<a;)o=n+t,yield e.slice(n,o),n=o},I_=async function*(e,t){for await(const a of M_(e))yield*A_(a,t)},M_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:n}=await t.read();if(a)break;yield n}}finally{await t.cancel()}},$p=(e,t,a,n)=>{const o=I_(e,t);let s=0,l,r=u=>{l||(l=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:c}=await o.next();if(d){r(),u.close();return}let f=c.byteLength;if(a){let m=s+=f;a(m)}u.enqueue(new Uint8Array(c))}catch(d){throw r(d),d}},cancel(u){return r(u),o.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ap=Yl&&typeof ReadableStream=="function",R_=Yl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ip=(e,...t)=>{try{return!!e(...t)}catch{return!1}},O_=Ap&&Ip(()=>{let e=!1;const t=new Request(un.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Mp=64*1024,qi=Ap&&Ip(()=>ke.isReadableStream(new Response("").body)),Kl={stream:qi&&(e=>e.body)};Yl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kl[t]&&(Kl[t]=ke.isFunction(e[t])?a=>a[t]():(a,n)=>{throw new Ke(`Response type '${t}' is not supported`,Ke.ERR_NOT_SUPPORT,n)})})})(new Response);const N_=async e=>{if(e==null)return 0;if(ke.isBlob(e))return e.size;if(ke.isSpecCompliantForm(e))return(await new Request(un.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(e)||ke.isArrayBuffer(e))return e.byteLength;if(ke.isURLSearchParams(e)&&(e=e+""),ke.isString(e))return(await R_(e)).byteLength},D_=async(e,t)=>{const a=ke.toFiniteNumber(e.getContentLength());return a??N_(t)},Gi={http:o_,xhr:L_,fetch:Yl&&(async e=>{let{url:t,method:a,data:n,signal:o,cancelToken:s,timeout:l,onDownloadProgress:r,onUploadProgress:u,responseType:d,headers:c,withCredentials:f="same-origin",fetchOptions:m}=Lp(e);d=d?(d+"").toLowerCase():"text";let g=$_([o,s&&s.toAbortSignal()],l),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(u&&O_&&a!=="get"&&a!=="head"&&(b=await D_(c,n))!==0){let R=new Request(t,{method:"POST",body:n,duplex:"half"}),V;if(ke.isFormData(n)&&(V=R.headers.get("content-type"))&&c.setContentType(V),R.body){const[j,H]=Sp(b,Ql(kp(u)));n=$p(R.body,Mp,j,H)}}ke.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(t,{...m,signal:g,method:a.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let L=await fetch(v,m);const U=qi&&(d==="stream"||d==="response");if(qi&&(r||U&&y)){const R={};["status","statusText","headers"].forEach(q=>{R[q]=L[q]});const V=ke.toFiniteNumber(L.headers.get("content-length")),[j,H]=r&&Sp(V,Ql(kp(r),!0))||[];L=new Response($p(L.body,Mp,j,()=>{H&&H(),y&&y()}),R)}d=d||"text";let S=await Kl[ke.findKey(Kl,d)||"text"](L,e);return!U&&y&&y(),await new Promise((R,V)=>{Tp(R,V,{data:S,headers:wn.from(L.headers),status:L.status,statusText:L.statusText,config:e,request:v})})}catch(x){throw y&&y(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,e,v),{cause:x.cause||x}):Ke.from(x,x&&x.code,e,v)}})};ke.forEach(Gi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Rp=e=>`- ${e}`,P_=e=>ke.isFunction(e)||e===null||e===!1,Op={getAdapter:e=>{e=ke.isArray(e)?e:[e];const{length:t}=e;let a,n;const o={};for(let s=0;s<t;s++){a=e[s];let l;if(n=a,!P_(a)&&(n=Gi[(l=String(a)).toLowerCase()],n===void 0))throw new Ke(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+s]=n}if(!n){const s=Object.entries(o).map(([r,u])=>`adapter ${r} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(Rp).join(`
`):" "+Rp(s[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Gi};function Qi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Aa(null,e)}function Np(e){return Qi(e),e.headers=wn.from(e.headers),e.data=zi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Op.getAdapter(e.adapter||$s.adapter)(e).then(function(n){return Qi(e),n.data=zi.call(e,e.transformResponse,n),n.headers=wn.from(n.headers),n},function(n){return xp(n)||(Qi(e),n&&n.response&&(n.response.data=zi.call(e,e.transformResponse,n.response),n.response.headers=wn.from(n.response.headers))),Promise.reject(n)})}const Dp="1.11.0",Jl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Pp={};Jl.transitional=function(t,a,n){function o(s,l){return"[Axios v"+Dp+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,r)=>{if(t===!1)throw new Ke(o(l," has been removed"+(a?" in "+a:"")),Ke.ERR_DEPRECATED);return a&&!Pp[l]&&(Pp[l]=!0,console.warn(o(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(s,l,r):!0}},Jl.spelling=function(t){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function F_(e,t,a){if(typeof e!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const s=n[o],l=t[s];if(l){const r=e[s],u=r===void 0||l(r,s,e);if(u!==!0)throw new Ke("option "+s+" must be "+u,Ke.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ke("Unknown option "+s,Ke.ERR_BAD_OPTION)}}const Xl={assertOptions:F_,validators:Jl},ao=Xl.validators;let ua=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _p,response:new _p}}async request(t,a){try{return await this._request(t,a)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=ia(this.defaults,a);const{transitional:n,paramsSerializer:o,headers:s}=a;n!==void 0&&Xl.assertOptions(n,{silentJSONParsing:ao.transitional(ao.boolean),forcedJSONParsing:ao.transitional(ao.boolean),clarifyTimeoutError:ao.transitional(ao.boolean)},!1),o!=null&&(ke.isFunction(o)?a.paramsSerializer={serialize:o}:Xl.assertOptions(o,{encode:ao.function,serialize:ao.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Xl.assertOptions(a,{baseUrl:ao.spelling("baseURL"),withXsrfToken:ao.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=s&&ke.merge(s.common,s[a.method]);s&&ke.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),a.headers=wn.concat(l,s);const r=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(u=u&&y.synchronous,r.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let c,f=0,m;if(!u){const v=[Np.bind(this),void 0];for(v.unshift(...r),v.push(...d),m=v.length,c=Promise.resolve(a);f<m;)c=c.then(v[f++],v[f++]);return c}m=r.length;let g=a;for(f=0;f<m;){const v=r[f++],y=r[f++];try{g=v(g)}catch(b){y.call(this,b);break}}try{c=Np.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,m=d.length;f<m;)c=c.then(d[f++],d[f++]);return c}getUri(t){t=ia(this.defaults,t);const a=Cp(t.baseURL,t.url,t.allowAbsoluteUrls);return vp(a,t.params,t.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(t){ua.prototype[t]=function(a,n){return this.request(ia(n||{},{method:t,url:a,data:(n||{}).data}))}}),ke.forEach(["post","put","patch"],function(t){function a(n){return function(s,l,r){return this.request(ia(r||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}ua.prototype[t]=a(),ua.prototype[t+"Form"]=a(!0)});let B_=class Am{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(s){a=s});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const l=new Promise(r=>{n.subscribe(r),s=r}).then(o);return l.cancel=function(){n.unsubscribe(s)},l},t(function(s,l,r){n.reason||(n.reason=new Aa(s,l,r),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=n=>{t.abort(n)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Am(function(o){t=o}),cancel:t}}};function U_(e){return function(a){return e.apply(null,a)}}function H_(e){return ke.isObject(e)&&e.isAxiosError===!0}const Yi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yi).forEach(([e,t])=>{Yi[t]=e});function Fp(e){const t=new ua(e),a=np(ua.prototype.request,t);return ke.extend(a,ua.prototype,t,{allOwnKeys:!0}),ke.extend(a,t,null,{allOwnKeys:!0}),a.create=function(o){return Fp(ia(e,o))},a}const Pt=Fp($s);Pt.Axios=ua,Pt.CanceledError=Aa,Pt.CancelToken=B_,Pt.isCancel=xp,Pt.VERSION=Dp,Pt.toFormData=ql,Pt.AxiosError=Ke,Pt.Cancel=Pt.CanceledError,Pt.all=function(t){return Promise.all(t)},Pt.spread=U_,Pt.isAxiosError=H_,Pt.mergeConfig=ia,Pt.AxiosHeaders=wn,Pt.formToJSON=e=>bp(ke.isHTMLForm(e)?new FormData(e):e),Pt.getAdapter=Op.getAdapter,Pt.HttpStatusCode=Yi,Pt.default=Pt;const{Axios:WM,AxiosError:zM,CanceledError:qM,isCancel:GM,CancelToken:QM,VERSION:YM,all:KM,Cancel:JM,isAxiosError:XM,spread:ZM,toFormData:eR,AxiosHeaders:tR,HttpStatusCode:nR,formToJSON:oR,getAdapter:aR,mergeConfig:sR}=Pt,Ie=Pt.create({baseURL:"/weilin/prompt_ui/api",timeout:3e4,headers:{"Content-Type":"application/json"}});Ie.interceptors.request.use(e=>e,e=>Promise.reject(e)),Ie.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const Zl={getUserSetting:async()=>await Ie({url:"/user_init/get_settings",method:"get"}),setUserLanguage:async e=>await Ie({url:"/user_init/set_user_lang",method:"post",data:{user_lang:e}}),startPanel:async()=>await Ie({url:"/panel/start",method:"post"})},Bp=()=>Hl(),Is=X0({legacy:!1,locale:"zh_CN",fallbackLocale:"zh_CN",messages:{zh_CN:c2,en_US:d2}}),V_=()=>{const e=Bp();Zl.getUserSetting().then(t=>{var n;e.setUserSetting(t.data);const a=((n=e.userSetting)==null?void 0:n.user_lang)||"zh_CN";Is.global.locale.value=a})},j_=e=>{Is.global.locale.value=e,Bp().setUserSetting({user_lang:e})},W_=()=>{V_()},z_={name:"popmessage",props:{type:{type:String,default:"success"},str:{type:String,default:""}},setup(){const e={warn:{color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=_(!1);return rt(()=>{t.value=!0}),{style:e,visible:t}}},q_={class:"text"};function G_(e,t,a,n,o,s){return ve((T(),k("div",{class:"pop-message",style:dt(n.style[a.type])},[i("i",{class:Le(["icon",[n.style[a.type].icon]])},null,2),i("span",q_,h(a.str),1)],4)),[[vs,n.visible]])}const Q_=_t(z_,[["render",G_],["__scopeId","data-v-7ee59bf2"]]),Ki=document.createElement("div");document.body.appendChild(Ki);let Ji=null;const K=({str:e,type:t,name:a=""})=>{let n=Is.global.t(e);a.length>0&&(n=Is.global.t(e,{name:a}));const o=We(Q_,{str:n,type:t});jd(o,Ki),Ji&&clearTimeout(Ji),Ji=setTimeout(()=>{jd(null,Ki)},2e3)},Y_={class:"language-selector-content"},K_=["onClick"],J_={class:"lang-name"},X_=_t({__name:"LanguageSwitcher",emits:["close"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(null),s=Hl(),l=et(()=>s.userSetting.user_lang),r=[{code:"zh_CN",name:""},{code:"en_US",name:"English"}],u=a,d=m=>{c(m),u("close",{})},c=m=>{Zl.setUserLanguage(m).then(g=>{j_(m),window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*"),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.setLanguageSuccess"})}).catch(g=>{K({type:"warn",str:"message.setLanguageFailed"})})};return t({setPosition:m=>{if(!o.value)return;const g=o.value;g.style.position="fixed",g.style.top=`${m.bottom}px`}}),(m,g)=>(T(),k("div",{class:"language-selector",ref_key:"selectorRef",ref:o},[i("div",Y_,[(T(),k(Me,null,je(r,(v,y)=>i("div",{style:dt({"margin-top":y===0?"0":"2px"}),key:v.code,class:Le(["language-option",{active:l.value===v.code}]),onClick:b=>d(v.code)},[i("span",J_,h(v.name),1)],14,K_)),64))])],512))}},[["__scopeId","data-v-b77d604b"]]),xo="weilin_prompt_ui_",Ia=_t({__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!1},width:{type:String,default:"60%"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=t,o=()=>{n("update:modelValue",!1)},s=()=>{a.closeOnClickOverlay&&o()};return(l,r)=>(T(),bt(yc,{to:"#weilin_comfyui_tools_prompt_ui_div"},[We(El,{name:`${xo}dialog-fade`},{default:ut(()=>[e.modelValue?(T(),k("div",{key:0,class:Le(`${xo}dialog-overlay`),onClick:s},[We(El,{name:`${xo}dialog-slide`},{default:ut(()=>[i("div",{style:dt({width:e.width}),class:Le(`${xo}dialog`),onClick:r[0]||(r[0]=Je(()=>{},["stop"]))},[i("div",{class:Le(`${xo}dialog-header`)},[i("h3",{class:Le(`${xo}dialog-title`)},h(e.title),3),i("button",{class:Le(`${xo}dialog-close`),onClick:o},[...r[1]||(r[1]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])],2)],2),i("div",{class:Le(`${xo}dialog-content`)},[rs(l.$slots,"default")],2),l.$slots.footer?(T(),k("div",{key:0,class:Le(`${xo}dialog-footer`)},[rs(l.$slots,"footer")],2)):fe("",!0)],6)]),_:3},8,["name"])],2)):fe("",!0)]),_:3},8,["name"])]))}},[["__scopeId","data-v-d2e9c495"]]),mn={getTranslateLocal:async e=>await Ie({url:"/prompt/local/translate",method:"post",data:{phrase:e}}),getTranslatePackagesState:async()=>await Ie({url:"/translate/get/packages/state",method:"post",data:{}}),getTranslateSetting:async()=>await Ie({url:"/translate/get/setting",method:"post",data:{}}),applyTranslateSetting:async e=>await Ie({url:"/translate/apply_setting",method:"post",data:{setting:e}}),installTranslatePackage:async()=>await Ie({url:"/translate/install/translaterpackage",method:"post",timeout:0,data:{}}),getTranslateBuktSetting:async()=>await Ie({url:"/translate/get/tran_setting",method:"post",data:{}}),saveTranslateSetting:async(e,t,a)=>await Ie({url:"/translate/save_tran/setting",method:"post",data:{service:e,source_lang:t,target_lang:a}}),translaterText:async(e,t)=>await Ie({url:"/translate/tran/text",method:"post",timeout:0,data:{str_object:e,text:t}}),translaterInputText:async(e,t)=>await Ie({url:"/translate/tran/input",method:"post",timeout:0,data:{str_object:e,text:t}})},Xi={getAutocomplete:async e=>await Ie({url:"/prompt/fast/autocomplete",method:"post",data:{query:e}}),getAutocompleteLimit:async()=>await Ie({url:"/get/setting/get_auto_limit_setting",method:"post"}),updateAutocompleteLimit:async e=>await Ie({url:"/update/setting/update_auto_limit_setting",method:"post",data:{limit:e}})},Ms={updateOpenAiSetting:async e=>await Ie({url:"/prompt/openai/update_settings",method:"post",data:e}),addOpenAiSetting:async e=>await Ie({url:"/prompt/openai/add_setting",method:"post",data:e}),deleteOpenAiSetting:async e=>await Ie({url:"/prompt/openai/delete_setting",method:"post",data:e}),setOpenAiSelect:async e=>await Ie({url:"/prompt/openai/set_select",method:"post",data:e}),getOpenAiSetting:async()=>await Ie({url:"/prompt/openai/get_settings",method:"get"})},Z_=["alibaba","baidu","bing","deepl","youdao","qqtransmart","sogou","niutrans","mymemory","modernmt","volcengine","iciba","iflytek","google","lingvanex","yandex","itranslate","systran","argos","apertium","reverso","cloudtranslation","translatecom","tilde","caiyun","qqfanyi","translateme","papago","mirai","iflyrec","hujiang","yeekit","languagewire","elia","judic","mglip","utibet"],er=[{language:"chinese",translator:"zh"},{language:"english",translator:"en"},{language:"arabic",translator:"ar"},{language:"russian",translator:"ru"},{language:"french",translator:"fr"},{language:"german",translator:"de"},{language:"spanish",translator:"es"},{language:"portuguese",translator:"pt"},{language:"italian",translator:"it"},{language:"japanese",translator:"ja"},{language:"korean",translator:"ko"},{language:"greek",translator:"el"},{language:"dutch",translator:"nl"},{language:"hindi",translator:"hi"},{language:"turkish",translator:"tr"},{language:"malay",translator:"ms"},{language:"thai",translator:"th"},{language:"vietnamese",translator:"vi"},{language:"indonesian",translator:"id"},{language:"hebrew",translator:"he"},{language:"polish",translator:"pl"},{language:"mongolian",translator:"mn"},{language:"czech",translator:"cs"},{language:"hungarian",translator:"hu"},{language:"estonian",translator:"et"},{language:"bulgarian",translator:"bg"},{language:"danish",translator:"da"},{language:"finnish",translator:"fi"},{language:"romanian",translator:"ro"},{language:"swedish",translator:"sv"},{language:"slovenian",translator:"sl"},{language:"persian/farsi",translator:"fa"},{language:"bosnian",translator:"bs"},{language:"serbian",translator:"sr"},{language:"fijian",translator:"fj"},{language:"filipino",translator:"tl"},{language:"haitiancreole",translator:"ht"},{language:"catalan",translator:"ca"},{language:"croatian",translator:"hr"},{language:"latvian",translator:"lv"},{language:"lithuanian",translator:"lt"},{language:"urdu",translator:"ur"},{language:"ukrainian",translator:"uk"},{language:"welsh",translator:"cy"},{language:"tahiti",translator:"ty"},{language:"tongan",translator:"to"},{language:"swahili",translator:"sw"},{language:"samoan",translator:"sm"},{language:"slovak",translator:"sk"},{language:"afrikaans",translator:"af"},{language:"norwegian",translator:"no"},{language:"bengali",translator:"bn"},{language:"malagasy",translator:"mg"},{language:"maltese",translator:"mt"},{language:"queretaro otomi",translator:"otq"},{language:"klingon/tlhingan hol",translator:"tlh"},{language:"gujarati",translator:"gu"},{language:"tamil",translator:"ta"},{language:"telugu",translator:"te"},{language:"punjabi",translator:"pa"},{language:"amharic",translator:"am"},{language:"azerbaijani",translator:"az"},{language:"bashkir",translator:"ba"},{language:"belarusian",translator:"be"},{language:"cebuano",translator:"ceb"},{language:"chuvash",translator:"cv"},{language:"esperanto",translator:"eo"},{language:"basque",translator:"eu"},{language:"irish",translator:"ga"}],Zi={getAiServerSetting:async e=>await Ie({url:"/ai_server/get_settings",method:"post",data:{}}),updateAiServerSetting:async e=>await Ie({url:"/ai_server/update_settings",method:"post",data:e}),getAiModels:async()=>await Ie({url:"/ai_server/get_ai_models",method:"post",data:{}})},ey={class:"ai-server-setting-panel"},ty={class:"weilin-comfyui-translater-setting-box"},ny={class:"weilin-comfyui-setting-item"},oy={class:"weilin-comfyui-setting-item"},ay={class:"weilin-comfyui-setting-item"},sy={style:{display:"flex",gap:"10px"}},ly=["value"],ry={class:"weilin-comfyui-translater-setting-box"},iy={class:"weilin-comfyui-setting-small-titile"},uy={class:"weilin-comfyui-language-selectors"},cy={class:"weilin-comfyui-setting-item"},dy=["index","value"],fy={class:"weilin-comfyui-setting-item"},py=["index","value"],gy={class:"weilin-comfyui-translater-setting-box"},my={class:"weilin-comfyui-setting-small-titile"},hy={class:"weilin-comfyui-setting-item"},vy=["placeholder"],_y={class:"weilin-comfyui-setting-item"},yy=["placeholder"],by=_t({__name:"ai_server_setting",setup(e){const{t}=vt(),a=_(""),n=_(""),o=_(""),s=_(""),l=_(""),r=_({api_key:"",base_url:"https://api.siliconflow.cn/v1",model:"",temperature:0,top_p:.7,max_tokens:4096}),u=_({object:"list",data:[]}),d=()=>{Zi.updateAiServerSetting(r.value).then(y=>{y.info=="ok"?K({type:"success",str:"message.saveSuccess"}):K({type:"warn",str:"message.saveFailed"})}).catch(y=>{K({type:"warn",str:"message.saveFailed"})})},c=()=>{Zi.getAiServerSetting().then(y=>{r.value=y.data}).catch(y=>{K({type:"warn",str:"message.getTranslaterFail"})})},f=()=>{Zi.getAiModels().then(y=>{u.value=y.data}).catch(y=>{K({type:"warn",str:"message.getTranslaterFail"})})},m=()=>{mn.getTranslateBuktSetting().then(y=>{a.value=y.data.translate_service,n.value=y.data.translate_source_lang,o.value=y.data.translate_target_lang}).catch(y=>{K({type:"warn",str:"message.getTranslaterFail"})})},g=()=>{mn.saveTranslateSetting(a.value,n.value,o.value).then(y=>{y.info=="ok"?K({type:"success",str:"message.saveSuccess"}):K({type:"warn",str:"message.saveFailed"})}).catch(y=>{K({type:"warn",str:"message.saveFailed"})})},v=()=>{s.value="";let y={text:l.value,translate:""};const b=JSON.stringify(y);mn.translaterInputText(b,"").then(x=>{if(x&&x.data){const L=JSON.parse(x.data);s.value=L.translate}}).catch(x=>{K({type:"warn",str:"message.translaterTestFail"})})};return rt(()=>{c(),f(),m()}),(y,b)=>(T(),k("div",ey,[i("div",ty,[i("div",ny,[b[7]||(b[7]=i("label",null,"API Key",-1)),ve(i("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=x=>r.value.api_key=x),placeholder:"API Key",class:"weilin-comfyui-common-select"},null,512),[[Ae,r.value.api_key]])]),i("div",oy,[b[9]||(b[9]=i("label",null,"AI",-1)),ve(i("select",{"onUpdate:modelValue":b[1]||(b[1]=x=>r.value.base_url=x),disabled:"",class:"weilin-comfyui-common-select"},[...b[8]||(b[8]=[i("option",{value:"https://api.siliconflow.cn/v1"},"AI",-1)])],512),[[zt,r.value.base_url]])]),i("div",ay,[b[10]||(b[10]=i("label",null,"ModelAPI Key",-1)),i("div",sy,[ve(i("select",{"onUpdate:modelValue":b[2]||(b[2]=x=>r.value.model=x),class:"weilin-comfyui-common-select",style:{flex:"1"}},[(T(!0),k(Me,null,je(u.value.data,x=>(T(),k("option",{key:x.id,value:x.id},h(x.id),9,ly))),128))],512),[[zt,r.value.model]]),i("button",{type:"button",class:"weilin-comfyui-install-button",style:{width:"auto","min-width":"120px"},onClick:f},"  ")])]),i("button",{class:"weilin-comfyui-save-button",onClick:d},"AI")]),i("div",ry,[i("div",iy,h(p(t)("promptBox.settings.translaterSetting")),1),i("div",uy,[i("div",cy,[i("label",null,h(p(t)("promptBox.settings.translaterLangSourceSetting")),1),ve(i("select",{"onUpdate:modelValue":b[3]||(b[3]=x=>n.value=x)},[(T(!0),k(Me,null,je(p(er),(x,L)=>(T(),k("option",{index:L,key:"lan-item_"+L,value:x.translator},h(p(t)("translaterLanguage."+x.language)),9,dy))),128))],512),[[zt,n.value]])]),i("div",fy,[i("label",null,h(p(t)("promptBox.settings.translaterLangTargeSetting")),1),ve(i("select",{"onUpdate:modelValue":b[4]||(b[4]=x=>o.value=x)},[(T(!0),k(Me,null,je(p(er),(x,L)=>(T(),k("option",{index:L,key:"lan-mu-item_"+L,value:x.translator},h(p(t)("translaterLanguage."+x.language)),9,py))),128))],512),[[zt,o.value]])])]),i("button",{class:"weilin-comfyui-install-button",onClick:g},h(p(t)("promptBox.settings.saveTranslaterSetting")),1)]),i("div",gy,[i("div",my,h(p(t)("promptBox.settings.testTranslaterTitle")),1),i("div",hy,[i("label",null,h(p(t)("promptBox.settings.inputTestTranslater")),1),ve(i("input",{type:"text","onUpdate:modelValue":b[5]||(b[5]=x=>l.value=x),placeholder:p(t)("promptBox.settings.inputTestTranslaterPlaceholder")},null,8,vy),[[Ae,l.value]])]),i("div",_y,[i("label",null,h(p(t)("promptBox.settings.outPutTestTranslater")),1),ve(i("input",{type:"text","onUpdate:modelValue":b[6]||(b[6]=x=>s.value=x),readonly:"",placeholder:p(t)("promptBox.settings.outPutTestTranslaterPlaceholder")},null,8,yy),[[Ae,s.value]])]),i("button",{class:"weilin-comfyui-install-button",onClick:v},h(p(t)("promptBox.settings.testingTranslater")),1)])]))}},[["__scopeId","data-v-731441c6"]]),wy={class:"weilin-comfyui-settings-content"},xy={class:"weilin-comfyui-settings-sidebar"},Ty={class:"weilin-comfyui-settings-main"},Sy={key:0},ky={class:"weilin-comfyui-setting-select"},Cy={class:"weilin-comfyui-translator-settings"},Ey={key:0,class:"weilin-comfyui-group-box"},Ly={key:1,class:"weilin-comfyui-group-box"},$y={class:"weilin-comfyui-group-title"},Ay={class:"weilin-comfyui-note-top"},Iy={class:"weilin-comfyui-setting-item"},My={value:"auto"},Ry={value:"chinese_simplified"},Oy={value:"english"},Ny={class:"weilin-comfyui-setting-item"},Dy={value:"chinese_simplified"},Py={value:"english"},Fy={key:2,class:"weilin-comfyui-group-box"},By={class:"weilin-comfyui-group-title"},Uy={class:"weilin-comfyui-note-top"},Hy={class:"weilin-comfyui-translater-innstall-status"},Vy={class:"weilin-comfyui-translater-install-label"},jy={key:0,class:"weilin-comfyui-translater-install-label"},Wy={key:1,class:"weilin-comfyui-translater-install-control"},zy=["disabled"],qy={key:0,class:"weilin-comfyui-translater-setting-box"},Gy={class:"weilin-comfyui-setting-small-titile"},Qy={class:"weilin-comfyui-setting-item"},Yy=["index","value"],Ky={class:"weilin-comfyui-language-selectors"},Jy={class:"weilin-comfyui-setting-item"},Xy=["index","value"],Zy={class:"weilin-comfyui-setting-item"},eb=["index","value"],tb={key:1,class:"weilin-comfyui-tranlater-text-box"},nb={class:"weilin-comfyui-setting-small-titile"},ob={class:"weilin-comfyui-setting-item"},ab=["placeholder"],sb={class:"weilin-comfyui-setting-item"},lb=["placeholder"],rb={key:1},ib={class:"weilin-comfyui-floating-ball-settings"},ub={class:"weilin-comfyui-setting-item"},cb=["placeholder"],db={class:"weilin-comfyui-setting-item"},fb=["placeholder"],pb={class:"weilin-comfyui-setting-item"},gb=["placeholder"],mb={key:2},hb={class:"weilin-comfyui-floating-ball-settings"},vb={class:"weilin-comfyui-setting-item"},_b={class:"weilin-comfyui-setting-item"},yb={class:"weilin-comfyui-setting-item"},bb={class:"weilin-comfyui-setting-item"},wb={class:"weilin-comfyui-setting-item"},xb={class:"weilin-comfyui-setting-item"},Tb={key:3},Sb={class:"weilin-comfyui-floating-ball-settings",style:{display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"15px"}},kb={class:"weilin-comfyui-settings-column"},Cb={class:"weilin-comfyui-setting-item"},Eb={class:"weilin-comfyui-setting-item"},Lb=["placeholder"],$b={class:"weilin-comfyui-setting-item"},Ab=["placeholder"],Ib={class:"weilin-comfyui-setting-item"},Mb=["placeholder"],Rb={class:"weilin-comfyui-settings-column"},Ob={class:"weilin-comfyui-setting-item"},Nb={value:"default"},Db={value:"custom"},Pb={key:0,class:"weilin-comfyui-setting-item"},Fb={key:0,class:"weilin-comfyui-skin-preview"},Bb=["src"],Ub={class:"weilin-comfyui-setting-item",style:{"grid-column":"span 2"}},Hb={value:"gradient"},Vb={value:"transparent"},jb={key:0,class:"weilin-comfyui-setting-item",style:{"grid-column":"span 2"}},Wb={style:{display:"flex",gap:"10px","align-items":"center"}},zb={class:"weilin-comfyui-setting-item",style:{"grid-column":"span 2"}},qb={key:4},Gb={class:"weilin-comfyui-floating-ball-settings"},Qb={class:"weilin-comfyui-setting-item"},Yb={class:"weilin-comfyui-setting-item"},Kb={class:"weilin-comfyui-setting-item"},Jb={class:"weilin-comfyui-setting-item"},Xb={class:"weilin-comfyui-setting-item"},Zb={class:"weilin-comfyui-setting-item"},e4={class:"weilin-comfyui-setting-item"},t4={key:5},n4={class:"weilin-comfyui-openai-settings"},o4={class:"weilin-comfyui-setting-item"},a4=["value"],s4={class:"weilin-comfyui-config-list"},l4={class:"weilin-comfyui-config-header"},r4={class:"weilin-comfyui-config-actions"},i4=["onClick"],u4=["onClick"],c4={key:0,class:"weilin-comfyui-config-form"},d4={class:"weilin-comfyui-form-group"},f4=["placeholder"],p4={class:"weilin-comfyui-form-group"},g4=["placeholder"],m4={class:"weilin-comfyui-form-group"},h4=["placeholder"],v4={class:"weilin-comfyui-form-actions"},_4=["onClick"],y4={key:1,class:"weilin-comfyui-config-details"},b4={key:0,class:"weilin-comfyui-config-form"},w4={class:"weilin-comfyui-form-group"},x4=["placeholder"],T4={class:"weilin-comfyui-form-group"},S4=["placeholder"],k4={class:"weilin-comfyui-form-group"},C4=["placeholder"],E4={class:"weilin-comfyui-form-actions"},L4={key:6},$4={class:"weilin-comfyui-sponsor-me-settings"},A4={key:7},I4={class:"weilin-comfyui-start-panel-settings"},Up=_t({__name:"setting_dialog",emits:["functionTogglesUpdated"],setup(e,{expose:t,emit:a}){const n=a,{t:o}=vt(),s=_(!1),l=_("translator"),r=_("baidu"),u=_(""),d=_(localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english"),c=_(localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified"),f=_(localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1),m=_(localStorage.getItem("weilin_prompt_ui_floatingBallSize")||66),g=_(localStorage.getItem("weilin_prompt_ui_floatingBallHeightSize")||m.value),v=_(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true"),y=_(localStorage.getItem("weilin_prompt_ui_ballSkinType")||"default"),b=_(localStorage.getItem("weilin_prompt_ui_customSkinUrl")||""),x=_(localStorage.getItem("weilin_prompt_ui_bgType")||"gradient"),L=_(localStorage.getItem("weilin_prompt_ui_gradientColor1")||"#6a11cb"),U=_(localStorage.getItem("weilin_prompt_ui_gradientColor2")||"#2575fc"),S=_(localStorage.getItem("weilin_prompt_ui_ballBorderRadius")||50),R=_(localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true"),V=_(localStorage.getItem("weilin_prompt_ui_period_conversion")==="true"),j=_(localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true"),H=_(localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true"),q=_(localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"),_e=_(localStorage.getItem("weilin_prompt_ui_comma_close_autocomplete")==="true"),re=_(localStorage.getItem("weilin_prompt_ui_bracket_escape")==="true"),O=_(localStorage.getItem("weilin_function_toggles_clearAll")!=="false"),Y=_(localStorage.getItem("weilin_function_toggles_deleteButton")!=="false"),Z=_(localStorage.getItem("weilin_function_toggles_randomTag")!=="false"),W=_(localStorage.getItem("weilin_function_toggles_randomTagSettings")!=="false"),ne=_(localStorage.getItem("weilin_function_toggles_translateTag")!=="false"),ae=_(localStorage.getItem("weilin_function_toggles_clearDisabled")!=="false"),F=_(""),P=_(""),J=_(""),le=_(0),G=_([]),ie=_(!1),oe=_({api_key:"",base_url:"https://api.openai.com/v1",model:""}),be=_(!1),ce=_(-1),M=_(""),Q=_(!1),se=_(!1),D=_(""),ee=_(""),$=_(25),A=_(localStorage.getItem("weilin_prompt_ui_auto_box_width")||450),B=_(localStorage.getItem("weilin_prompt_ui_auto_box_height")||350),te=Be=>{l.value=Be,Be=="setting_auto_complete_limit"&&Ft()},he=()=>{localStorage.setItem("weilin_prompt_ui_sourceLanguage",d.value),localStorage.setItem("weilin_prompt_ui_targetLanguage",c.value),window.parent.postMessage({type:"weilin_prompt_ui_translate_setting"},"*"),K({type:"success",str:"message.saveSuccess"})},we=()=>{localStorage.setItem("weilin_function_toggles_clearAll",O.value),localStorage.setItem("weilin_function_toggles_deleteButton",Y.value),localStorage.setItem("weilin_function_toggles_randomTag",Z.value),localStorage.setItem("weilin_function_toggles_randomTagSettings",W.value),localStorage.setItem("weilin_function_toggles_translateTag",ne.value),localStorage.setItem("weilin_function_toggles_clearDisabled",ae.value),n("functionTogglesUpdated",{clearAll:O.value,deleteButton:Y.value,randomTag:Z.value,randomTagSettings:W.value,translateTag:ne.value,clearDisabled:ae.value}),K({type:"success",str:"message.saveSuccess"})},C=Be=>{const Ce=Be.target.files[0];if(Ce){const Ee=new FileReader;Ee.onload=Ct=>{b.value=Ct.target.result,localStorage.setItem("weilin_prompt_ui_customSkinUrl",Ct.target.result)},Ee.readAsDataURL(Ce)}},w=()=>{L.value="#6a11cb",U.value="#2575fc"},N=()=>{if(f.value<1||m.value<5||g.value<5){K({type:"warn",str:"message.error"});return}localStorage.setItem("weilin_prompt_ui_floatingBallEnabled",v.value),localStorage.setItem("weilin_prompt_ui_floatingBallCount",f.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",m.value),localStorage.setItem("weilin_prompt_ui_floatingBallHeightSize",g.value),localStorage.setItem("weilin_prompt_ui_ballSkinType",y.value),localStorage.setItem("weilin_prompt_ui_bgType",x.value),localStorage.setItem("weilin_prompt_ui_gradientColor1",L.value),localStorage.setItem("weilin_prompt_ui_gradientColor2",U.value),localStorage.setItem("weilin_prompt_ui_ballBorderRadius",S.value),localStorage.setItem("weilin_prompt_ui_floatingBallHeightSize",g.value),window.parent.postMessage({type:"weilin_prompt_ui_floating_ball_setting"},"*"),K({type:"success",str:"message.saveSuccess"})},z=()=>{localStorage.setItem("weilin_prompt_ui_comma_conversion",R.value),localStorage.setItem("weilin_prompt_ui_period_conversion",V.value),localStorage.setItem("weilin_prompt_ui_bracket_conversion",j.value),localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion",H.value),localStorage.setItem("weilin_prompt_ui_underscore_to_bracket",q.value),localStorage.setItem("weilin_prompt_ui_comma_close_autocomplete",_e.value),localStorage.setItem("weilin_prompt_ui_bracket_escape",re.value),K({type:"success",str:"message.saveSuccess"})},xe=()=>{Zl.getUserSetting().then(Be=>{G.value=Be.data.openai_settings,le.value=Be.data.select_openai})},ye=()=>{oe.value={api_key:"",base_url:"https://api.openai.com/v1",model:""},be.value=!1,ie.value=!0},X=Be=>{Ms.deleteOpenAiSetting({index:Be}).then(Ce=>{xe(),K({type:"success",str:"message.deleteSuccess"})}).catch(Ce=>{K({type:"warn",str:"message.networkError"})})},de=Be=>{ce.value===Be?ce.value=-1:(oe.value={...G.value[Be]},ce.value=Be)},Oe=Be=>{Ms.updateOpenAiSetting({index:Be,...oe.value}).then(Ce=>{xe(),ce.value=-1,K({type:"success",str:"message.saveSuccess"})}).catch(Ce=>{K({type:"warn",str:"message.networkError"})})},Pe=()=>{Ms.addOpenAiSetting({...oe.value}).then(Be=>{xe(),ie.value=!1,ce.value=-1,K({type:"success",str:"message.saveSuccess"})}).catch(Be=>{K({type:"warn",str:"message.networkError"})})},Fe=()=>{ie.value=!1,ce.value=-1},Qe=()=>{Ms.setOpenAiSelect({index:le.value}).then(Be=>{K({type:"success",str:"message.saveSuccess"})}).catch(Be=>{K({type:"warn",str:"message.networkError"})})},st=()=>{window.open("https://afdian.com/a/weilin9999","_blank")},yt=()=>{Zl.startPanel().then(Be=>{K({type:"success",str:"message.startPanelSuccess"})}).catch(Be=>{K({type:"warn",str:"message.startPanelFailed"})})},Rt=()=>{mn.getTranslatePackagesState().then(Be=>{Be.info=="ok"?se.value=!0:se.value=!1}).catch(Be=>{K({type:"warn",str:"message.getTranslaterFail"})})},Wn=()=>{mn.getTranslateSetting().then(Be=>{localStorage.setItem("weilin_prompt_ui_translater_setting",Be.data),M.value=Be.data}).catch(Be=>{K({type:"warn",str:"message.getTranslaterFail"})})},Qo=()=>{mn.applyTranslateSetting(M.value).then(Be=>{Be.info=="ok"?(localStorage.setItem("weilin_prompt_ui_translater_setting",M.value),K({type:"success",str:"message.applyTranslaterSuccess"})):K({type:"warn",str:"message.applyToTranslaterFail"})}).catch(Be=>{K({type:"warn",str:"message.applyTranslaterFail"})})},Qt=()=>{mn.getTranslateBuktSetting().then(Be=>{F.value=Be.data.translate_service,P.value=Be.data.translate_source_lang,J.value=Be.data.translate_target_lang}).catch(Be=>{K({type:"warn",str:"message.getTranslaterFail"})})},Jt=()=>{mn.saveTranslateSetting(F.value,P.value,J.value).then(Be=>{Be.info=="ok"?K({type:"success",str:"message.saveSuccess"}):K({type:"warn",str:"message.saveFailed"})}).catch(Be=>{K({type:"warn",str:"message.saveFailed"})})},Dn=()=>{mn.translaterInputText(D.value).then(Be=>{ee.value=Be.text}).catch(Be=>{K({type:"warn",str:"message.translaterTestFail"})})},ko=_(null),Us=()=>{Q.value=!0,mn.installTranslatePackage().then(Be=>{Q.value=!1,se.value=!0,K({type:"success",str:"message.tranlaterPackageInstallSuccess"})}).catch(Be=>{Q.value=!1,K({type:"warn",str:"message.tranlaterPackageInstallFail"})})},Ft=async()=>{await Xi.getAutocompleteLimit().then(Be=>{$.value=Be.data}).catch(Be=>{console.error(Be),K({type:"warn",str:"message.networkError"})})},fa=async()=>{await Xi.updateAutocompleteLimit($.value).then(Be=>{K({type:"success",str:"message.saveSuccess"}),localStorage.setItem("weilin_prompt_ui_auto_box_width",A.value),localStorage.setItem("weilin_prompt_ui_auto_box_height",B.value)}).catch(Be=>{console.error(Be),K({type:"warn",str:"message.networkError"})})};return rt(()=>{Qt(),Rt(),Wn(),xe()}),Rn(()=>{ko.value&&clearInterval(ko.value)}),t({open:()=>{l.value="translator",r.value="baidu",u.value="",d.value=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",c.value=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified",f.value=localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1,m.value=localStorage.getItem("weilin_prompt_ui_floatingBallSize")||5,v.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true",R.value=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",V.value=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",j.value=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",H.value=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",q.value=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",_e.value=localStorage.getItem("weilin_prompt_ui_comma_close_autocomplete")==="true",s.value=!0}}),(Be,Ce)=>(T(),bt(Ia,{modelValue:s.value,"onUpdate:modelValue":Ce[48]||(Ce[48]=Ee=>s.value=Ee),title:p(o)("promptBox.settings.title")},{footer:ut(()=>[i("button",{onClick:Ce[47]||(Ce[47]=Ee=>s.value=!1)},h(p(o)("promptBox.settings.close")),1)]),default:ut(()=>[i("div",wy,[i("div",xy,[i("ul",null,[i("li",{class:Le({"weilin-comfyui-active":l.value==="translator"}),onClick:Ce[0]||(Ce[0]=Ee=>te("translator"))},h(p(o)("promptBox.settings.translator")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_function_toggles"}),onClick:Ce[1]||(Ce[1]=Ee=>te("setting_function_toggles"))},h(p(o)("promptBox.settings.setting_function_toggles")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_auto_complete_limit"}),onClick:Ce[2]||(Ce[2]=Ee=>te("setting_auto_complete_limit"))},h(p(o)("promptBox.settings.setting_auto_complete_limit")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_floating_ball"}),onClick:Ce[3]||(Ce[3]=Ee=>te("setting_floating_ball"))},h(p(o)("promptBox.settings.setting_floating_ball")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_prompt_box"}),onClick:Ce[4]||(Ce[4]=Ee=>te("setting_prompt_box"))},h(p(o)("promptBox.settings.setting_prompt_box")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_openai_box"}),onClick:Ce[5]||(Ce[5]=Ee=>te("setting_openai_box"))},h(p(o)("promptBox.settings.setting_openai_box")),3),i("li",{class:Le({"weilin-comfyui-active":l.value==="setting_sponsor_me"}),onClick:Ce[6]||(Ce[6]=Ee=>te("setting_sponsor_me"))},h(p(o)("promptBox.settings.setting_sponsor_me")),3)])]),i("div",Ty,[l.value==="translator"?(T(),k("div",Sy,[i("h3",null,h(p(o)("promptBox.settings.translator")),1),i("div",ky,[i("label",null,h(p(o)("promptBox.settings.selectTranslater")),1),ve(i("select",{style:{"margin-left":"10px"},"onUpdate:modelValue":Ce[7]||(Ce[7]=Ee=>M.value=Ee),class:"weilin-comfyui-common-select"},[...Ce[49]||(Ce[49]=[i("option",{value:"other_ai_plate"},"AI",-1),i("option",{value:"openai"},"OpenAI API ",-1)])],512),[[zt,M.value]]),i("button",{class:"weilin-comfyui-install-button",onClick:Qo},h(p(o)("promptBox.settings.apply")),1)]),i("div",Cy,[M.value=="other_ai_plate"?(T(),k("div",Ey,[We(by)])):fe("",!0),M.value=="network"?(T(),k("div",Ly,[i("div",$y,h(p(o)("promptBox.settings.selectOptionNetworkTranslaterTitle")),1),i("div",Ay,h(p(o)("promptBox.settings.selectOptionNetworkTranslaterInfo"))+"https://github.com/xnx3/translate",1),i("div",Iy,[i("label",null,h(p(o)("promptBox.settings.sourceLanguage")),1),ve(i("select",{"onUpdate:modelValue":Ce[8]||(Ce[8]=Ee=>d.value=Ee),class:"weilin-comfyui-common-select"},[i("option",My,h(p(o)("promptBox.settings.auto_detect")),1),i("option",Ry,h(p(o)("promptBox.settings.chinese_simplified")),1),i("option",Oy,h(p(o)("promptBox.settings.english")),1)],512),[[zt,d.value]])]),i("div",Ny,[i("label",null,h(p(o)("promptBox.settings.targetLanguage")),1),ve(i("select",{"onUpdate:modelValue":Ce[9]||(Ce[9]=Ee=>c.value=Ee),class:"weilin-comfyui-common-select"},[i("option",Dy,h(p(o)("promptBox.settings.chinese_simplified")),1),i("option",Py,h(p(o)("promptBox.settings.english")),1)],512),[[zt,c.value]])]),i("button",{class:"weilin-comfyui-save-button",onClick:he},h(p(o)("promptBox.settings.save")),1)])):fe("",!0),M.value=="translater"?(T(),k("div",Fy,[i("div",By,h(p(o)("promptBox.settings.selectOptionPythonTranslaterTitle")),1),i("div",Uy,h(p(o)("promptBox.settings.selectOptionPythonTranslaterInfo"))+"https://github.com/UlionTse/translators",1),i("div",Hy,[i("div",Vy,h(p(o)("promptBox.settings.nowTranlaterPackageState"))+" "+h(se.value?p(o)("promptBox.settings.tranlaterPackageStateTrue"):p(o)("promptBox.settings.tranlaterPackageStateFlase")),1),Q.value?(T(),k("div",jy,h(p(o)("promptBox.settings.installTranslaterPackageInfo")),1)):fe("",!0),se.value?fe("",!0):(T(),k("div",Wy,[i("button",{disabled:Q.value,class:"weilin-comfyui-install-button",onClick:Us},h(Q.value?p(o)("promptBox.settings.installed"):p(o)("promptBox.settings.install")),9,zy)]))]),se.value?(T(),k("div",qy,[i("div",Gy,h(p(o)("promptBox.settings.translaterSetting")),1),i("div",Qy,[i("label",null,h(p(o)("promptBox.settings.chooseTranslaterSetting")),1),ve(i("select",{"onUpdate:modelValue":Ce[10]||(Ce[10]=Ee=>F.value=Ee)},[(T(!0),k(Me,null,je(p(Z_),(Ee,Ct)=>(T(),k("option",{index:Ct,key:"tran-item_"+Ct,value:Ee},h(p(o)("translaterService."+Ee)),9,Yy))),128))],512),[[zt,F.value]])]),i("div",Ky,[i("div",Jy,[i("label",null,h(p(o)("promptBox.settings.translaterLangSourceSetting")),1),ve(i("select",{"onUpdate:modelValue":Ce[11]||(Ce[11]=Ee=>P.value=Ee)},[(T(!0),k(Me,null,je(p(er),(Ee,Ct)=>(T(),k("option",{index:Ct,key:"lan-item_"+Ct,value:Ee.translator},h(p(o)("translaterLanguage."+Ee.language)),9,Xy))),128))],512),[[zt,P.value]])]),i("div",Zy,[i("label",null,h(p(o)("promptBox.settings.translaterLangTargeSetting")),1),ve(i("select",{"onUpdate:modelValue":Ce[12]||(Ce[12]=Ee=>J.value=Ee)},[(T(!0),k(Me,null,je(p(er),(Ee,Ct)=>(T(),k("option",{index:Ct,key:"lan-mu-item_"+Ct,value:Ee.translator},h(p(o)("translaterLanguage."+Ee.language)),9,eb))),128))],512),[[zt,J.value]])])]),i("button",{class:"weilin-comfyui-install-button",onClick:Jt},h(p(o)("promptBox.settings.saveTranslaterSetting")),1)])):fe("",!0),se.value?(T(),k("div",tb,[i("div",nb,h(p(o)("promptBox.settings.testTranslaterTitle")),1),i("div",ob,[i("label",null,h(p(o)("promptBox.settings.inputTestTranslater")),1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[13]||(Ce[13]=Ee=>D.value=Ee),placeholder:p(o)("promptBox.settings.inputTestTranslaterPlaceholder")},null,8,ab),[[Ae,D.value]])]),i("div",sb,[i("label",null,h(p(o)("promptBox.settings.outPutTestTranslater")),1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[14]||(Ce[14]=Ee=>ee.value=Ee),readonly:"",placeholder:p(o)("promptBox.settings.outPutTestTranslaterPlaceholder")},null,8,lb),[[Ae,ee.value]])]),i("button",{class:"weilin-comfyui-install-button",onClick:Dn},h(p(o)("promptBox.settings.testingTranslater")),1)])):fe("",!0)])):fe("",!0)])])):fe("",!0),l.value==="setting_auto_complete_limit"?(T(),k("div",rb,[i("h3",null,h(p(o)("promptBox.settings.setting_auto_complete_limit")),1),i("div",ib,[i("div",ub,[i("label",null,h(p(o)("promptBox.settings.show_auto_limit")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[15]||(Ce[15]=Ee=>$.value=Ee),min:"1",max:"99999999",style:{width:"100px"},placeholder:p(o)("promptBox.settings.showAutoLimitPlaceholder")},null,8,cb),[[Ae,$.value,void 0,{number:!0}]])]),i("div",db,[i("label",null,h(p(o)("promptBox.settings.settingAutoCompleteWidth")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[16]||(Ce[16]=Ee=>A.value=Ee),min:"5",style:{width:"100px"},placeholder:p(o)("promptBox.settings.settingAutoCompleteWidthPlaceholder")},null,8,fb),[[Ae,A.value,void 0,{number:!0}]])]),i("div",pb,[i("label",null,h(p(o)("promptBox.settings.settingAutoCompleteHeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[17]||(Ce[17]=Ee=>B.value=Ee),min:"5",style:{width:"100px"},placeholder:p(o)("promptBox.settings.settingAutoCompleteHeightPlaceholder")},null,8,gb),[[Ae,B.value,void 0,{number:!0}]])]),i("button",{class:"weilin-comfyui-save-button",onClick:fa},h(p(o)("promptBox.settings.save")),1)])])):fe("",!0),l.value==="setting_function_toggles"?(T(),k("div",mb,[i("h3",null,h(p(o)("promptBox.settings.setting_function_toggles_full")),1),i("div",hb,[i("div",vb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[18]||(Ce[18]=Ee=>O.value=Ee)},null,512),[[$t,O.value]]),ze(" "+h(p(o)("promptBox.settings.enableClearAll")),1)])]),i("div",_b,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[19]||(Ce[19]=Ee=>Y.value=Ee)},null,512),[[$t,Y.value]]),ze(" "+h(p(o)("promptBox.settings.enableDeleteButton")),1)])]),i("div",yb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[20]||(Ce[20]=Ee=>Z.value=Ee)},null,512),[[$t,Z.value]]),ze(" "+h(p(o)("promptBox.settings.enableRandomTag")),1)])]),i("div",bb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[21]||(Ce[21]=Ee=>W.value=Ee)},null,512),[[$t,W.value]]),ze(" "+h(p(o)("promptBox.settings.enableRandomTagSettings")),1)])]),i("div",wb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[22]||(Ce[22]=Ee=>ne.value=Ee)},null,512),[[$t,ne.value]]),ze(" "+h(p(o)("promptBox.settings.enableTranslateTag")),1)])]),i("div",xb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[23]||(Ce[23]=Ee=>ae.value=Ee)},null,512),[[$t,ae.value]]),ze(" "+h(p(o)("promptBox.settings.enableClearDisabled")),1)])]),i("button",{class:"weilin-comfyui-save-button",onClick:we},h(p(o)("promptBox.settings.save")),1)])])):fe("",!0),l.value==="setting_floating_ball"?(T(),k("div",Tb,[i("h3",null,h(p(o)("promptBox.settings.setting_floating_ball")),1),i("div",Sb,[i("div",kb,[i("div",Cb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[24]||(Ce[24]=Ee=>v.value=Ee)},null,512),[[$t,v.value]]),ze(" "+h(p(o)("promptBox.settings.enableFloatingBall")),1)])]),i("div",Eb,[i("label",null,h(p(o)("promptBox.settings.floatingBallCount")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[25]||(Ce[25]=Ee=>f.value=Ee),min:"1",max:"100",placeholder:p(o)("promptBox.settings.floatingBallCountPlaceholder")},null,8,Lb),[[Ae,f.value,void 0,{number:!0}]])]),i("div",$b,[i("label",null,h(p(o)("promptBox.settings.floatingBallSize")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[26]||(Ce[26]=Ee=>m.value=Ee),min:"5",max:"999999",placeholder:p(o)("promptBox.settings.floatingBallSizePlaceholder")},null,8,Ab),[[Ae,m.value,void 0,{number:!0}]])]),i("div",Ib,[i("label",null,h(p(o)("promptBox.settings.floatingBallHeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[27]||(Ce[27]=Ee=>g.value=Ee),min:"5",max:"999999",placeholder:p(o)("promptBox.settings.floatingBallHeightPlaceholder")},null,8,Mb),[[Ae,g.value,void 0,{number:!0}]])])]),i("div",Rb,[i("div",Ob,[i("label",null,h(p(o)("promptBox.settings.skinSetting")),1),ve(i("select",{"onUpdate:modelValue":Ce[28]||(Ce[28]=Ee=>y.value=Ee)},[i("option",Nb,h(p(o)("promptBox.settings.defaultSkin")),1),i("option",Db,h(p(o)("promptBox.settings.customSkin")),1)],512),[[zt,y.value]])]),y.value==="custom"?(T(),k("div",Pb,[i("label",null,h(p(o)("promptBox.settings.uploadSkin")),1),i("input",{type:"file",accept:"image/*",onChange:C,ref:"skinUploader"},null,544),b.value?(T(),k("div",Fb,[i("img",{src:b.value,alt:"Custom Skin Preview"},null,8,Bb)])):fe("",!0)])):fe("",!0)]),i("div",Ub,[i("label",null,h(p(o)("promptBox.settings.bgSetting")),1),ve(i("select",{"onUpdate:modelValue":Ce[29]||(Ce[29]=Ee=>x.value=Ee)},[i("option",Hb,h(p(o)("promptBox.settings.gradientBg")),1),i("option",Vb,h(p(o)("promptBox.settings.transparentBg")),1)],512),[[zt,x.value]])]),x.value==="gradient"?(T(),k("div",jb,[i("label",null,h(p(o)("promptBox.settings.gradientColor")),1),i("div",Wb,[ve(i("input",{type:"color","onUpdate:modelValue":Ce[30]||(Ce[30]=Ee=>L.value=Ee)},null,512),[[Ae,L.value]]),ve(i("input",{type:"color","onUpdate:modelValue":Ce[31]||(Ce[31]=Ee=>U.value=Ee)},null,512),[[Ae,U.value]]),i("button",{onClick:w,style:{"margin-left":"10px",width:"200px"}},h(p(o)("promptBox.settings.resetToDefault")),1)])])):fe("",!0),i("div",zb,[i("label",null,h(p(o)("promptBox.settings.borderRadius")),1),ve(i("input",{type:"number","onUpdate:modelValue":Ce[32]||(Ce[32]=Ee=>S.value=Ee),min:"0",max:"50"},null,512),[[Ae,S.value,void 0,{number:!0}]])]),i("button",{class:"weilin-comfyui-save-button",style:{"grid-column":"span 2"},onClick:N},h(p(o)("promptBox.settings.save")),1)])])):fe("",!0),l.value==="setting_prompt_box"?(T(),k("div",qb,[i("h3",null,h(p(o)("promptBox.settings.setting_prompt_box")),1),i("div",Gb,[i("div",Qb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[33]||(Ce[33]=Ee=>R.value=Ee)},null,512),[[$t,R.value]]),ze(" "+h(p(o)("promptBox.settings.enableCommaConversion")),1)])]),i("div",Yb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[34]||(Ce[34]=Ee=>V.value=Ee)},null,512),[[$t,V.value]]),ze(" "+h(p(o)("promptBox.settings.enablePeriodConversion")),1)])]),i("div",Kb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[35]||(Ce[35]=Ee=>j.value=Ee)},null,512),[[$t,j.value]]),ze(" "+h(p(o)("promptBox.settings.enableBracketConversion")),1)])]),i("div",Jb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[36]||(Ce[36]=Ee=>H.value=Ee)},null,512),[[$t,H.value]]),ze(" "+h(p(o)("promptBox.settings.enableAngleBracketConversion")),1)])]),i("div",Xb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[37]||(Ce[37]=Ee=>q.value=Ee)},null,512),[[$t,q.value]]),ze(" "+h(p(o)("promptBox.settings.enableUnderscoreToBracket")),1)])]),i("div",Zb,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[38]||(Ce[38]=Ee=>_e.value=Ee)},null,512),[[$t,_e.value]]),ze(" "+h(p(o)("promptBox.settings.enableCommaCloseAutocomplete")),1)])]),i("div",e4,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":Ce[39]||(Ce[39]=Ee=>re.value=Ee)},null,512),[[$t,re.value]]),ze(" "+h(p(o)("promptBox.settings.enableBracketEscape")),1)])]),i("button",{class:"weilin-comfyui-save-button",onClick:z},h(p(o)("promptBox.settings.save")),1)])])):fe("",!0),l.value==="setting_openai_box"?(T(),k("div",t4,[i("h3",null,h(p(o)("promptBox.settings.openaiSettings")),1),i("div",n4,[i("div",o4,[i("label",null,h(p(o)("promptBox.settings.selectedOpenaiConfig")),1),ve(i("select",{"onUpdate:modelValue":Ce[40]||(Ce[40]=Ee=>le.value=Ee),onChange:Qe},[(T(!0),k(Me,null,je(G.value,(Ee,Ct)=>(T(),k("option",{key:Ct,value:Ct},h(Ee.model)+" ("+h(Ee.base_url)+") ",9,a4))),128))],544),[[zt,le.value]])]),i("div",s4,[(T(!0),k(Me,null,je(G.value,(Ee,Ct)=>(T(),k("div",{key:Ct,class:"weilin-comfyui-config-item"},[i("div",l4,[i("span",null,h(Ee.model),1),i("div",r4,[i("button",{onClick:Sn=>de(Ct)},h(ce.value===Ct?p(o)("promptBox.settings.cancel"):p(o)("promptBox.settings.edit")),9,i4),i("button",{onClick:Sn=>X(Ct)},h(p(o)("promptBox.settings.delete")),9,u4)])]),ce.value===Ct?(T(),k("div",c4,[i("div",d4,[i("label",null,h(p(o)("promptBox.settings.openai_api_key"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[41]||(Ce[41]=Sn=>oe.value.api_key=Sn),placeholder:p(o)("promptBox.settings.openai_api_key_placeholder")},null,8,f4),[[Ae,oe.value.api_key]])]),i("div",p4,[i("label",null,h(p(o)("promptBox.settings.openai_base_url"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[42]||(Ce[42]=Sn=>oe.value.base_url=Sn),placeholder:p(o)("promptBox.settings.openai_base_url_placeholder")},null,8,g4),[[Ae,oe.value.base_url]])]),i("div",m4,[i("label",null,h(p(o)("promptBox.settings.openai_model"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[43]||(Ce[43]=Sn=>oe.value.model=Sn),placeholder:p(o)("promptBox.settings.openai_model_placeholder")},null,8,h4),[[Ae,oe.value.model]])]),i("div",v4,[i("button",{onClick:Sn=>Oe(Ct)},h(p(o)("promptBox.settings.save")),9,_4)])])):(T(),k("div",y4,[i("div",null,h(p(o)("promptBox.settings.openai_api_key"))+": "+h(Ee.api_key?"******":p(o)("promptBox.settings.not_set")),1),i("div",null,h(p(o)("promptBox.settings.openai_base_url"))+": "+h(Ee.base_url),1)]))]))),128))]),ie.value?(T(),k("div",b4,[i("div",w4,[i("label",null,h(p(o)("promptBox.settings.openai_api_key"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[44]||(Ce[44]=Ee=>oe.value.api_key=Ee),placeholder:p(o)("promptBox.settings.openai_api_key_placeholder")},null,8,x4),[[Ae,oe.value.api_key]])]),i("div",T4,[i("label",null,h(p(o)("promptBox.settings.openai_base_url"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[45]||(Ce[45]=Ee=>oe.value.base_url=Ee),placeholder:p(o)("promptBox.settings.openai_base_url_placeholder")},null,8,S4),[[Ae,oe.value.base_url]])]),i("div",k4,[i("label",null,h(p(o)("promptBox.settings.openai_model"))+":",1),ve(i("input",{type:"text","onUpdate:modelValue":Ce[46]||(Ce[46]=Ee=>oe.value.model=Ee),placeholder:p(o)("promptBox.settings.openai_model_placeholder")},null,8,C4),[[Ae,oe.value.model]])]),i("div",E4,[i("button",{onClick:Fe},h(p(o)("promptBox.settings.cancel")),1),i("button",{onClick:Pe},h(p(o)("promptBox.settings.save")),1)])])):fe("",!0),ie.value?fe("",!0):(T(),k("button",{key:1,class:"weilin-comfyui-add-button",onClick:ye},h(p(o)("promptBox.settings.addNewConfig")),1))])])):fe("",!0),l.value==="setting_sponsor_me"?(T(),k("div",L4,[i("h3",null,h(p(o)("promptBox.settings.setting_sponsor_me")),1),i("div",$4,[i("h1",null,h(p(o)("promptBox.settings.sponsorMeTip")),1),i("h2",null,h(p(o)("promptBox.settings.sponsorMeLink")),1),i("button",{class:"weilin-comfyui-sponsor-me-button",onClick:st},h(p(o)("promptBox.settings.sponsorMe")),1)])])):fe("",!0),l.value==="setting_start_panel"?(T(),k("div",A4,[i("h3",null,h(p(o)("promptBox.settings.setting_start_panel")),1),i("div",I4,[i("h4",null,h(p(o)("promptBox.settings.startPanelTip")),1),i("button",{class:"weilin-comfyui-start-panel-button",onClick:yt},h(p(o)("promptBox.settings.startPanel")),1)])])):fe("",!0)])])]),_:1},8,["modelValue","title"]))}},[["__scopeId","data-v-3c2c3f6c"]]),M4=["title"],R4={class:"switch-icon"},O4={key:0,class:"moon",viewBox:"0 0 24 24"},N4={key:1,class:"sun",viewBox:"0 0 24 24"},D4="weilin_tools_",P4=_t({__name:"ThemeSwitch",setup(e){const{t}=vt(),a=`${D4}theme`,n=_(localStorage.getItem(a)==="dark"),o=()=>{n.value=!n.value;const s=document.getElementById("weilin_comfyui_tools_prompt_ui_div");s&&s.setAttribute("data-theme",n.value?"dark":"light"),localStorage.setItem(a,n.value?"dark":"light")};return(s,l)=>(T(),k("button",{class:"theme-switch",onClick:o,title:p(t)("theme.toggle")},[i("div",R4,[n.value?(T(),k("svg",O4,[...l[0]||(l[0]=[i("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)])])):(T(),k("svg",N4,[...l[1]||(l[1]=[i("circle",{cx:"12",cy:"12",r:"5"},null,-1),i("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"},null,-1)])]))]),rs(s.$slots,"default",{isDark:n.value},void 0,!0)],8,M4))}},[["__scopeId","data-v-e8b2125f"]]),xn="weilin_tools_",Mt={getTagsList:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/get_group_tags",method:"get",params:{...e,lang:t}})},addPrimaryCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/add_new_f_group",method:"post",data:{...e,lang:t}})},editPrimaryCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/edit_f_group",method:"post",data:{...e,lang:t}})},deletePrimaryCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/delete_f_group",method:"post",data:{...e,lang:t}})},addSubCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/add_new_s_group",method:"post",data:{...e,lang:t}})},editSubCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/edit_s_group",method:"post",data:{...e,lang:t}})},deleteSubCategory:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/delete_s_group",method:"post",data:{...e,lang:t}})},addNewTags:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/new_tags",method:"post",data:{...e,lang:t}})},editTags:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/edit_tags",method:"post",data:{...e,lang:t}})},deleteTags:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/delete_tags",method:"post",data:{...e,lang:t}})},batchDeleteTags:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/batch_delete_tags",method:"post",data:{...e,lang:t}})},moveTag:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/move_tag",method:"post",data:{...e,lang:t}})},getTagsGroupList:async()=>await Ie({url:"/prompt/get_groups_list",method:"post"}),runSQLToServer:async e=>await Ie({url:"/prompt/run_sql_text",method:"post",timeout:0,data:{sql:e}}),moveMainGroup:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/move_group",method:"post",data:{...e,lang:t}})},moveSubGroup:async e=>{const t=localStorage.getItem(`${xn}userLocale`)||"zh_CN";return await Ie({url:"/prompt/move_subgroup",method:"post",data:{...e,lang:t}})},getTagMainGroup:async()=>await Ie({url:"/prompt/get_tag_groups",method:"post"}),getTagSubGroup:async e=>await Ie({url:"/prompt/get_tag_subgroups",method:"post",data:{p_uuid:e}}),getTagList:async e=>await Ie({url:"/prompt/get_tag_tags",method:"post",data:{g_uuid:e}}),searchTag:async e=>await Ie({url:"/prompt/search_tags",method:"post",data:{keyword:e}})};/**
 * uuidv7: A JavaScript implementation of UUID version 7
 *
 * Copyright 2021-2024 LiosK
 *
 * @license Apache-2.0
 * @packageDocumentation
 */const tr="0123456789abcdef";class ca{constructor(t){this.bytes=t}static ofInner(t){if(t.length!==16)throw new TypeError("not 128-bit length");return new ca(t)}static fromFieldsV7(t,a,n,o){if(!Number.isInteger(t)||!Number.isInteger(a)||!Number.isInteger(n)||!Number.isInteger(o)||t<0||a<0||n<0||o<0||t>0xffffffffffff||a>4095||n>1073741823||o>4294967295)throw new RangeError("invalid field value");const s=new Uint8Array(16);return s[0]=t/2**40,s[1]=t/2**32,s[2]=t/2**24,s[3]=t/2**16,s[4]=t/2**8,s[5]=t,s[6]=112|a>>>8,s[7]=a,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=o>>>24,s[13]=o>>>16,s[14]=o>>>8,s[15]=o,new ca(s)}static parse(t){var a,n,o,s;let l;switch(t.length){case 32:l=(a=/^[0-9a-f]{32}$/i.exec(t))===null||a===void 0?void 0:a[0];break;case 36:l=(n=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||n===void 0?void 0:n.slice(1,6).join("");break;case 38:l=(o=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(t))===null||o===void 0?void 0:o.slice(1,6).join("");break;case 45:l=(s=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||s===void 0?void 0:s.slice(1,6).join("");break}if(l){const r=new Uint8Array(16);for(let u=0;u<16;u+=4){const d=parseInt(l.substring(2*u,2*u+8),16);r[u+0]=d>>>24,r[u+1]=d>>>16,r[u+2]=d>>>8,r[u+3]=d}return new ca(r)}else throw new SyntaxError("could not parse UUID string")}toString(){let t="";for(let a=0;a<this.bytes.length;a++)t+=tr.charAt(this.bytes[a]>>>4),t+=tr.charAt(this.bytes[a]&15),(a===3||a===5||a===7||a===9)&&(t+="-");return t}toHex(){let t="";for(let a=0;a<this.bytes.length;a++)t+=tr.charAt(this.bytes[a]>>>4),t+=tr.charAt(this.bytes[a]&15);return t}toJSON(){return this.toString()}getVariant(){const t=this.bytes[8]>>>4;if(t<0)throw new Error("unreachable");if(t<=7)return this.bytes.every(a=>a===0)?"NIL":"VAR_0";if(t<=11)return"VAR_10";if(t<=13)return"VAR_110";if(t<=15)return this.bytes.every(a=>a===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new ca(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(let a=0;a<16;a++){const n=this.bytes[a]-t.bytes[a];if(n!==0)return Math.sign(n)}return 0}}class F4{constructor(t){this.timestamp=0,this.counter=0,this.random=t??B4()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(t,a){let n=this.generateOrAbortCore(t,a);return n===void 0&&(this.timestamp=0,n=this.generateOrAbortCore(t,a)),n}generateOrAbortCore(t,a){if(!Number.isInteger(t)||t<1||t>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(a<0||a>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(t>this.timestamp)this.timestamp=t,this.resetCounter();else if(t+a>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return ca.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const t=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return t[6]=64|t[6]>>>4,t[8]=128|t[8]>>>2,ca.ofInner(t)}}const B4=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new U4;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class U4{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let Hp;const Wo=()=>H4().toString(),H4=()=>(Hp||(Hp=new F4)).generate(),V4={class:"tag-manager"},j4={class:"category-tabs"},W4={class:"tabs-wrapper primary-tabs"},z4={class:"tabs-scroll"},q4=["onClick"],G4={class:"tab-text"},Q4={key:0,class:"tabs-wrapper group-tabs"},Y4={class:"tabs-scroll"},K4=["onClick"],J4={class:"tab-text"},Vp=_t({__name:"tag_group_select",emits:["sureSelect"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=a,s=_([]),l=_(null),r=_(null),u=_([]),d=_(!1),c=_(!1),f=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh_select"},"*")},m=async()=>{try{const L=await Mt.getTagsGroupList();if(s.value=L.info,r.value){const U=s.value.flatMap(S=>S.groups).find(S=>S.p_uuid===r.value.p_uuid);U?r.value=U:r.value=null}if(l.value){const U=s.value.find(S=>S.p_uuid===l.value.p_uuid);U?l.value=U:l.value=null}}catch(L){console.error(":",L)}},g=L=>{if(!L||L==="transparent")return"var(--primary-text)";let U,S,R,V=1;if(L.startsWith("rgba")){const H=L.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);H&&([,U,S,R,V]=H.map(Number))}else if(L.startsWith("rgb")){const H=L.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);H&&([,U,S,R]=H.map(Number))}return V<.5?"var(--primary-text)":(U*299+S*587+R*114)/1e3>128?"#000000":"#ffffff"};rt(()=>{window.addEventListener("message",b)}),Oo(()=>{window.removeEventListener("message",b)});const v=L=>{l.value=L,r.value=null,d.value=!1,u.value=[]},y=L=>{r.value=L,d.value=!1,u.value=[]},b=L=>{L.data.type==="weilin_prompt_ui_tag_manager_refresh_select"&&m()},x=()=>{if(r.value==null||l.value==null){K({type:"warn",str:"message.pleaseSelectGroup"});return}o("sureSelect",{group:l.value,sub:r.value}),c.value=!1};return t({open:()=>{f(),c.value=!0}}),(L,U)=>(T(),bt(Ia,{modelValue:c.value,"onUpdate:modelValue":U[1]||(U[1]=S=>c.value=S),title:p(n)("importDialog.selectTitle")},{footer:ut(()=>[i("button",{onClick:U[0]||(U[0]=S=>c.value=!1)},h(p(n)("promptBox.settings.close")),1),i("button",{onClick:x},h(p(n)("importDialog.sureSelect")),1)]),default:ut(()=>[i("div",V4,[i("div",j4,[i("div",W4,[i("div",z4,[(T(!0),k(Me,null,je(s.value,(S,R)=>{var V,j,H;return T(),k("div",{key:"Tabss-"+R,class:Le(["tab-item",{active:((V=l.value)==null?void 0:V.name)===S.name}]),style:dt({backgroundColor:((j=l.value)==null?void 0:j.name)===S.name?"var(--primary-color)":S.color,color:((H=l.value)==null?void 0:H.name)===S.name?"#ffffff":g(S.color)}),onClick:q=>v(S)},[i("span",G4,h(S.name),1)],14,q4)}),128))])]),l.value?(T(),k("div",Q4,[i("div",Y4,[(T(!0),k(Me,null,je(l.value.groups,(S,R)=>{var V,j,H;return T(),k("div",{key:"TabsSw-"+R,class:Le(["tab-item",{active:((V=r.value)==null?void 0:V.name)===S.name}]),style:dt({backgroundColor:((j=r.value)==null?void 0:j.name)===S.name?"var(--primary-color)":S.color,color:((H=r.value)==null?void 0:H.name)===S.name?"#ffffff":g(S.color)}),onClick:q=>y(S)},[i("span",J4,h(S.name),1)],14,K4)}),128))])])):fe("",!0)])])]),_:1},8,["modelValue","title"]))}},[["__scopeId","data-v-6031c9d4"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function jp(e){return typeof e>"u"||e===null}function X4(e){return typeof e=="object"&&e!==null}function Z4(e){return Array.isArray(e)?e:jp(e)?[]:[e]}function ew(e,t){var a,n,o,s;if(t)for(s=Object.keys(t),a=0,n=s.length;a<n;a+=1)o=s[a],e[o]=t[o];return e}function tw(e,t){var a="",n;for(n=0;n<t;n+=1)a+=e;return a}function nw(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ow=jp,aw=X4,sw=Z4,lw=tw,rw=nw,iw=ew,Gt={isNothing:ow,isObject:aw,toArray:sw,repeat:lw,isNegativeZero:rw,extend:iw};function Wp(e,t){var a="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(a+='in "'+e.mark.name+'" '),a+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(a+=`

`+e.mark.snippet),n+" "+a):n}function Rs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Wp(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Rs.prototype=Object.create(Error.prototype),Rs.prototype.constructor=Rs,Rs.prototype.toString=function(t){return this.name+": "+Wp(this,t)};var hn=Rs;function eu(e,t,a,n,o){var s="",l="",r=Math.floor(o/2)-1;return n-t>r&&(s=" ... ",t=n-r+s.length),a-n>r&&(l=" ...",a=n+r-l.length),{str:s+e.slice(t,a).replace(/\t/g,"")+l,pos:n-t+s.length}}function tu(e,t){return Gt.repeat(" ",t-e.length)+e}function uw(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var a=/\r?\n|\r|\0/g,n=[0],o=[],s,l=-1;s=a.exec(e.buffer);)o.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var r="",u,d,c=Math.min(e.line+t.linesAfter,o.length).toString().length,f=t.maxLength-(t.indent+c+3);for(u=1;u<=t.linesBefore&&!(l-u<0);u++)d=eu(e.buffer,n[l-u],o[l-u],e.position-(n[l]-n[l-u]),f),r=Gt.repeat(" ",t.indent)+tu((e.line-u+1).toString(),c)+" | "+d.str+`
`+r;for(d=eu(e.buffer,n[l],o[l],e.position,f),r+=Gt.repeat(" ",t.indent)+tu((e.line+1).toString(),c)+" | "+d.str+`
`,r+=Gt.repeat("-",t.indent+c+3+d.pos)+`^
`,u=1;u<=t.linesAfter&&!(l+u>=o.length);u++)d=eu(e.buffer,n[l+u],o[l+u],e.position-(n[l]-n[l+u]),f),r+=Gt.repeat(" ",t.indent)+tu((e.line+u+1).toString(),c)+" | "+d.str+`
`;return r.replace(/\n$/,"")}var cw=uw,dw=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],fw=["scalar","sequence","mapping"];function pw(e){var t={};return e!==null&&Object.keys(e).forEach(function(a){e[a].forEach(function(n){t[String(n)]=a})}),t}function gw(e,t){if(t=t||{},Object.keys(t).forEach(function(a){if(dw.indexOf(a)===-1)throw new hn('Unknown option "'+a+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(a){return a},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=pw(t.styleAliases||null),fw.indexOf(this.kind)===-1)throw new hn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var tn=gw;function zp(e,t){var a=[];return e[t].forEach(function(n){var o=a.length;a.forEach(function(s,l){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(o=l)}),a[o]=n}),a}function mw(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,a;function n(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(t=0,a=arguments.length;t<a;t+=1)arguments[t].forEach(n);return e}function nu(e){return this.extend(e)}nu.prototype.extend=function(t){var a=[],n=[];if(t instanceof tn)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(a=a.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new hn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");a.forEach(function(s){if(!(s instanceof tn))throw new hn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new hn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new hn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof tn))throw new hn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(nu.prototype);return o.implicit=(this.implicit||[]).concat(a),o.explicit=(this.explicit||[]).concat(n),o.compiledImplicit=zp(o,"implicit"),o.compiledExplicit=zp(o,"explicit"),o.compiledTypeMap=mw(o.compiledImplicit,o.compiledExplicit),o};var qp=nu,Gp=new tn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Qp=new tn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Yp=new tn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Kp=new qp({explicit:[Gp,Qp,Yp]});function hw(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function vw(){return null}function _w(e){return e===null}var Jp=new tn("tag:yaml.org,2002:null",{kind:"scalar",resolve:hw,construct:vw,predicate:_w,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function yw(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function bw(e){return e==="true"||e==="True"||e==="TRUE"}function ww(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Xp=new tn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:yw,construct:bw,predicate:ww,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function xw(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Tw(e){return 48<=e&&e<=55}function Sw(e){return 48<=e&&e<=57}function kw(e){if(e===null)return!1;var t=e.length,a=0,n=!1,o;if(!t)return!1;if(o=e[a],(o==="-"||o==="+")&&(o=e[++a]),o==="0"){if(a+1===t)return!0;if(o=e[++a],o==="b"){for(a++;a<t;a++)if(o=e[a],o!=="_"){if(o!=="0"&&o!=="1")return!1;n=!0}return n&&o!=="_"}if(o==="x"){for(a++;a<t;a++)if(o=e[a],o!=="_"){if(!xw(e.charCodeAt(a)))return!1;n=!0}return n&&o!=="_"}if(o==="o"){for(a++;a<t;a++)if(o=e[a],o!=="_"){if(!Tw(e.charCodeAt(a)))return!1;n=!0}return n&&o!=="_"}}if(o==="_")return!1;for(;a<t;a++)if(o=e[a],o!=="_"){if(!Sw(e.charCodeAt(a)))return!1;n=!0}return!(!n||o==="_")}function Cw(e){var t=e,a=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(a=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return a*parseInt(t.slice(2),2);if(t[1]==="x")return a*parseInt(t.slice(2),16);if(t[1]==="o")return a*parseInt(t.slice(2),8)}return a*parseInt(t,10)}function Ew(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gt.isNegativeZero(e)}var Zp=new tn("tag:yaml.org,2002:int",{kind:"scalar",resolve:kw,construct:Cw,predicate:Ew,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Lw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function $w(e){return!(e===null||!Lw.test(e)||e[e.length-1]==="_")}function Aw(e){var t,a;return t=e.replace(/_/g,"").toLowerCase(),a=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?a===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:a*parseFloat(t,10)}var Iw=/^[-+]?[0-9]+e/;function Mw(e,t){var a;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gt.isNegativeZero(e))return"-0.0";return a=e.toString(10),Iw.test(a)?a.replace("e",".e"):a}function Rw(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gt.isNegativeZero(e))}var eg=new tn("tag:yaml.org,2002:float",{kind:"scalar",resolve:$w,construct:Aw,predicate:Rw,represent:Mw,defaultStyle:"lowercase"}),tg=Kp.extend({implicit:[Jp,Xp,Zp,eg]}),ng=tg,og=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ag=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ow(e){return e===null?!1:og.exec(e)!==null||ag.exec(e)!==null}function Nw(e){var t,a,n,o,s,l,r,u=0,d=null,c,f,m;if(t=og.exec(e),t===null&&(t=ag.exec(e)),t===null)throw new Error("Date resolve error");if(a=+t[1],n=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(a,n,o));if(s=+t[4],l=+t[5],r=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=+t[10],f=+(t[11]||0),d=(c*60+f)*6e4,t[9]==="-"&&(d=-d)),m=new Date(Date.UTC(a,n,o,s,l,r,u)),d&&m.setTime(m.getTime()-d),m}function Dw(e){return e.toISOString()}var sg=new tn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ow,construct:Nw,instanceOf:Date,represent:Dw});function Pw(e){return e==="<<"||e===null}var lg=new tn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Pw}),ou=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fw(e){if(e===null)return!1;var t,a,n=0,o=e.length,s=ou;for(a=0;a<o;a++)if(t=s.indexOf(e.charAt(a)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Bw(e){var t,a,n=e.replace(/[\r\n=]/g,""),o=n.length,s=ou,l=0,r=[];for(t=0;t<o;t++)t%4===0&&t&&(r.push(l>>16&255),r.push(l>>8&255),r.push(l&255)),l=l<<6|s.indexOf(n.charAt(t));return a=o%4*6,a===0?(r.push(l>>16&255),r.push(l>>8&255),r.push(l&255)):a===18?(r.push(l>>10&255),r.push(l>>2&255)):a===12&&r.push(l>>4&255),new Uint8Array(r)}function Uw(e){var t="",a=0,n,o,s=e.length,l=ou;for(n=0;n<s;n++)n%3===0&&n&&(t+=l[a>>18&63],t+=l[a>>12&63],t+=l[a>>6&63],t+=l[a&63]),a=(a<<8)+e[n];return o=s%3,o===0?(t+=l[a>>18&63],t+=l[a>>12&63],t+=l[a>>6&63],t+=l[a&63]):o===2?(t+=l[a>>10&63],t+=l[a>>4&63],t+=l[a<<2&63],t+=l[64]):o===1&&(t+=l[a>>2&63],t+=l[a<<4&63],t+=l[64],t+=l[64]),t}function Hw(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var rg=new tn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fw,construct:Bw,predicate:Hw,represent:Uw}),Vw=Object.prototype.hasOwnProperty,jw=Object.prototype.toString;function Ww(e){if(e===null)return!0;var t=[],a,n,o,s,l,r=e;for(a=0,n=r.length;a<n;a+=1){if(o=r[a],l=!1,jw.call(o)!=="[object Object]")return!1;for(s in o)if(Vw.call(o,s))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function zw(e){return e!==null?e:[]}var ig=new tn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ww,construct:zw}),qw=Object.prototype.toString;function Gw(e){if(e===null)return!0;var t,a,n,o,s,l=e;for(s=new Array(l.length),t=0,a=l.length;t<a;t+=1){if(n=l[t],qw.call(n)!=="[object Object]"||(o=Object.keys(n),o.length!==1))return!1;s[t]=[o[0],n[o[0]]]}return!0}function Qw(e){if(e===null)return[];var t,a,n,o,s,l=e;for(s=new Array(l.length),t=0,a=l.length;t<a;t+=1)n=l[t],o=Object.keys(n),s[t]=[o[0],n[o[0]]];return s}var ug=new tn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Gw,construct:Qw}),Yw=Object.prototype.hasOwnProperty;function Kw(e){if(e===null)return!0;var t,a=e;for(t in a)if(Yw.call(a,t)&&a[t]!==null)return!1;return!0}function Jw(e){return e!==null?e:{}}var cg=new tn("tag:yaml.org,2002:set",{kind:"mapping",resolve:Kw,construct:Jw}),au=ng.extend({implicit:[sg,lg],explicit:[rg,ig,ug,cg]}),zo=Object.prototype.hasOwnProperty,nr=1,dg=2,fg=3,or=4,su=1,Xw=2,pg=3,Zw=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,e3=/[\x85\u2028\u2029]/,t3=/[,\[\]\{\}]/,gg=/^(?:!|!!|![a-z\-]+!)$/i,mg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hg(e){return Object.prototype.toString.call(e)}function so(e){return e===10||e===13}function da(e){return e===9||e===32}function Tn(e){return e===9||e===32||e===10||e===13}function Ma(e){return e===44||e===91||e===93||e===123||e===125}function n3(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function o3(e){return e===120?2:e===117?4:e===85?8:0}function a3(e){return 48<=e&&e<=57?e-48:-1}function vg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function s3(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}for(var _g=new Array(256),yg=new Array(256),Ra=0;Ra<256;Ra++)_g[Ra]=vg(Ra)?1:0,yg[Ra]=vg(Ra);function l3(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||au,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function bg(e,t){var a={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return a.snippet=cw(a),new hn(t,a)}function Ue(e,t){throw bg(e,t)}function ar(e,t){e.onWarning&&e.onWarning.call(null,bg(e,t))}var wg={YAML:function(t,a,n){var o,s,l;t.version!==null&&Ue(t,"duplication of %YAML directive"),n.length!==1&&Ue(t,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),o===null&&Ue(t,"ill-formed argument of the YAML directive"),s=parseInt(o[1],10),l=parseInt(o[2],10),s!==1&&Ue(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&ar(t,"unsupported YAML version of the document")},TAG:function(t,a,n){var o,s;n.length!==2&&Ue(t,"TAG directive accepts exactly two arguments"),o=n[0],s=n[1],gg.test(o)||Ue(t,"ill-formed tag handle (first argument) of the TAG directive"),zo.call(t.tagMap,o)&&Ue(t,'there is a previously declared suffix for "'+o+'" tag handle'),mg.test(s)||Ue(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ue(t,"tag prefix is malformed: "+s)}t.tagMap[o]=s}};function qo(e,t,a,n){var o,s,l,r;if(t<a){if(r=e.input.slice(t,a),n)for(o=0,s=r.length;o<s;o+=1)l=r.charCodeAt(o),l===9||32<=l&&l<=1114111||Ue(e,"expected valid JSON character");else Zw.test(r)&&Ue(e,"the stream contains non-printable characters");e.result+=r}}function xg(e,t,a,n){var o,s,l,r;for(Gt.isObject(a)||Ue(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(a),l=0,r=o.length;l<r;l+=1)s=o[l],zo.call(t,s)||(t[s]=a[s],n[s]=!0)}function Oa(e,t,a,n,o,s,l,r,u){var d,c;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),d=0,c=o.length;d<c;d+=1)Array.isArray(o[d])&&Ue(e,"nested arrays are not supported inside keys"),typeof o=="object"&&hg(o[d])==="[object Object]"&&(o[d]="[object Object]");if(typeof o=="object"&&hg(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(d=0,c=s.length;d<c;d+=1)xg(e,t,s[d],a);else xg(e,t,s,a);else!e.json&&!zo.call(a,o)&&zo.call(t,o)&&(e.line=l||e.line,e.lineStart=r||e.lineStart,e.position=u||e.position,Ue(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[o]=s,delete a[o];return t}function lu(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ue(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Vt(e,t,a){for(var n=0,o=e.input.charCodeAt(e.position);o!==0;){for(;da(o);)o===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(so(o))for(lu(e),o=e.input.charCodeAt(e.position),n++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return a!==-1&&n!==0&&e.lineIndent<a&&ar(e,"deficient indentation"),n}function sr(e){var t=e.position,a;return a=e.input.charCodeAt(t),!!((a===45||a===46)&&a===e.input.charCodeAt(t+1)&&a===e.input.charCodeAt(t+2)&&(t+=3,a=e.input.charCodeAt(t),a===0||Tn(a)))}function ru(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gt.repeat(`
`,t-1))}function r3(e,t,a){var n,o,s,l,r,u,d,c,f=e.kind,m=e.result,g;if(g=e.input.charCodeAt(e.position),Tn(g)||Ma(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(o=e.input.charCodeAt(e.position+1),Tn(o)||a&&Ma(o)))return!1;for(e.kind="scalar",e.result="",s=l=e.position,r=!1;g!==0;){if(g===58){if(o=e.input.charCodeAt(e.position+1),Tn(o)||a&&Ma(o))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),Tn(n))break}else{if(e.position===e.lineStart&&sr(e)||a&&Ma(g))break;if(so(g))if(u=e.line,d=e.lineStart,c=e.lineIndent,Vt(e,!1,-1),e.lineIndent>=t){r=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=d,e.lineIndent=c;break}}r&&(qo(e,s,l,!1),ru(e,e.line-u),s=l=e.position,r=!1),da(g)||(l=e.position+1),g=e.input.charCodeAt(++e.position)}return qo(e,s,l,!1),e.result?!0:(e.kind=f,e.result=m,!1)}function i3(e,t){var a,n,o;if(a=e.input.charCodeAt(e.position),a!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;(a=e.input.charCodeAt(e.position))!==0;)if(a===39)if(qo(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),a===39)n=e.position,e.position++,o=e.position;else return!0;else so(a)?(qo(e,n,o,!0),ru(e,Vt(e,!1,t)),n=o=e.position):e.position===e.lineStart&&sr(e)?Ue(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);Ue(e,"unexpected end of the stream within a single quoted scalar")}function u3(e,t){var a,n,o,s,l,r;if(r=e.input.charCodeAt(e.position),r!==34)return!1;for(e.kind="scalar",e.result="",e.position++,a=n=e.position;(r=e.input.charCodeAt(e.position))!==0;){if(r===34)return qo(e,a,e.position,!0),e.position++,!0;if(r===92){if(qo(e,a,e.position,!0),r=e.input.charCodeAt(++e.position),so(r))Vt(e,!1,t);else if(r<256&&_g[r])e.result+=yg[r],e.position++;else if((l=o3(r))>0){for(o=l,s=0;o>0;o--)r=e.input.charCodeAt(++e.position),(l=n3(r))>=0?s=(s<<4)+l:Ue(e,"expected hexadecimal character");e.result+=s3(s),e.position++}else Ue(e,"unknown escape sequence");a=n=e.position}else so(r)?(qo(e,a,n,!0),ru(e,Vt(e,!1,t)),a=n=e.position):e.position===e.lineStart&&sr(e)?Ue(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ue(e,"unexpected end of the stream within a double quoted scalar")}function c3(e,t){var a=!0,n,o,s,l=e.tag,r,u=e.anchor,d,c,f,m,g,v=Object.create(null),y,b,x,L;if(L=e.input.charCodeAt(e.position),L===91)c=93,g=!1,r=[];else if(L===123)c=125,g=!0,r={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),L=e.input.charCodeAt(++e.position);L!==0;){if(Vt(e,!0,t),L=e.input.charCodeAt(e.position),L===c)return e.position++,e.tag=l,e.anchor=u,e.kind=g?"mapping":"sequence",e.result=r,!0;a?L===44&&Ue(e,"expected the node content, but found ','"):Ue(e,"missed comma between flow collection entries"),b=y=x=null,f=m=!1,L===63&&(d=e.input.charCodeAt(e.position+1),Tn(d)&&(f=m=!0,e.position++,Vt(e,!0,t))),n=e.line,o=e.lineStart,s=e.position,Na(e,t,nr,!1,!0),b=e.tag,y=e.result,Vt(e,!0,t),L=e.input.charCodeAt(e.position),(m||e.line===n)&&L===58&&(f=!0,L=e.input.charCodeAt(++e.position),Vt(e,!0,t),Na(e,t,nr,!1,!0),x=e.result),g?Oa(e,r,v,b,y,x,n,o,s):f?r.push(Oa(e,null,v,b,y,x,n,o,s)):r.push(y),Vt(e,!0,t),L=e.input.charCodeAt(e.position),L===44?(a=!0,L=e.input.charCodeAt(++e.position)):a=!1}Ue(e,"unexpected end of the stream within a flow collection")}function d3(e,t){var a,n,o=su,s=!1,l=!1,r=t,u=0,d=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)su===o?o=f===43?pg:Xw:Ue(e,"repeat of a chomping mode identifier");else if((c=a3(f))>=0)c===0?Ue(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ue(e,"repeat of an indentation width identifier"):(r=t+c-1,l=!0);else break;if(da(f)){do f=e.input.charCodeAt(++e.position);while(da(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!so(f)&&f!==0)}for(;f!==0;){for(lu(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!l||e.lineIndent<r)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>r&&(r=e.lineIndent),so(f)){u++;continue}if(e.lineIndent<r){o===pg?e.result+=Gt.repeat(`
`,s?1+u:u):o===su&&s&&(e.result+=`
`);break}for(n?da(f)?(d=!0,e.result+=Gt.repeat(`
`,s?1+u:u)):d?(d=!1,e.result+=Gt.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=Gt.repeat(`
`,u):e.result+=Gt.repeat(`
`,s?1+u:u),s=!0,l=!0,u=0,a=e.position;!so(f)&&f!==0;)f=e.input.charCodeAt(++e.position);qo(e,a,e.position,!1)}return!0}function Tg(e,t){var a,n=e.tag,o=e.anchor,s=[],l,r=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ue(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!Tn(l))));){if(r=!0,e.position++,Vt(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(a=e.line,Na(e,t,fg,!1,!0),s.push(e.result),Vt(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===a||e.lineIndent>t)&&u!==0)Ue(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return r?(e.tag=n,e.anchor=o,e.kind="sequence",e.result=s,!0):!1}function f3(e,t,a){var n,o,s,l,r,u,d=e.tag,c=e.anchor,f={},m=Object.create(null),g=null,v=null,y=null,b=!1,x=!1,L;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),L=e.input.charCodeAt(e.position);L!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ue(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(L===63||L===58)&&Tn(n))L===63?(b&&(Oa(e,f,m,g,v,null,l,r,u),g=v=y=null),x=!0,b=!0,o=!0):b?(b=!1,o=!0):Ue(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,L=n;else{if(l=e.line,r=e.lineStart,u=e.position,!Na(e,a,dg,!1,!0))break;if(e.line===s){for(L=e.input.charCodeAt(e.position);da(L);)L=e.input.charCodeAt(++e.position);if(L===58)L=e.input.charCodeAt(++e.position),Tn(L)||Ue(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Oa(e,f,m,g,v,null,l,r,u),g=v=y=null),x=!0,b=!1,o=!1,g=e.tag,v=e.result;else if(x)Ue(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=c,!0}else if(x)Ue(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=c,!0}if((e.line===s||e.lineIndent>t)&&(b&&(l=e.line,r=e.lineStart,u=e.position),Na(e,t,or,!0,o)&&(b?v=e.result:y=e.result),b||(Oa(e,f,m,g,v,y,l,r,u),g=v=y=null),Vt(e,!0,-1),L=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&L!==0)Ue(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Oa(e,f,m,g,v,null,l,r,u),x&&(e.tag=d,e.anchor=c,e.kind="mapping",e.result=f),x}function p3(e){var t,a=!1,n=!1,o,s,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&Ue(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(a=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,o="!!",l=e.input.charCodeAt(++e.position)):o="!",t=e.position,a){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(s=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):Ue(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!Tn(l);)l===33&&(n?Ue(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(t-1,e.position+1),gg.test(o)||Ue(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),t3.test(s)&&Ue(e,"tag suffix cannot contain flow indicator characters")}s&&!mg.test(s)&&Ue(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ue(e,"tag name is malformed: "+s)}return a?e.tag=s:zo.call(e.tagMap,o)?e.tag=e.tagMap[o]+s:o==="!"?e.tag="!"+s:o==="!!"?e.tag="tag:yaml.org,2002:"+s:Ue(e,'undeclared tag handle "'+o+'"'),!0}function g3(e){var t,a;if(a=e.input.charCodeAt(e.position),a!==38)return!1;for(e.anchor!==null&&Ue(e,"duplication of an anchor property"),a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!Tn(a)&&!Ma(a);)a=e.input.charCodeAt(++e.position);return e.position===t&&Ue(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function m3(e){var t,a,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Tn(n)&&!Ma(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ue(e,"name of an alias node must contain at least one character"),a=e.input.slice(t,e.position),zo.call(e.anchorMap,a)||Ue(e,'unidentified alias "'+a+'"'),e.result=e.anchorMap[a],Vt(e,!0,-1),!0}function Na(e,t,a,n,o){var s,l,r,u=1,d=!1,c=!1,f,m,g,v,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=l=r=or===a||fg===a,n&&Vt(e,!0,-1)&&(d=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;p3(e)||g3(e);)Vt(e,!0,-1)?(d=!0,r=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):r=!1;if(r&&(r=d||o),(u===1||or===a)&&(nr===a||dg===a?y=t:y=t+1,b=e.position-e.lineStart,u===1?r&&(Tg(e,b)||f3(e,b,y))||c3(e,y)?c=!0:(l&&d3(e,y)||i3(e,y)||u3(e,y)?c=!0:m3(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&Ue(e,"alias node should not have any properties")):r3(e,y,nr===a)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(c=r&&Tg(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ue(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,m=e.implicitTypes.length;f<m;f+=1)if(v=e.implicitTypes[f],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(zo.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,g=e.typeMap.multi[e.kind||"fallback"],f=0,m=g.length;f<m;f+=1)if(e.tag.slice(0,g[f].tag.length)===g[f].tag){v=g[f];break}v||Ue(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Ue(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ue(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function h3(e){var t=e.position,a,n,o,s=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Vt(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(s=!0,l=e.input.charCodeAt(++e.position),a=e.position;l!==0&&!Tn(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(a,e.position),o=[],n.length<1&&Ue(e,"directive name must not be less than one character in length");l!==0;){for(;da(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!so(l));break}if(so(l))break;for(a=e.position;l!==0&&!Tn(l);)l=e.input.charCodeAt(++e.position);o.push(e.input.slice(a,e.position))}l!==0&&lu(e),zo.call(wg,n)?wg[n](e,n,o):ar(e,'unknown document directive "'+n+'"')}if(Vt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Vt(e,!0,-1)):s&&Ue(e,"directives end mark is expected"),Na(e,e.lineIndent-1,or,!1,!0),Vt(e,!0,-1),e.checkLineBreaks&&e3.test(e.input.slice(t,e.position))&&ar(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&sr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Vt(e,!0,-1));return}if(e.position<e.length-1)Ue(e,"end of the stream or a document separator is expected");else return}function Sg(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var a=new l3(e,t),n=e.indexOf("\0");for(n!==-1&&(a.position=n,Ue(a,"null byte is not allowed in input")),a.input+="\0";a.input.charCodeAt(a.position)===32;)a.lineIndent+=1,a.position+=1;for(;a.position<a.length-1;)h3(a);return a.documents}function v3(e,t,a){t!==null&&typeof t=="object"&&typeof a>"u"&&(a=t,t=null);var n=Sg(e,a);if(typeof t!="function")return n;for(var o=0,s=n.length;o<s;o+=1)t(n[o])}function _3(e,t){var a=Sg(e,t);if(a.length!==0){if(a.length===1)return a[0];throw new hn("expected a single document in the stream, but found more")}}var y3=v3,b3=_3,kg={loadAll:y3,load:b3},Cg=Object.prototype.toString,Eg=Object.prototype.hasOwnProperty,iu=65279,w3=9,Os=10,x3=13,T3=32,S3=33,k3=34,uu=35,C3=37,E3=38,L3=39,$3=42,Lg=44,A3=45,lr=58,I3=61,M3=62,R3=63,O3=64,$g=91,Ag=93,N3=96,Ig=123,D3=124,Mg=125,cn={};cn[0]="\\0",cn[7]="\\a",cn[8]="\\b",cn[9]="\\t",cn[10]="\\n",cn[11]="\\v",cn[12]="\\f",cn[13]="\\r",cn[27]="\\e",cn[34]='\\"',cn[92]="\\\\",cn[133]="\\N",cn[160]="\\_",cn[8232]="\\L",cn[8233]="\\P";var P3=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],F3=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function B3(e,t){var a,n,o,s,l,r,u;if(t===null)return{};for(a={},n=Object.keys(t),o=0,s=n.length;o<s;o+=1)l=n[o],r=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&Eg.call(u.styleAliases,r)&&(r=u.styleAliases[r]),a[l]=r;return a}function U3(e){var t,a,n;if(t=e.toString(16).toUpperCase(),e<=255)a="x",n=2;else if(e<=65535)a="u",n=4;else if(e<=4294967295)a="U",n=8;else throw new hn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+a+Gt.repeat("0",n-t.length)+t}var H3=1,Ns=2;function V3(e){this.schema=e.schema||au,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=B3(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ns:H3,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Rg(e,t){for(var a=Gt.repeat(" ",t),n=0,o=-1,s="",l,r=e.length;n<r;)o=e.indexOf(`
`,n),o===-1?(l=e.slice(n),n=r):(l=e.slice(n,o+1),n=o+1),l.length&&l!==`
`&&(s+=a),s+=l;return s}function cu(e,t){return`
`+Gt.repeat(" ",e.indent*t)}function j3(e,t){var a,n,o;for(a=0,n=e.implicitTypes.length;a<n;a+=1)if(o=e.implicitTypes[a],o.resolve(t))return!0;return!1}function rr(e){return e===T3||e===w3}function Ds(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==iu||65536<=e&&e<=1114111}function Og(e){return Ds(e)&&e!==iu&&e!==x3&&e!==Os}function Ng(e,t,a){var n=Og(e),o=n&&!rr(e);return(a?n:n&&e!==Lg&&e!==$g&&e!==Ag&&e!==Ig&&e!==Mg)&&e!==uu&&!(t===lr&&!o)||Og(t)&&!rr(t)&&e===uu||t===lr&&o}function W3(e){return Ds(e)&&e!==iu&&!rr(e)&&e!==A3&&e!==R3&&e!==lr&&e!==Lg&&e!==$g&&e!==Ag&&e!==Ig&&e!==Mg&&e!==uu&&e!==E3&&e!==$3&&e!==S3&&e!==D3&&e!==I3&&e!==M3&&e!==L3&&e!==k3&&e!==C3&&e!==O3&&e!==N3}function z3(e){return!rr(e)&&e!==lr}function Ps(e,t){var a=e.charCodeAt(t),n;return a>=55296&&a<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(a-55296)*1024+n-56320+65536:a}function Dg(e){var t=/^\n* /;return t.test(e)}var Pg=1,du=2,Fg=3,Bg=4,Da=5;function q3(e,t,a,n,o,s,l,r){var u,d=0,c=null,f=!1,m=!1,g=n!==-1,v=-1,y=W3(Ps(e,0))&&z3(Ps(e,e.length-1));if(t||l)for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=Ps(e,u),!Ds(d))return Da;y=y&&Ng(d,c,r),c=d}else{for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=Ps(e,u),d===Os)f=!0,g&&(m=m||u-v-1>n&&e[v+1]!==" ",v=u);else if(!Ds(d))return Da;y=y&&Ng(d,c,r),c=d}m=m||g&&u-v-1>n&&e[v+1]!==" "}return!f&&!m?y&&!l&&!o(e)?Pg:s===Ns?Da:du:a>9&&Dg(e)?Da:l?s===Ns?Da:du:m?Bg:Fg}function G3(e,t,a,n,o){e.dump=(function(){if(t.length===0)return e.quotingType===Ns?'""':"''";if(!e.noCompatMode&&(P3.indexOf(t)!==-1||F3.test(t)))return e.quotingType===Ns?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,a),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),r=n||e.flowLevel>-1&&a>=e.flowLevel;function u(d){return j3(e,d)}switch(q3(t,r,e.indent,l,u,e.quotingType,e.forceQuotes&&!n,o)){case Pg:return t;case du:return"'"+t.replace(/'/g,"''")+"'";case Fg:return"|"+Ug(t,e.indent)+Hg(Rg(t,s));case Bg:return">"+Ug(t,e.indent)+Hg(Rg(Q3(t,l),s));case Da:return'"'+Y3(t)+'"';default:throw new hn("impossible error: invalid scalar style")}})()}function Ug(e,t){var a=Dg(e)?String(t):"",n=e[e.length-1]===`
`,o=n&&(e[e.length-2]===`
`||e===`
`),s=o?"+":n?"":"-";return a+s+`
`}function Hg(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Q3(e,t){for(var a=/(\n+)([^\n]*)/g,n=(function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,a.lastIndex=d,Vg(e.slice(0,d),t)})(),o=e[0]===`
`||e[0]===" ",s,l;l=a.exec(e);){var r=l[1],u=l[2];s=u[0]===" ",n+=r+(!o&&!s&&u!==""?`
`:"")+Vg(u,t),o=s}return n}function Vg(e,t){if(e===""||e[0]===" ")return e;for(var a=/ [^ ]/g,n,o=0,s,l=0,r=0,u="";n=a.exec(e);)r=n.index,r-o>t&&(s=l>o?l:r,u+=`
`+e.slice(o,s),o=s+1),l=r;return u+=`
`,e.length-o>t&&l>o?u+=e.slice(o,l)+`
`+e.slice(l+1):u+=e.slice(o),u.slice(1)}function Y3(e){for(var t="",a=0,n,o=0;o<e.length;a>=65536?o+=2:o++)a=Ps(e,o),n=cn[a],!n&&Ds(a)?(t+=e[o],a>=65536&&(t+=e[o+1])):t+=n||U3(a);return t}function K3(e,t,a){var n="",o=e.tag,s,l,r;for(s=0,l=a.length;s<l;s+=1)r=a[s],e.replacer&&(r=e.replacer.call(a,String(s),r)),(To(e,t,r,!1,!1)||typeof r>"u"&&To(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=o,e.dump="["+n+"]"}function jg(e,t,a,n){var o="",s=e.tag,l,r,u;for(l=0,r=a.length;l<r;l+=1)u=a[l],e.replacer&&(u=e.replacer.call(a,String(l),u)),(To(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&To(e,t+1,null,!0,!0,!1,!0))&&((!n||o!=="")&&(o+=cu(e,t)),e.dump&&Os===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=s,e.dump=o||"[]"}function J3(e,t,a){var n="",o=e.tag,s=Object.keys(a),l,r,u,d,c;for(l=0,r=s.length;l<r;l+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),u=s[l],d=a[u],e.replacer&&(d=e.replacer.call(a,u,d)),To(e,t,u,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),To(e,t,d,!1,!1)&&(c+=e.dump,n+=c));e.tag=o,e.dump="{"+n+"}"}function X3(e,t,a,n){var o="",s=e.tag,l=Object.keys(a),r,u,d,c,f,m;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new hn("sortKeys must be a boolean or a function");for(r=0,u=l.length;r<u;r+=1)m="",(!n||o!=="")&&(m+=cu(e,t)),d=l[r],c=a[d],e.replacer&&(c=e.replacer.call(a,d,c)),To(e,t+1,d,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Os===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,f&&(m+=cu(e,t)),To(e,t+1,c,!0,f)&&(e.dump&&Os===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,o+=m));e.tag=s,e.dump=o||"{}"}function Wg(e,t,a){var n,o,s,l,r,u;for(o=a?e.explicitTypes:e.implicitTypes,s=0,l=o.length;s<l;s+=1)if(r=o[s],(r.instanceOf||r.predicate)&&(!r.instanceOf||typeof t=="object"&&t instanceof r.instanceOf)&&(!r.predicate||r.predicate(t))){if(a?r.multi&&r.representName?e.tag=r.representName(t):e.tag=r.tag:e.tag="?",r.represent){if(u=e.styleMap[r.tag]||r.defaultStyle,Cg.call(r.represent)==="[object Function]")n=r.represent(t,u);else if(Eg.call(r.represent,u))n=r.represent[u](t,u);else throw new hn("!<"+r.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function To(e,t,a,n,o,s,l){e.tag=null,e.dump=a,Wg(e,a,!1)||Wg(e,a,!0);var r=Cg.call(e.dump),u=n,d;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=r==="[object Object]"||r==="[object Array]",f,m;if(c&&(f=e.duplicates.indexOf(a),m=f!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(o=!1),m&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&m&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),r==="[object Object]")n&&Object.keys(e.dump).length!==0?(X3(e,t,e.dump,o),m&&(e.dump="&ref_"+f+e.dump)):(J3(e,t,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(r==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?jg(e,t-1,e.dump,o):jg(e,t,e.dump,o),m&&(e.dump="&ref_"+f+e.dump)):(K3(e,t,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(r==="[object String]")e.tag!=="?"&&G3(e,e.dump,t,s,u);else{if(r==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new hn("unacceptable kind of an object to dump "+r)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}function Z3(e,t){var a=[],n=[],o,s;for(fu(e,a,n),o=0,s=n.length;o<s;o+=1)t.duplicates.push(a[n[o]]);t.usedDuplicates=new Array(s)}function fu(e,t,a){var n,o,s;if(e!==null&&typeof e=="object")if(o=t.indexOf(e),o!==-1)a.indexOf(o)===-1&&a.push(o);else if(t.push(e),Array.isArray(e))for(o=0,s=e.length;o<s;o+=1)fu(e[o],t,a);else for(n=Object.keys(e),o=0,s=n.length;o<s;o+=1)fu(e[n[o]],t,a)}function e5(e,t){t=t||{};var a=new V3(t);a.noRefs||Z3(e,a);var n=e;return a.replacer&&(n=a.replacer.call({"":n},"",n)),To(a,0,n,!0,!0)?a.dump+`
`:""}var t5=e5,n5={dump:t5};function pu(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var o5=tn,a5=qp,s5=Kp,l5=tg,r5=ng,i5=au,u5=kg.load,c5=kg.loadAll,d5=n5.dump,f5=hn,p5={binary:rg,float:eg,map:Yp,null:Jp,pairs:ug,set:cg,timestamp:sg,bool:Xp,int:Zp,merge:lg,omap:ig,seq:Qp,str:Gp},g5=pu("safeLoad","load"),m5=pu("safeLoadAll","loadAll"),h5=pu("safeDump","dump"),zg={Type:o5,Schema:a5,FAILSAFE_SCHEMA:s5,JSON_SCHEMA:l5,CORE_SCHEMA:r5,DEFAULT_SCHEMA:i5,load:u5,loadAll:c5,dump:d5,YAMLException:f5,types:p5,safeLoad:g5,safeLoadAll:m5,safeDump:h5};const v5={key:0,class:"loading-overlay"},_5={class:"settings-content"},y5={class:"info-links"},b5={class:"info-link-item"},w5={class:"info-link-label"},x5={href:"https://www.bilibili.com/list/288025756/?sid=4690314&spm_id_from=333.1387.0.0&oid=114342431298474&bvid=BV1txdfYxE7X",target:"_blank",class:"info-link"},T5={class:"info-link-item"},S5={class:"info-link-label"},k5={href:"https://github.com/weilin9999/WeiLin-Comfyui-Tools-Prompt",target:"_blank",class:"info-link"},C5={class:"info-link-item"},E5={class:"info-link-label"},L5={href:"https://weilin9999.github.io/WeiLin-Share-Prompt-Web/#/",target:"_blank",class:"info-link"},$5={style:{"margin-bottom":"16px"}},A5=["placeholder"],I5={style:{"margin-bottom":"16px"}},M5=["placeholder"],R5=["placeholder"],O5={style:{"margin-bottom":"16px"}},N5=["placeholder"],D5=["placeholder"],P5={style:{"margin-bottom":"16px"}},F5=["placeholder"],B5={class:"data-container"},U5={key:0},H5={key:0},V5={class:"tag-group-container"},j5={style:{display:"flex","align-items":"center"}},W5={key:0},z5=["placeholder"],q5=["onClick"],G5=["onClick"],Q5=["onClick"],Y5=_t({__name:"import_tag",setup(e,{expose:t}){const{t:a}=vt(),n=_(!1),o=_(""),s=_(""),l=_(""),r=_(""),u=_(""),d=_(""),c=_(""),f=_(""),m=_(""),g=_([]),v=_(-1),y=_(""),b=_(""),x=_(null),L=_(null),U=_(null),S=_(!1),R=_(""),V=_(null);function j(){if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}V.value.click()}function H(){o.value="",s.value="",l.value="",r.value="",u.value="",d.value="",c.value="",f.value="",m.value="",g.value=[],v.value=-1,y.value="",b.value="",S.value=!1}function q(A){const B=A.target.files[0];if(B){const te=new FileReader;te.onload=he=>{const C=he.target.result.split(`
`).filter(N=>N.trim());let w=0;C.forEach(N=>{const[z,xe]=N.split(",");if(z&&xe){const ye=z.trim().replace(/'/g,"''"),X=xe.trim().replace(/'/g,"''"),de=Wo();w=w+1;const Oe=parseInt(new Date().getTime()/1e3)+w,Pe=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${ye}', '${X}', 'rgba(255, 123, 2, .4)', ${Oe}, '${m.value}', '${de}');`;g.value.push(Pe)}})},te.readAsText(B)}A.target.value=""}function _e(A){const B=A.target.files[0];if(B){const te=new FileReader;te.onload=he=>{try{const we=JSON.parse(he.target.result);let C=0;Object.entries(we).forEach(([w,N])=>{const z=w.replace(/'/g,"''"),xe=N.replace(/'/g,"''"),ye=Wo();C=C+1;const X=parseInt(new Date().getTime()/1e3)+C,de=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${z}', '${xe}', 'rgba(255, 123, 2, .4)', ${X}, '${m.value}', '${ye}');`;g.value.push(de)})}catch{K({type:"warn",str:"message.jsonErrorMesg"})}},te.readAsText(B)}A.target.value=""}function re(A){const B=A.target.files[0];if(B){const te=new FileReader;te.onload=he=>{try{const we=zg.load(he.target.result);let C=0;Object.entries(we).forEach(([w,N])=>{const z=w.replace(/'/g,"''"),xe=String(N).replace(/'/g,"''"),ye=Wo();C=C+1;const X=parseInt(new Date().getTime()/1e3)+C,de=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${z}', '${xe}', 'rgba(255, 123, 2, .4)', ${X}, '${m.value}', '${ye}');`;g.value.push(de)})}catch{K({type:"warn",str:"message.yamlErrorMesg"})}},te.readAsText(B)}A.target.value=""}function O(A){H();const B=A.target.files[0];if(B){const te=new FileReader;te.onload=he=>{he.target.result.split(";").filter(w=>w.trim()).forEach(w=>{if((w.includes("tag_groups")||w.includes("tag_subgroups"))&&w.includes("p_uuid"))if(w.includes("g_uuid")){u.value=w+";";const z=w.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);z&&(m.value=z[1]);const xe=w.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);xe&&(c.value=xe[1].replace(/''/g,"'"))}else{r.value=w+";";const z=w.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);z&&(f.value=z[1]);const xe=w.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);xe&&(d.value=xe[1].replace(/''/g,"'"))}else w.includes("tag_tags")&&g.value.push(w+";")})},te.readAsText(B)}A.target.value=""}function Y(){if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}U.value.click()}function Z(){if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}L.value.click()}function W(){x.value.click()}function ne(){const A=[r.value,u.value,...g.value].join(`
`),B=new Blob([A],{type:"text/sql"}),te=document.createElement("a");if(te.href=URL.createObjectURL(B),R.value.length<=0){const he=parseInt(new Date().getTime()/1e3);te.download="export_"+he+".sql"}else te.download=R.value+".sql";te.click()}const ae=()=>{const A=[...g.value].join(`
`),B=new Blob([A],{type:"text/sql"}),te=document.createElement("a");if(te.href=URL.createObjectURL(B),R.value.length<=0){const he=parseInt(new Date().getTime()/1e3);te.download="export_tags_"+he+".sql"}else te.download=R.value+".sql";te.click()};function F(A){const B=A.match(/VALUES\s*\([^']*'([^']+)'/),te=A.match(/VALUES\s*\([^']*'[^']*'\s*,\s*'([^']+)'/);return{text:B?B[1].replace(/''/g,"'"):"",desc:te?te[1].replace(/''/g,"'"):""}}function P(A){g.value.splice(A,1)}function J(A){const B=g.value[A],te=F(B);y.value=te.text,b.value=te.desc,v.value=A}function le(A){const B=y.value.replace(/'/g,"''"),te=b.value.replace(/'/g,"''");g.value[A]=g.value[A].replace(/(VALUES\s*\([^']*')([^']+)'/,`$1${B}'`).replace(/(VALUES\s*\([^']*'[^']*'\s*,\s*')([^']+)'/,`$1${te}'`),v.value=-1}function G(){v.value=-1}function ie(){if(!m.value){K({type:"warn",str:"message.pleaseAddSub"});return}const A=o.value.replace(/'/g,"''"),B=s.value.replace(/'/g,"''"),te=Wo(),he=parseInt(new Date().getTime()/1e3);l.value=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${A}', '${B}', 'rgba(255, 123, 2, .4)', ${he}, '${m.value}', '${te}');`,g.value.push(l.value)}function oe(){if(d.value.length<=0){K({type:"warn",str:"importDialog.pleaseAddGroupName"});return}const A=d.value.replace(/'/g,"''");f.value.length<=0&&(f.value=Wo());const B=parseInt(new Date().getTime()/1e3);r.value=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${A}', 'rgba(255, 123, 2, .4)', ${B}, '${f.value}');`}function be(){if(c.value.length<=0){K({type:"warn",str:"importDialog.pleaseAddSubGroupName"});return}if(!f.value){K({type:"warn",str:"message.pleaseAddMainCeb"});return}const A=c.value.replace(/'/g,"''");m.value.length<=0&&(m.value=Wo());const B=parseInt(new Date().getTime()/1e3);u.value=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${A}', 'rgba(255, 123, 2, .4)', ${B}, '${f.value}', '${m.value}');`}const ce=_(null),M=()=>{ce.value.open()},Q=A=>{S.value=!0,d.value=A.group.name,c.value=A.sub.name,f.value=A.group.p_uuid,m.value=A.sub.g_uuid;const B=A.group.name.replace(/'/g,"''"),te=A.sub.name.replace(/'/g,"''");r.value=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${B}', '${A.group.color}', ${A.group.create_time}, '${A.group.p_uuid}');`,u.value=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${te}', '${A.sub.color}', ${A.sub.create_time}, '${A.group.p_uuid}', '${A.sub.g_uuid}');`},se=_(!1),D=async A=>{se.value=!0;try{await Mt.runSQLToServer(A).then(B=>{if(B.code!=200){K({type:"warn",str:B.message});return}else ee(),K({type:"success",str:"importDialog.successImport"})}).catch(B=>{console.error(B),K({type:"warn",str:"importDialog.importFail"})})}catch(B){console.error(B),K({type:"warn",str:"importDialog.importFail"})}finally{se.value=!1}},ee=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},$=async()=>{if(S.value){if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}const A=[...g.value];await D(A)}else{if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}const A=[r.value,u.value,...g.value];await D(A)}};return Xe(r,(A,B)=>{var we,C;if(!A||A===B)return;const te=(we=A.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:we[1],he=(C=B==null?void 0:B.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:C[1];te&&he&&u.value&&(u.value=u.value.replace(new RegExp(`'${he}'`,"g"),`'${te}'`))}),Xe(u,(A,B)=>{var we,C;if(!A||A===B)return;const te=(we=A.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:we[1],he=(C=B==null?void 0:B.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:C[1];te&&he&&g.value.length>0&&(g.value=g.value.map(w=>w.replace(new RegExp(`'${he}'`,"g"),`'${te}'`)))}),t({open:()=>{n.value=!0}}),(A,B)=>(T(),k(Me,null,[se.value?(T(),k("div",v5,[...B[11]||(B[11]=[i("div",{class:"loading-spinner"},null,-1)])])):fe("",!0),We(Ia,{modelValue:n.value,"onUpdate:modelValue":B[10]||(B[10]=te=>n.value=te),title:p(a)("importDialog.title")},{footer:ut(()=>[i("button",{onClick:B[9]||(B[9]=te=>n.value=!1)},h(p(a)("promptBox.settings.close")),1),i("button",{onClick:$},h(p(a)("importDialog.sure")),1)]),default:ut(()=>[i("div",_5,[i("div",y5,[i("div",b5,[i("span",w5,h(p(a)("importDialog.tips1")),1),i("a",x5,h(p(a)("importDialog.tips1text")),1)]),i("div",T5,[i("span",S5,h(p(a)("importDialog.tips2")),1),i("a",k5,h(p(a)("importDialog.tips2text")),1)]),i("div",C5,[i("span",E5,h(p(a)("importDialog.tips3")),1),i("a",L5,h(p(a)("importDialog.tips3text")),1)])]),i("div",$5,[i("button",{onClick:H,class:"upload-btn"},h(p(a)("importDialog.cleanAll")),1),i("button",{style:{"margin-left":"10px"},onClick:W,class:"upload-btn"},h(p(a)("importDialog.uploadSQL")),1),i("button",{style:{"margin-left":"10px"},onClick:M},h(p(a)("importDialog.selectGroup")),1),i("button",{style:{"margin-left":"10px"},onClick:ne},h(p(a)("importDialog.dumpSQL")),1),i("button",{style:{"margin-left":"10px"},onClick:ae},h(p(a)("importDialog.dumpOnlySQL")),1),ve(i("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":B[0]||(B[0]=te=>R.value=te),placeholder:p(a)("importDialog.settingOutputName")},null,8,A5),[[Ae,R.value]]),i("input",{type:"file",ref_key:"fileInput",ref:x,onChange:O,accept:".sql",style:{display:"none"}},null,544),i("input",{type:"file",ref_key:"jsonFileInput",ref:L,onChange:_e,accept:".json",style:{display:"none"}},null,544),i("input",{type:"file",ref_key:"txtFileInput",ref:U,onChange:q,accept:".txt",style:{display:"none"}},null,544),i("input",{type:"file",ref_key:"yamlFileInput",ref:V,onChange:re,accept:".yaml,.yml",style:{display:"none"}},null,544)]),i("div",I5,[ve(i("input",{"onUpdate:modelValue":B[1]||(B[1]=te=>d.value=te),placeholder:p(a)("importDialog.pleaseMainCeb")},null,8,M5),[[Ae,d.value]]),i("button",{onClick:oe},h(p(a)("importDialog.setMainCeb")),1),ve(i("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":B[2]||(B[2]=te=>f.value=te),placeholder:p(a)("importDialog.pleaseMainCebUuid")},null,8,R5),[[Ae,f.value]])]),i("div",O5,[ve(i("input",{"onUpdate:modelValue":B[3]||(B[3]=te=>c.value=te),placeholder:p(a)("importDialog.pleaseSubGroup")},null,8,N5),[[Ae,c.value]]),i("button",{onClick:be},h(p(a)("importDialog.setSubCeb")),1),ve(i("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":B[4]||(B[4]=te=>m.value=te),placeholder:p(a)("importDialog.pleaseSubGroupUuid")},null,8,D5),[[Ae,m.value]])]),i("div",P5,[ve(i("input",{"onUpdate:modelValue":B[5]||(B[5]=te=>o.value=te),placeholder:"Tag"},null,512),[[Ae,o.value]]),ve(i("input",{"onUpdate:modelValue":B[6]||(B[6]=te=>s.value=te),placeholder:p(a)("importDialog.translater")},null,8,F5),[[Ae,s.value]]),i("button",{onClick:ie},h(p(a)("importDialog.add")),1),i("button",{style:{"margin-left":"10px"},onClick:Z,class:"upload-btn"},h(p(a)("importDialog.fromJSONImput")),1),i("button",{style:{"margin-left":"10px"},onClick:Y,class:"upload-btn"},h(p(a)("importDialog.fromTxtInput")),1),i("button",{style:{"margin-left":"10px"},onClick:j,class:"upload-btn"},h(p(a)("importDialog.fromYmalInput")),1)]),i("div",B5,[r.value?(T(),k("div",U5,[i("h3",null,h(F(r.value).text),1),u.value?(T(),k("div",H5,[i("h4",null,h(F(u.value).text),1),i("div",V5,[(T(!0),k(Me,null,je(g.value,(te,he)=>(T(),k("div",{key:he,style:{display:"flex","flex-direction":"column","align-items":"center"}},[i("p",null,h(F(te).text)+" - "+h(F(te).desc),1),i("div",j5,[v.value===he?(T(),k("div",W5,[ve(i("input",{"onUpdate:modelValue":B[7]||(B[7]=we=>y.value=we),placeholder:"Tag"},null,512),[[Ae,y.value]]),ve(i("input",{"onUpdate:modelValue":B[8]||(B[8]=we=>b.value=we),placeholder:p(a)("importDialog.translater")},null,8,z5),[[Ae,b.value]]),i("button",{onClick:we=>le(he)},h(p(a)("importDialog.sureYes")),9,q5),i("button",{style:{"margin-left":"10px"},onClick:G},h(p(a)("importDialog.cancel")),1)])):(T(),k("button",{key:1,onClick:we=>J(he)},h(p(a)("importDialog.edit")),9,G5)),i("button",{style:{"margin-left":"10px"},onClick:we=>P(he)},h(p(a)("importDialog.delete")),9,Q5)])]))),128))])])):fe("",!0)])):fe("",!0)])])]),_:1},8,["modelValue","title"]),We(Vp,{ref_key:"tagGroupSelectDialogItem",ref:ce,onSureSelect:Q},null,512)],64))}},[["__scopeId","data-v-98758c86"]]),K5={class:"tag-manager"},J5={class:"toolbar"},X5={class:"toolbar-top"},Z5={class:"search-container"},e6=["placeholder"],t6={key:0,class:"no-results"},n6=["onClick"],o6={class:"result-content"},a6={class:"result-text"},s6={class:"result-path"},l6={class:"toolbar-bottom"},r6={class:"group-edit-mode"},i6={class:"category-tabs"},u6={class:"tabs-wrapper primary-tabs"},c6={class:"tabs-scroll"},d6=["onClick","onMouseenter","onMouseleave"],f6={class:"tab-text"},p6={key:0,class:"tab-actions"},g6=["onClick","title"],m6=["onClick","title"],h6=["onClick","title"],v6=["onClick","title"],_6={class:"group-edit-mode"},y6={key:0,class:"tabs-wrapper group-tabs"},b6={class:"tabs-scroll"},w6=["onClick","onMouseenter","onMouseleave"],x6={class:"tab-text"},T6={key:0,class:"tab-actions"},S6=["onClick","title"],k6=["onClick","title"],C6=["onClick","title"],E6=["onClick","title"],L6={class:"group-edit-mode"},$6={class:"tags-content"},A6={class:"tags-header"},I6={class:"tags-title"},M6={class:"tags-actions"},R6=["disabled"],O6=["disabled"],N6=["disabled"],D6=["disabled"],P6=["disabled"],F6={key:0,class:"tags-grid"},B6=["onClick"],U6={class:"tag-actions"},H6=["onClick","title"],V6=["onClick","title"],j6=["onClick","title"],W6={class:"tag-desc"},z6=["value"],q6={key:0,class:"weilin-tools-dialog-overlay"},G6={class:"weilin-tools-dialog-header"},Q6={class:"weilin-tools-dialog-body"},Y6={key:0,class:"form-group"},K6=["placeholder"],J6={key:1,class:"form-group"},X6=["placeholder"],Z6={class:"form-group"},e8={class:"color-picker"},t8={class:"color-controls"},n8={class:"alpha-control"},o8={class:"alpha-value"},a8={class:"weilin-tools-dialog-footer"},s8={key:1,class:"weilin-tools-dialog-overlay"},l8={class:"weilin-tools-dialog-header"},r8={class:"weilin-tools-dialog-body"},i8={class:"form-group"},u8=["placeholder"],c8={class:"form-group"},d8=["placeholder"],f8={class:"form-group"},p8={class:"color-picker"},g8={class:"color-controls"},m8={class:"alpha-control"},h8={class:"alpha-value"},v8={class:"weilin-tools-dialog-footer"},_8={key:2,class:"weilin-tools-dialog-overlay"},y8={class:"weilin-tools-dialog-header"},b8={class:"weilin-tools-dialog-body"},w8={class:"confirm-message"},x8={class:"weilin-tools-dialog-footer"},T8={key:3,class:"weilin-tools-dialog-overlay"},S8={class:"weilin-tools-dialog-content"},k8={class:"weilin-tools-dialog-header"},C8={class:"weilin-tools-dialog-body"},E8={class:"form-group"},L8=["value"],$8={class:"form-group"},A8={class:"radio-group"},I8={class:"weilin-tools-dialog-footer"},M8={key:4,class:"weilin-tools-dialog-overlay"},R8={class:"weilin-tools-dialog-content"},O8={class:"weilin-tools-dialog-header"},N8={class:"weilin-tools-dialog-body"},D8={class:"form-group"},P8=["value"],F8={class:"form-group"},B8={class:"radio-group"},U8={class:"weilin-tools-dialog-footer"},H8={key:5,class:"weilin-tools-dialog-overlay"},V8={class:"weilin-tools-dialog-header"},j8={class:"weilin-tools-dialog-body"},W8={class:"config-section"},z8={class:"form-group"},q8={class:"width-control"},G8={class:"radio-label"},Q8={class:"radio-label"},Y8={class:"form-group"},K8={class:"form-group"},J8={class:"config-section"},X8={class:"form-group"},Z8={class:"width-control"},e7={class:"radio-label"},t7={class:"radio-label"},n7={class:"form-group"},o7={class:"form-group"},a7={class:"weilin-tools-dialog-footer"},qg=_t({__name:"tag_index",props:{tagManager:{type:String,default:"prompt"}},setup(e){Hl();const{t}=vt(),a=_([]),n=_(null),o=_([]),s=_([]),l=_(null),r=_(!1),u=_(!1),d=_(!1),c=_(!1),f=_("primary"),m=_([]),g=_(!1),v=_(!1),y=_("None"),b=_("None"),x=_(0),L=_(0),U=_(null),S=_(0),R=_(!1),V=_(null),j=_("before"),H=_(null),q=_("before"),_e=_(null),re=_(null),O=_(!1),Y=_(!1),Z=_(!1),W=_({primaryTab:{width:"fit-content",height:34,fontSize:10},groupTab:{width:"fit-content",height:34,fontSize:10}}),ne={primaryTab:{width:"fit-content",height:34,fontSize:10},groupTab:{width:"fit-content",height:34,fontSize:10}},ae=e,F=_({name:"",color:"rgba(255, 123, 2, .4)",id_index:"",groups:[]}),P=_({name:"",id_index:"",color:"rgba(255, 123, 2, .4)",tags:[]}),J=_({text:"",desc:"",id_index:"",color:"rgba(255, 123, 2, .4)"}),le=ge=>{const pe=ge.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(pe){const[,Se,Ye,Bt,Kt]=pe,it=`#${((1<<24)+(parseInt(Se)<<16)+(parseInt(Ye)<<8)+parseInt(Bt)).toString(16).slice(1)}`,Ut=Kt?Math.round(parseFloat(Kt)*100):100;return{hex:it,alpha:Ut}}return{hex:"#FFFFFF",alpha:100}},G=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},ie=async()=>{try{await Mt.getTagMainGroup().then(ge=>{a.value=ge}).catch(ge=>{console.error(ge),K({type:"warn",str:"message.networkError"})}),n.value&&await oe(n.value.p_uuid),l.value&&await be(l.value.g_uuid)}catch(ge){console.error("Tag:",ge)}},oe=async ge=>{try{await Mt.getTagSubGroup(ge).then(pe=>{o.value=pe}).catch(pe=>{console.error(pe),K({type:"warn",str:"message.networkError"})})}catch(pe){console.error(":",pe)}},be=async ge=>{try{await Mt.getTagList(ge).then(pe=>{s.value=pe}).catch(pe=>{console.error(pe),K({type:"warn",str:"message.networkError"})})}catch(pe){console.error("Tag:",pe)}};rt(()=>{Yt(),window.addEventListener("click",Vs),window.addEventListener("resize",Yt),window.addEventListener("message",mr),window.addEventListener("keydown",Eo),Ws(),G()}),Oo(()=>{window.removeEventListener("click",Vs),window.removeEventListener("resize",Yt),window.removeEventListener("message",mr),window.removeEventListener("keydown",Eo)});const ce=async ge=>{n.value=ge,l.value=null,g.value=!1,m.value=[],await oe(ge.p_uuid)},M=async ge=>{l.value=ge,g.value=!1,m.value=[],await be(ge.g_uuid)},Q=ge=>{f.value=ge,d.value=!1,C.value=le("rgba(255, 123, 2, .4)"),ge==="primary"?F.value={name:"",color:"rgba(255, 123, 2, .4)",groups:[]}:P.value={name:"",color:"rgba(255, 123, 2, .4)",tags:[]},r.value=!0},se=ge=>{d.value=!0,f.value="primary",F.value={...ge},C.value=le(ge.color),r.value=!0},D=ge=>{d.value=!0,f.value="group",P.value={...ge},C.value=le(ge.color),r.value=!0},ee=()=>{if(f.value==="primary"){if(!F.value.name){K({type:"warn",str:"tagManager.categoryNameRequired"});return}d.value?a.value.findIndex(pe=>pe.id_index===F.value.id_index)!==-1&&Mt.editPrimaryCategory({id_index:F.value.id_index,name:F.value.name,color:F.value.color}).then(pe=>{pe.code===200?(G(),K({type:"success",str:"message.editSuccess"})):pe.code===201?K({type:"error",str:"message.editNameExist"}):K({type:"error",str:"message.editFailed"})}).catch(pe=>{K({type:"warn",str:"message.networkError"})}):Mt.addPrimaryCategory({name:F.value.name,color:F.value.color}).then(ge=>{ge.code===200?(G(),K({type:"success",str:"message.addSuccess"})):ge.code===201?K({type:"error",str:"message.editNameExist"}):K({type:"error",str:"message.addFailed"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})})}else{if(!P.value.name){K({type:"warn",str:"tagManager.groupNameRequired"});return}d.value?Mt.editSubCategory({id_index:P.value.id_index,name:P.value.name,color:P.value.color}).then(ge=>{ge.code===200?(G(),K({type:"success",str:"message.editSuccess"})):ge.code===201?K({type:"error",str:"message.editNameExist"}):K({type:"error",str:"message.editFailed"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})}):Mt.addSubCategory({name:P.value.name,color:P.value.color,key:n.value.id_index,p_uuid:n.value.p_uuid}).then(ge=>{ge.code===200?(G(),K({type:"success",str:"message.addSuccess"})):ge.code===201?K({type:"error",str:"message.editNameExist"}):K({type:"error",str:"message.editFailed"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})})}A()},$=()=>d.value?f.value==="primary"?t("tagManager.editPrimaryCategory"):t("tagManager.editSubCategory"):f.value==="primary"?t("tagManager.addPrimaryCategory"):t("tagManager.addSubCategory"),A=()=>{r.value=!1,F.value={id:"",name:"",parentId:null,subCategories:[],backgroundColor:"transparent"},C.value={hex:"#FFFFFF",alpha:0}},B=()=>{l.value&&(c.value=!1,J.value={id:"",text:"",desc:"",categoryId:l.value.id,g_uuid:l.value.g_uuid,backgroundColor:P.value.color},C.value=le(P.value.color),u.value=!0)},te=ge=>{c.value=!0,J.value={...ge},C.value=le(ge.color),u.value=!0},he=()=>{if(!J.value.text||!J.value.desc){K({type:"warn",str:"tagManager.textRequired"});return}c.value&&l.value?Mt.editTags({id_index:J.value.id_index,text:J.value.text,desc:J.value.desc,color:J.value.color}).then(ge=>{G(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.editSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})}):l.value&&Mt.addNewTags({id_index:l.value.id_index,g_uuid:l.value.g_uuid,text:J.value.text,desc:J.value.desc,color:J.value.color?J.value.color:"rgba(255, 123, 2, .4)"}).then(ge=>{G(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.addSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})}),we()},we=()=>{u.value=!1,J.value={text:"",desc:"",color:"rgba(255, 123, 2, .4)"},c.value=!1},C=_({hex:"#FFFFFF",alpha:100}),w=et(()=>z(C.value.hex,C.value.alpha)),N=()=>{const ge=z(C.value.hex,C.value.alpha);r.value?f.value==="primary"?F.value.color=ge:P.value.color=ge:u.value&&(J.value.color=ge)},z=(ge,pe)=>{const Se=parseInt(ge.slice(1,3),16),Ye=parseInt(ge.slice(3,5),16),Bt=parseInt(ge.slice(5,7),16);return`rgba(${Se}, ${Ye}, ${Bt}, ${pe/100})`},xe=_(""),ye=_([]),X=_(!1),de=async()=>{X.value=xe.value.trim().length>0;const ge=xe.value.trim().toLowerCase();if(!ge){ye.value=[];return}ye.value=[],await Mt.searchTag(ge).then(pe=>{ye.value=pe}).catch(pe=>{K({type:"warn",str:"message.networkError"})})};Xe(xe,()=>{de()});const Oe=async ge=>{const pe=a.value.find(Se=>Se.p_uuid===ge.p_uuid);pe&&await ce(pe).then(async()=>{await Ge(async()=>{const Se=o.value.find(Ye=>Ye.g_uuid===ge.g_uuid);Se&&await M(Se).then(async()=>{await Ge(()=>{S.value==1&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:ge.text},"*"),U.value=ge.id_index,setTimeout(()=>{const Ye=document.querySelector(".tag-wrapper.highlight");Ye&&Ye.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{U.value=null},5e3)})})})}),xe.value=""},Pe=ge=>{if(!ge||ge==="transparent")return"var(--primary-text)";let pe,Se,Ye,Bt=1;if(ge.startsWith("rgba")){const it=ge.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);it&&([,pe,Se,Ye,Bt]=it.map(Number))}else if(ge.startsWith("rgb")){const it=ge.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);it&&([,pe,Se,Ye]=it.map(Number))}return Bt<.5?"var(--primary-text)":(pe*299+Se*587+Ye*114)/1e3>128?"#000000":"#ffffff"},Fe=ge=>{ae.tagManager==="prompt"&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:ge.text},"*")},Qe=_(!1),st=_(""),yt=_(null),Rt=et(()=>{if(!yt.value)return"";switch(st.value){case"category":return t("tagManager.deletePrimaryCategoryConfirm",{name:yt.value.name});case"group":return t("tagManager.deleteGroupConfirm",{name:yt.value.name});case"tag":return t("tagManager.deleteTagConfirm",{name:yt.value.text});case"deleteSelected":return t("tagManager.confirmDeleteSelected");default:return""}}),Wn=ge=>{st.value="category",yt.value=ge,Qe.value=!0},Qo=ge=>{st.value="group",yt.value=ge,Qe.value=!0},Qt=ge=>{st.value="tag",yt.value=ge,Qe.value=!0},Jt=async()=>{try{switch(st.value){case"category":Mt.deletePrimaryCategory({p_uuid:yt.value.p_uuid}).then(ge=>{G(),K({type:"success",str:"message.deleteSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})});break;case"group":Mt.deleteSubCategory({g_uuid:yt.value.g_uuid}).then(ge=>{G(),K({type:"success",str:"message.deleteSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})});break;case"tag":Mt.deleteTags({id_index:yt.value.id_index}).then(ge=>{G(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.deleteSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})});break;case"deleteSelected":Mt.batchDeleteTags({id_indexs:m.value}).then(ge=>{G(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.deleteSuccess"})}).catch(ge=>{K({type:"warn",str:"message.networkError"})});break}Va()}catch(ge){console.error(":",ge)}},Dn=async ge=>{const pe=`INSERT OR REPLACE INTO "tag_groups" ("name", "color", "create_time", "p_uuid") VALUES ('${ge.name.replace(/'/g,"''")}', '${ge.color}', ${ge.create_time}, '${ge.p_uuid}');`;try{const Se=await Mt.getTagSubGroup(ge.p_uuid);let Ye=[];Ye.push(pe);for(const it of Se){const Ut=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${it.name.replace(/'/g,"''")}', '${it.color}', ${it.create_time}, '${it.p_uuid}', '${it.g_uuid}');`;Ye.push(Ut);try{(await Mt.getTagList(it.g_uuid)).forEach(zn=>{const za=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${zn.text!=null&&zn.text.length>0?zn.text.replace(/'/g,"''"):""}', '${zn.desc!=null&&zn.desc.length>0?zn.desc.replace(/'/g,"''"):""}', '${zn.color}', ${zn.create_time}, '${zn.g_uuid}', '${Wo()}');`;Ye.push(za)})}catch(yr){console.error("Tag:",yr),K({type:"warn",str:"message.shareTagError"})}}const Bt=new Blob([Ye.join(`
`)],{type:"text/sql"}),Kt=document.createElement("a");Kt.href=URL.createObjectURL(Bt),Kt.download=`${ge.name}_export_${Date.now()}.sql`,Kt.click(),K({type:"success",str:"tagManager.outputSuccess"})}catch(Se){console.error(":",Se),K({type:"warn",str:"message.shareGroupError"})}},ko=async ge=>{try{let pe=[];const Se=`INSERT OR REPLACE INTO "tag_subgroups" ("name", "color", "create_time", "p_uuid", "g_uuid") VALUES ('${ge.name.replace(/'/g,"''")}', '${ge.color}', ${ge.create_time}, '${ge.p_uuid}', '${ge.g_uuid}');`;pe.push(Se);try{(await Mt.getTagList(ge.g_uuid)).forEach(it=>{const Ut=`INSERT OR REPLACE INTO "tag_tags" ("text", "desc", "color", "create_time", "g_uuid", "t_uuid") VALUES ('${it.text!=null&&it.text.length>0?it.text.replace(/'/g,"''"):""}', '${it.desc!=null&&it.desc.length>0?it.desc.replace(/'/g,"''"):""}', '${it.color}', ${it.create_time}, '${it.g_uuid}', '${Wo()}');`;pe.push(Ut)})}catch(Kt){console.error("Tag:",Kt),K({type:"warn",str:"message.shareTagError"})}const Ye=new Blob([pe.join(`
`)],{type:"text/sql"}),Bt=document.createElement("a");Bt.href=URL.createObjectURL(Ye),Bt.download=`${ge.name}_export_${Date.now()}.sql`,Bt.click(),K({type:"success",str:"tagManager.outputSuccess"})}catch(pe){console.error(":",pe),K({type:"warn",str:"message.shareGroupError"})}},Us=ge=>{H.value=ge.id_index,R.value=!0},Ft=async()=>{try{Mt.moveTag({id_index:H.value,reference_id_index:V.value,position:j.value}).then(ge=>{G(),R.value=!1,K({type:"success",str:t("message.moveSuccess")})}).catch(ge=>{K({type:"error",str:t("message.moveFailed")})})}catch(ge){console.error(":",ge),K({type:"error",str:t("message.moveFailed")})}},fa=_([]),Be=_(1),Ce=(ge,pe)=>{Be.value=pe,pe===1?(fa.value=a.value,_e.value=ge.id_index,v.value=!0):(fa.value=o.value,_e.value=ge.id_index,v.value=!0)},Ee=async()=>{if(Be.value===1)try{Mt.moveMainGroup({id_index:_e.value,reference_id_index:re.value,position:q.value}).then(ge=>{G(),v.value=!1,K({type:"success",str:t("message.moveSuccess")})}).catch(ge=>{K({type:"error",str:t("message.moveFailed")})})}catch(ge){console.error(":",ge),K({type:"error",str:t("message.moveFailed")})}else try{Mt.moveSubGroup({id_index:_e.value,reference_id_index:re.value,position:q.value}).then(ge=>{G(),v.value=!1,K({type:"success",str:t("message.moveSuccess")})}).catch(ge=>{K({type:"error",str:t("message.moveFailed")})})}catch(ge){console.error(":",ge),K({type:"error",str:t("message.moveFailed")})}},Ct=()=>{g.value=!0,O.value=!0},Sn=()=>{g.value=!1,O.value=!1,m.value=[]},wu=()=>{m.value.length!==0&&(st.value="deleteSelected",yt.value={},Qe.value=!0)},xu=()=>{g.value=!0,Y.value=!0},Hs=()=>{g.value=!1,Y.value=!1,m.value=[]},Ha=()=>{if(m.value.length===0){K({type:"warn",str:"tagManager.noTagsSelected"});return}const ge={};m.value.forEach(Ye=>{ge[Ye.text]=Ye.desc});const pe=new Blob([zg.dump(ge)],{type:"text/yaml"}),Se=document.createElement("a");Se.href=URL.createObjectURL(pe),Se.download=`selected_tags_export_${Date.now()}.yaml`,Se.click(),K({type:"success",str:"tagManager.outputSuccess"}),Hs()},Va=()=>{Qe.value=!1,st.value="",yt.value=null},gr=async()=>{try{await G()}catch(ge){console.error(":",ge)}},Co=_(),ja=_({}),Yt=()=>{if(Co.value){const ge=Co.value.getBoundingClientRect();ja.value={position:"fixed",top:`${ge.bottom}px`,left:`${ge.left}px`,width:`${ge.width}px`,zIndex:1e3}}},mr=ge=>{ge.data.type==="weilin_prompt_ui_window_change_tagManager_position"||ge.data.type==="weilin_prompt_ui_window_change_tagManager_size"||ge.data.type==="weilin_prompt_ui_window_change_tagManager_scroll"||ge.data.type==="weilin_prompt_ui_window_change_promptBox_position"||ge.data.type==="weilin_prompt_ui_window_change_promptBox_size"||ge.data.type==="weilin_prompt_ui_window_change_promptBox_scroll"?Yt():ge.data.type==="weilin_prompt_ui_window_change_click_outside"||ge.data.type==="weilin_prompt_ui_tag_manager_refresh"&&ie()},Vs=ge=>{X.value&&!Co.value.contains(ge.target)&&(X.value=!1)},Eo=ge=>{ge.key==="Escape"&&(X.value=!1)},Pn=ge=>{L.value==1&&(y.value="TabID-"+ge)},pa=ge=>{y.value="None"},js=ge=>{x.value==1&&(b.value="TabID-"+ge)},hr=ge=>{b.value="None"},lo=_(),Wa=()=>{lo.value.open()},Ws=()=>{const ge=JSON.parse(JSON.stringify(ne));try{const pe=localStorage.getItem("weilin_tag_manager_tab_size_config");if(pe){const Se=JSON.parse(pe);W.value={...ge,...Se}}else W.value={...ge}}catch(pe){console.error(":",pe),W.value={...ge}}},Tu=()=>{try{localStorage.setItem("weilin_tag_manager_tab_size_config",JSON.stringify(W.value)),K({type:"success",str:"tagManager.tabSizeConfigSaved"}),Z.value=!1}catch(ge){console.error(":",ge),K({type:"error",str:"tagManager.tabSizeConfigSaveFailed"})}},Su=()=>{Z.value=!0},vr=()=>{Z.value=!1,Ws()},_r=()=>{const ge=JSON.parse(JSON.stringify(ne));W.value={...ge}};return(ge,pe)=>(T(),k("div",K5,[i("div",J5,[i("div",X5,[i("button",{class:"refresh-btn",onClick:gr},[...pe[40]||(pe[40]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])]),i("div",Z5,[ve(i("input",{type:"text","onUpdate:modelValue":pe[0]||(pe[0]=Se=>xe.value=Se),placeholder:p(t)("tagManager.searchPlaceholder"),class:"search-input",ref_key:"searchInput",ref:Co,onInput:pe[1]||(pe[1]=Se=>X.value=xe.value.trim().length>0)},null,40,e6),[[Ae,xe.value]]),X.value?(T(),k("div",{key:0,class:"search-results",style:dt(ja.value)},[ye.value.length===0?(T(),k("div",t6,h(p(t)("tagManager.noResults")),1)):(T(!0),k(Me,{key:1},je(ye.value,(Se,Ye)=>(T(),k("div",{key:`${Ye}-search_item`,class:"search-result-item",onClick:Bt=>Oe(Se)},[i("div",o6,[i("span",a6,h(Se.name||Se.text),1),i("span",s6,h(Se.where),1)])],8,n6))),128))],4)):fe("",!0)]),i("button",{class:"import-btn",onClick:Wa},h(p(t)("tagManager.importTags")),1)]),i("div",l6,[i("div",r6,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":pe[2]||(pe[2]=Se=>S.value=Se),"true-value":1,"false-value":0},null,512),[[$t,S.value]]),ze(" "+h(p(t)("tagManager.autoAddSearchTag")),1)])]),i("button",{class:"tab-size-btn",onClick:Su},h(p(t)("tagManager.modifyTabSize")),1)])]),i("div",i6,[i("div",u6,[i("div",c6,[(T(!0),k(Me,null,je(a.value,(Se,Ye)=>{var Bt,Kt,it;return T(),k("div",{key:"Tabss-"+Ye,class:Le(["tab-item",{active:((Bt=n.value)==null?void 0:Bt.name)===Se.name}]),style:dt({backgroundColor:((Kt=n.value)==null?void 0:Kt.name)===Se.name?"var(--primary-color)":Se.color,color:((it=n.value)==null?void 0:it.name)===Se.name?"#ffffff":Pe(Se.color),width:W.value.primaryTab.width==="fit-content"?"fit-content":W.value.primaryTab.width+"px",height:W.value.primaryTab.height+"px",fontSize:W.value.primaryTab.fontSize+"px"}),onClick:Ut=>ce(Se),onMouseenter:Ut=>Pn(Ye),onMouseleave:Ut=>pa()},[i("span",f6,h(Se.name),1),y.value=="TabID-"+Ye?(T(),k("div",p6,[i("button",{class:"action-btn move",onClick:Je(Ut=>Ce(Se,1),["stop"]),title:p(t)("tagManager.moveGroup")},[...pe[41]||(pe[41]=[i("svg",{viewBox:"0 0 24 24",class:"move-icon"},[i("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)])],8,g6),i("button",{class:"action-btn edit",onClick:Je(Ut=>se(Se),["stop"]),title:p(t)("tagManager.edit")},[...pe[42]||(pe[42]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)])],8,m6),i("button",{class:"action-btn share",onClick:Je(Ut=>Dn(Se),["stop"]),title:p(t)("tagManager.share")},[...pe[43]||(pe[43]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})],-1)])],8,h6),i("button",{class:"action-btn delete",onClick:Je(Ut=>Wn(Se),["stop"]),title:p(t)("tagManager.delete")},[...pe[44]||(pe[44]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)])],8,v6)])):fe("",!0)],46,d6)}),128)),i("button",{class:"add-tab",onClick:pe[3]||(pe[3]=Se=>Q("primary"))},[pe[45]||(pe[45]=i("span",{class:"plus-icon"},"+",-1)),ze(" "+h(p(t)("tagManager.addPrimaryCategory")),1)]),i("div",_6,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":pe[4]||(pe[4]=Se=>L.value=Se),"true-value":1,"false-value":0},null,512),[[$t,L.value]]),ze(" "+h(L.value==1?p(t)("tagManager.exitEditMode"):p(t)("tagManager.editGroupMode")),1)])])])]),n.value?(T(),k("div",y6,[i("div",b6,[(T(!0),k(Me,null,je(o.value,(Se,Ye)=>{var Bt,Kt,it;return T(),k("div",{key:"TabsSw-"+Ye,class:Le(["tab-item",{active:((Bt=l.value)==null?void 0:Bt.name)===Se.name}]),style:dt({backgroundColor:((Kt=l.value)==null?void 0:Kt.name)===Se.name?"var(--primary-color)":Se.color,color:((it=l.value)==null?void 0:it.name)===Se.name?"#ffffff":Pe(Se.color),width:W.value.groupTab.width==="fit-content"?"fit-content":W.value.groupTab.width+"px",height:W.value.groupTab.height+"px",fontSize:W.value.groupTab.fontSize+"px"}),onClick:Ut=>M(Se),onMouseenter:Ut=>js(Ye),onMouseleave:Ut=>hr()},[i("span",x6,h(Se.name),1),b.value=="TabID-"+Ye?(T(),k("div",T6,[i("button",{class:"action-btn move",onClick:Je(Ut=>Ce(Se,2),["stop"]),title:p(t)("tagManager.moveGroup")},[...pe[46]||(pe[46]=[i("svg",{viewBox:"0 0 24 24",class:"move-icon"},[i("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)])],8,S6),i("button",{class:"action-btn edit",onClick:Je(Ut=>D(Se),["stop"]),title:p(t)("tagManager.edit")},[...pe[47]||(pe[47]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)])],8,k6),i("button",{class:"action-btn delete",onClick:Je(Ut=>Qo(Se),["stop"]),title:p(t)("tagManager.delete")},[...pe[48]||(pe[48]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)])],8,C6),i("button",{class:"action-btn share",onClick:Je(Ut=>ko(Se),["stop"]),title:p(t)("tagManager.share")},[...pe[49]||(pe[49]=[i("svg",{viewBox:"0 0 24 24",class:"action-icon"},[i("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})],-1)])],8,E6)])):fe("",!0)],46,w6)}),128)),n.value?(T(),k("button",{key:0,class:"add-tab",onClick:pe[5]||(pe[5]=Se=>Q("group"))},[pe[50]||(pe[50]=i("span",{class:"plus-icon"},"+",-1)),ze(" "+h(p(t)("tagManager.addGroup")),1)])):fe("",!0),i("div",L6,[i("label",null,[ve(i("input",{type:"checkbox","onUpdate:modelValue":pe[6]||(pe[6]=Se=>x.value=Se),"true-value":1,"false-value":0},null,512),[[$t,x.value]]),ze(" "+h(x.value==1?p(t)("tagManager.exitEditMode"):p(t)("tagManager.editGroupMode")),1)])])])])):fe("",!0)]),i("div",$6,[i("div",A6,[i("div",I6,h(l.value?l.value.name:p(t)("tagManager.selectCategory")),1),i("div",M6,[i("button",{class:"add-btn",onClick:B,disabled:!l.value},[pe[51]||(pe[51]=i("span",{class:"plus-icon"},"+",-1)),ze(" "+h(p(t)("tagManager.addTag")),1)],8,R6),Y.value?(T(),k("button",{key:0,class:"share-selected-btn",onClick:Ha,disabled:!m.value.length},h(p(t)("tagManager.shareSelected")),9,O6)):(T(),k("button",{key:1,class:"share-btn",onClick:xu,disabled:!l.value},h(p(t)("tagManager.batchShare")),9,N6)),Y.value?(T(),k("button",{key:2,class:"cancel-delete-btn",onClick:Hs},h(p(t)("tagManager.cancelShare")),1)):fe("",!0),O.value?(T(),k("button",{key:3,class:"delete-btn",onClick:wu,disabled:!m.value.length},h(p(t)("tagManager.deleteSelected")),9,D6)):(T(),k("button",{key:4,class:"delete-action-btn",onClick:Ct,disabled:!l.value},h(p(t)("tagManager.hasDeleteAction")),9,P6)),O.value?(T(),k("button",{key:5,class:"cancel-delete-btn",onClick:Sn},h(p(t)("tagManager.cancelDelete")),1)):fe("",!0)])]),l.value?(T(),k("div",F6,[(T(!0),k(Me,null,je(s.value,Se=>(T(),k("div",{key:"tag-grid-"+Se.id_index,class:Le(U.value===Se.id_index?"tag-wrapper highlight":"tag-wrapper")},[i("div",{class:"tag-content",onClick:Ye=>Fe(Se)},[i("div",{class:"tag-main",style:dt({backgroundColor:Se.color||"transparent"})},[ze(h(Se.desc)+" ",1),i("div",U6,[i("button",{class:"action-btn move",onClick:Je(Ye=>Us(Se),["stop"]),title:p(t)("tagManager.moveTag")},[...pe[52]||(pe[52]=[i("svg",{viewBox:"0 0 24 24",class:"move-icon"},[i("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)])],8,H6),i("button",{class:"action-btn edit",onClick:Je(Ye=>te(Se),["stop"]),title:p(t)("tagManager.editTag")},[...pe[53]||(pe[53]=[i("svg",{viewBox:"0 0 24 24",class:"edit-icon"},[i("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)])],8,V6),i("button",{class:"action-btn delete",onClick:Je(Ye=>Qt(Se),["stop"]),title:p(t)("tagManager.deleteTag")},[...pe[54]||(pe[54]=[i("svg",{viewBox:"0 0 24 24",class:"delete-icon"},[i("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)])],8,j6)])],4),i("div",W6,h(Se.text),1)],8,B6),g.value?ve((T(),k("input",{key:0,type:"checkbox","onUpdate:modelValue":pe[7]||(pe[7]=Ye=>m.value=Ye),value:Se,class:"tag-checkbox"},null,8,z6)),[[$t,m.value]]):fe("",!0)],2))),128))])):fe("",!0)]),r.value?(T(),k("div",q6,[i("div",{class:"weilin-tools-dialog-content",onMousedown:pe[12]||(pe[12]=Je(()=>{},["stop"]))},[i("div",G6,[i("h2",null,h($()),1),i("button",{class:"close-btn",onClick:A},"")]),i("div",Q6,[f.value=="primary"?(T(),k("div",Y6,[i("label",null,h(p(t)("tagManager.categoryName")),1),ve(i("input",{type:"text","onUpdate:modelValue":pe[8]||(pe[8]=Se=>F.value.name=Se),placeholder:p(t)("tagManager.categoryNamePlaceholder"),onKeyup:ln(ee,["enter"])},null,40,K6),[[Ae,F.value.name]])])):fe("",!0),f.value=="group"?(T(),k("div",J6,[i("label",null,h(p(t)("tagManager.groupName")),1),ve(i("input",{type:"text","onUpdate:modelValue":pe[9]||(pe[9]=Se=>P.value.name=Se),placeholder:p(t)("tagManager.groupNamePlaceholder"),onKeyup:ln(ee,["enter"])},null,40,X6),[[Ae,P.value.name]])])):fe("",!0),i("div",Z6,[i("label",null,h(p(t)("tagManager.backgroundColor")),1),i("div",e8,[i("div",{class:"color-preview",style:dt({backgroundColor:w.value})},null,4),i("div",t8,[ve(i("input",{type:"color","onUpdate:modelValue":pe[10]||(pe[10]=Se=>C.value.hex=Se),onInput:N,class:"color-input"},null,544),[[Ae,C.value.hex]]),i("div",n8,[ve(i("input",{type:"range","onUpdate:modelValue":pe[11]||(pe[11]=Se=>C.value.alpha=Se),min:"0",max:"100",onInput:N,class:"alpha-slider"},null,544),[[Ae,C.value.alpha,void 0,{number:!0}]]),i("span",o8,h(C.value.alpha)+"%",1)])])])])]),i("div",a8,[i("button",{class:"cancel-btn",onClick:A},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:ee},h(p(t)("common.confirm")),1)])],32)])):fe("",!0),u.value?(T(),k("div",s8,[i("div",{class:"weilin-tools-dialog-content",onMousedown:pe[17]||(pe[17]=Je(()=>{},["stop"]))},[i("div",l8,[i("h2",null,h(c.value?p(t)("tagManager.editTag"):p(t)("tagManager.addTag")),1),i("button",{class:"close-btn",onClick:we},"")]),i("div",r8,[i("div",i8,[i("label",null,h(p(t)("tagManager.text")),1),ve(i("input",{type:"text","onUpdate:modelValue":pe[13]||(pe[13]=Se=>J.value.desc=Se),placeholder:p(t)("tagManager.textPlaceholder")},null,8,u8),[[Ae,J.value.desc]])]),i("div",c8,[i("label",null,h(p(t)("tagManager.description")),1),ve(i("textarea",{"onUpdate:modelValue":pe[14]||(pe[14]=Se=>J.value.text=Se),placeholder:p(t)("tagManager.descriptionPlaceholder"),rows:"4"},"            ",8,d8),[[Ae,J.value.text]])]),i("div",f8,[i("label",null,h(p(t)("tagManager.backgroundColor")),1),i("div",p8,[i("div",{class:"color-preview",style:dt({backgroundColor:w.value})},null,4),i("div",g8,[ve(i("input",{type:"color","onUpdate:modelValue":pe[15]||(pe[15]=Se=>C.value.hex=Se),onInput:N,class:"color-input"},null,544),[[Ae,C.value.hex]]),i("div",m8,[ve(i("input",{type:"range","onUpdate:modelValue":pe[16]||(pe[16]=Se=>C.value.alpha=Se),min:"0",max:"100",onInput:N,class:"alpha-slider"},null,544),[[Ae,C.value.alpha,void 0,{number:!0}]]),i("span",h8,h(C.value.alpha)+"%",1)])])])])]),i("div",v8,[i("button",{class:"cancel-btn",onClick:we},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:he},h(p(t)("common.confirm")),1)])],32)])):fe("",!0),Qe.value?(T(),k("div",_8,[i("div",{class:"weilin-tools-dialog-content confirm-weilin-tools-dialog",onMousedown:pe[18]||(pe[18]=Je(()=>{},["stop"]))},[i("div",y8,[i("h2",null,h(p(t)("common.confirmDelete")),1),i("button",{class:"close-btn",onClick:Va},"")]),i("div",b8,[i("p",w8,h(Rt.value),1)]),i("div",x8,[i("button",{class:"cancel-btn",onClick:Va},h(p(t)("common.cancel")),1),i("button",{class:"delete-btn",onClick:Jt},h(p(t)("common.delete")),1)])],32)])):fe("",!0),R.value?(T(),k("div",T8,[i("div",S8,[i("div",k8,[i("h2",null,h(p(t)("tagManager.moveTag")),1),i("button",{class:"close-btn",onClick:pe[19]||(pe[19]=Se=>R.value=!1)},"")]),i("div",C8,[i("div",E8,[i("label",null,h(p(t)("tagManager.targetTag")),1),ve(i("select",{"onUpdate:modelValue":pe[20]||(pe[20]=Se=>V.value=Se),class:"form-select"},[(T(!0),k(Me,null,je(s.value,Se=>(T(),k("option",{key:Se.id_index,value:Se.id_index},h(Se.desc+" --> "+Se.text),9,L8))),128))],512),[[zt,V.value]])]),i("div",$8,[i("label",null,h(p(t)("tagManager.movePosition")),1),i("div",A8,[i("label",null,[ve(i("input",{class:"radio-input",type:"radio","onUpdate:modelValue":pe[21]||(pe[21]=Se=>j.value=Se),value:"before"},null,512),[[vo,j.value]]),ze(" "+h(p(t)("tagManager.moveBefore")),1)]),i("label",null,[ve(i("input",{class:"radio-input",type:"radio","onUpdate:modelValue":pe[22]||(pe[22]=Se=>j.value=Se),value:"after"},null,512),[[vo,j.value]]),ze(" "+h(p(t)("tagManager.moveAfter")),1)])])])]),i("div",I8,[i("button",{class:"cancel-btn",onClick:pe[23]||(pe[23]=Se=>R.value=!1)},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:Ft},h(p(t)("common.confirm")),1)])])])):fe("",!0),v.value?(T(),k("div",M8,[i("div",R8,[i("div",O8,[i("h2",null,h(p(t)("tagManager.moveGroup")),1),i("button",{class:"close-btn",onClick:pe[24]||(pe[24]=Se=>v.value=!1)},"")]),i("div",N8,[i("div",D8,[i("label",null,h(p(t)("tagManager.targetGroup")),1),ve(i("select",{"onUpdate:modelValue":pe[25]||(pe[25]=Se=>re.value=Se),class:"form-select"},[(T(!0),k(Me,null,je(fa.value,(Se,Ye)=>(T(),k("option",{key:"group_move_id"+Ye,value:Se.id_index},h(Se.name),9,P8))),128))],512),[[zt,re.value]])]),i("div",F8,[i("label",null,h(p(t)("tagManager.movePosition")),1),i("div",B8,[i("label",null,[ve(i("input",{class:"radio-input",type:"radio","onUpdate:modelValue":pe[26]||(pe[26]=Se=>q.value=Se),value:"before"},null,512),[[vo,q.value]]),ze(" "+h(p(t)("tagManager.moveGroupBefore")),1)]),i("label",null,[ve(i("input",{class:"radio-input",type:"radio","onUpdate:modelValue":pe[27]||(pe[27]=Se=>q.value=Se),value:"after"},null,512),[[vo,q.value]]),ze(" "+h(p(t)("tagManager.moveGroupAfter")),1)])])])]),i("div",U8,[i("button",{class:"cancel-btn",onClick:pe[28]||(pe[28]=Se=>v.value=!1)},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:Ee},h(p(t)("common.confirm")),1)])])])):fe("",!0),Z.value?(T(),k("div",H8,[i("div",{class:"weilin-tools-dialog-content tab-size-weilin-tools-dialog",onMousedown:pe[39]||(pe[39]=Je(()=>{},["stop"]))},[i("div",V8,[i("h2",null,h(p(t)("tagManager.tabSizeConfig")),1),i("button",{class:"close-btn",onClick:vr},"")]),i("div",j8,[i("div",W8,[i("h3",null,h(p(t)("tagManager.primaryTabConfig")),1),i("div",z8,[i("label",null,h(p(t)("tagManager.tabWidth")),1),i("div",q8,[i("label",G8,[ve(i("input",{type:"radio","onUpdate:modelValue":pe[29]||(pe[29]=Se=>W.value.primaryTab.width=Se),value:"fit-content"},null,512),[[vo,W.value.primaryTab.width]]),ze(" "+h(p(t)("tagManager.fitContent")),1)]),i("label",Q8,[ve(i("input",{type:"radio","onUpdate:modelValue":pe[30]||(pe[30]=Se=>W.value.primaryTab.width=Se),value:"custom"},null,512),[[vo,W.value.primaryTab.width]]),ze(" "+h(p(t)("tagManager.customWidth")),1)]),W.value.primaryTab.width!=="fit-content"?ve((T(),k("input",{key:0,type:"number","onUpdate:modelValue":pe[31]||(pe[31]=Se=>W.value.primaryTab.width=Se),min:"50",max:"300",class:"number-input"},null,512)),[[Ae,W.value.primaryTab.width,void 0,{number:!0}]]):fe("",!0)])]),i("div",Y8,[i("label",null,h(p(t)("tagManager.tabHeight"))+" ("+h(W.value.primaryTab.height)+"px)",1),ve(i("input",{type:"range","onUpdate:modelValue":pe[32]||(pe[32]=Se=>W.value.primaryTab.height=Se),min:"20",max:"60",class:"range-input"},null,512),[[Ae,W.value.primaryTab.height,void 0,{number:!0}]])]),i("div",K8,[i("label",null,h(p(t)("tagManager.fontSize"))+" ("+h(W.value.primaryTab.fontSize)+"px)",1),ve(i("input",{type:"range","onUpdate:modelValue":pe[33]||(pe[33]=Se=>W.value.primaryTab.fontSize=Se),min:"8",max:"20",class:"range-input"},null,512),[[Ae,W.value.primaryTab.fontSize,void 0,{number:!0}]])])]),i("div",J8,[i("h3",null,h(p(t)("tagManager.groupTabConfig")),1),i("div",X8,[i("label",null,h(p(t)("tagManager.tabWidth")),1),i("div",Z8,[i("label",e7,[ve(i("input",{type:"radio","onUpdate:modelValue":pe[34]||(pe[34]=Se=>W.value.groupTab.width=Se),value:"fit-content"},null,512),[[vo,W.value.groupTab.width]]),ze(" "+h(p(t)("tagManager.fitContent")),1)]),i("label",t7,[ve(i("input",{type:"radio","onUpdate:modelValue":pe[35]||(pe[35]=Se=>W.value.groupTab.width=Se),value:"custom"},null,512),[[vo,W.value.groupTab.width]]),ze(" "+h(p(t)("tagManager.customWidth")),1)]),W.value.groupTab.width!=="fit-content"?ve((T(),k("input",{key:0,type:"number","onUpdate:modelValue":pe[36]||(pe[36]=Se=>W.value.groupTab.width=Se),min:"50",max:"300",class:"number-input"},null,512)),[[Ae,W.value.groupTab.width,void 0,{number:!0}]]):fe("",!0)])]),i("div",n7,[i("label",null,h(p(t)("tagManager.tabHeight"))+" ("+h(W.value.groupTab.height)+"px)",1),ve(i("input",{type:"range","onUpdate:modelValue":pe[37]||(pe[37]=Se=>W.value.groupTab.height=Se),min:"20",max:"60",class:"range-input"},null,512),[[Ae,W.value.groupTab.height,void 0,{number:!0}]])]),i("div",o7,[i("label",null,h(p(t)("tagManager.fontSize"))+" ("+h(W.value.groupTab.fontSize)+"px)",1),ve(i("input",{type:"range","onUpdate:modelValue":pe[38]||(pe[38]=Se=>W.value.groupTab.fontSize=Se),min:"8",max:"20",class:"range-input"},null,512),[[Ae,W.value.groupTab.fontSize,void 0,{number:!0}]])])])]),i("div",a7,[i("button",{class:"reset-btn",onClick:_r},h(p(t)("tagManager.resetDefault")),1),i("button",{class:"cancel-btn",onClick:vr},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:Tu},h(p(t)("common.confirm")),1)])],32)])):fe("",!0),We(Y5,{ref_key:"importTagDialogItem",ref:lo},null,512)]))}},[["__scopeId","data-v-c9c6726d"]]),ir=100,Gg=_(""),So=_({}),He={setActiveWindow(e){Gg.value!==e&&(Gg.value=e,Object.keys(So.value).forEach(t=>{So.value[t]=ir}),So.value[e]=ir+10)},getZIndex(e){return So.value[e]||(So.value[e]=ir),So.value[e]},registerWindow(e){So.value[e]||(So.value[e]=ir)},unregisterWindow(e){delete So.value[e]}},Ln={getLoraList:async e=>await Ie({url:"/get_lora_list",method:"get",params:e}),getAllLoraList:async e=>await Ie({url:"/get_lora_load_all",method:"get",params:e}),getAllLoraStatus:async e=>await Ie({url:"/get_lora_load_status",method:"get",params:e}),getLoraDetail:async e=>await Ie({url:"/lorainfo/api/loras/info",method:"get",params:e}),getLoraRefresh:async e=>await Ie({url:"/lorainfo/api/loras/info/refresh",method:"get",params:e}),postUplaodImg:async(e,t,a)=>{const n=new FormData;return n.append("image",e),n.append("path",t),n.append("fileName",a),await Ie({url:"/lorainfo/api/loras/set/img",method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}})},postLoraSave:async(e,t)=>{const a=new FormData;return a.append("json",JSON.stringify(t)),await Ie({url:"/lorainfo/api/loras/info?file="+e,method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}})},postLoraDelet:async(e,t)=>await Ie({url:"/lorainfo/api/delete/loras/info/filed?file="+e,method:"post",data:{json:t}}),getLoraFolderList:async()=>await Ie({url:"/get_lora_folder_list",method:"post"}),getLoraRangeList:async e=>await Ie({url:"/get_lora_list_by_range",method:"post",data:{range:e}}),searchLoraGetFolderList:async e=>await Ie({url:"/get_lora_list_by_search",method:"post",data:{search:e}})},s7=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,Qg=_n({name:"JsonString",props:{jsonValue:{type:String,required:!0}},setup(e){const t=_(!0),a=_(!1),n=_(null),o=_(null);rt(()=>{n.value&&o.value&&n.value.offsetHeight>o.value.offsetHeight&&(a.value=!0)});const s=()=>{t.value=!t.value};return()=>{const l=e.jsonValue,r=s7.test(l);let u;!t.value&&a.value?u=kt("span",{class:{"jv-ellipsis":!0},onClick:s},"..."):r?u=kt("span",{class:{"jv-item":!0,"jv-string":!0},ref:n},[kt("span",null,'"'),kt("a",{href:l,target:"_blank",class:"jv-link"},l),kt("span",null,'"')]):u=kt("span",{class:{"jv-item":!0,"jv-string":!0},ref:n},`"${l}"`);const d=[];return a.value&&d.push(kt("span",{class:{"jv-toggle":!0,open:t.value},onClick:s})),d.push(kt("span",{class:{"jv-holder-node":!0},ref:o})),d.push(u),kt("span",{},d)}}}),l7={class:Le(["jv-item","jv-undefined"])},r7=_n({__name:"json-undefined",props:{jsonValue:{type:null,default:void 0}},setup(e){const t=e,a=et(()=>t.jsonValue===null?"null":"undefined");return(n,o)=>(T(),k("span",l7,h(a.value),1))}}),i7=_n({__name:"json-number",props:{jsonValue:{type:Number,required:!0}},setup(e){const t=e,a=et(()=>Number.isInteger(t.jsonValue));return(n,o)=>(T(),k("span",{class:Le(["jv-item","jv-number",a.value?"jv-number-integer":"jv-number-float"])},h(e.jsonValue.toString()),3))}}),u7={class:Le(["jv-item","jv-boolean"])},c7=_n({__name:"json-boolean",props:{jsonValue:{type:Boolean,required:!0}},setup(e){return(t,a)=>(T(),k("span",u7,h(e.jsonValue.toString()),1))}}),d7=_n({name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:t}){const a=_({});let n=null;const o=u=>{setTimeout(()=>{a.value=u},0)};Xe(()=>e.jsonValue,u=>{o(u)},{immediate:!0,deep:!0});const s=et(()=>{if(!e.sort)return a.value;const u=Object.keys(a.value).sort(),d={};return u.forEach(c=>{d[c]=a.value[c]}),d}),l=()=>{if(n)try{n.dispatchEvent(new Event("resized"))}catch{const u=document.createEvent("Event");u.initEvent("resized",!0,!1),n.dispatchEvent(u)}},r=()=>{t("update:expand",!e.expand),l()};return()=>{const u=[];if(u.push(kt("span",{class:["jv-item","jv-object"]},"{")),e.expand){for(const d in s.value)if(s.value.hasOwnProperty(d)){const c=s.value[d];u.push(kt(gu,{key:d,sort:e.sort,keyName:d,depth:e.depth+1,value:c,previewMode:e.previewMode}))}}return!e.expand&&Object.keys(a.value).length>0&&u.push(kt("span",{class:"jv-ellipsis",onClick:r,title:`click to reveal object content (keys: ${Object.keys(s.value).join(", ")})`},"...")),u.push(kt("span",{class:["jv-item","jv-object"]},"}")),kt("span",{ref:d=>{n=d}},u)}}}),f7=_n({name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},emits:["update:expand"],setup(e,{emit:t}){const a=_([]);let n=null;const o=(l,r=0)=>{r===0&&(a.value=[]),setTimeout(()=>{l&&l.length>r&&(a.value.push(l[r]),o(l,r+1))},0)};Xe(()=>e.jsonValue,l=>{o(l)},{immediate:!0,deep:!0});const s=()=>{if(t("update:expand",!e.expand),n)try{n.dispatchEvent(new Event("resized"))}catch{const l=document.createEvent("Event");l.initEvent("resized",!0,!1),n.dispatchEvent(l)}};return()=>{const l=[];return!e.previewMode&&!e.keyName&&l.push(kt("span",{class:{"jv-toggle":!0,open:!!e.expand},onClick:s})),l.push(kt("span",{class:["jv-item","jv-array"]},"[")),e.expand&&a.value.forEach((r,u)=>{l.push(kt(gu,{key:u,sort:e.sort,depth:e.depth+1,value:r,previewMode:e.previewMode}))}),!e.expand&&a.value.length>0&&l.push(kt("span",{class:"jv-ellipsis",onClick:s,title:`click to reveal ${a.value.length} hidden items`},"...")),l.push(kt("span",{class:["jv-item","jv-array"]},"]")),kt("span",{ref:r=>{n=r}},l)}}}),p7=["title"],g7=_n({__name:"json-function",props:{jsonValue:{type:Function,required:!0}},setup(e){return(t,a)=>(T(),k("span",{class:Le(["jv-item","jv-function"]),title:e.jsonValue.toString()}," <function> ",8,p7))}}),m7={class:Le(["jv-item","jv-string"])},h7=_n({__name:"json-date",props:{jsonValue:{type:Date,required:!0}},setup(e){const t=e,a=po("timeformat",o=>o.toLocaleString()),n=et(()=>a(t.jsonValue));return(o,s)=>(T(),k("span",m7,' "'+h(n.value)+'" ',1))}}),v7={class:Le(["jv-item","jv-regexp"])},_7=_n({__name:"json-regexp",props:{jsonValue:{type:RegExp,required:!0}},setup(e){return(t,a)=>(T(),k("span",v7,h(e.jsonValue.toString()),1))}}),gu=_n({name:"JsonBox",props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},setup(e){const t=po("expandDepth",1/0),a=po("keyClick",()=>{}),n=_(!0);let o=null;rt(()=>{n.value=e.previewMode||e.depth<t});const s=()=>{if(n.value=!n.value,o)try{o.dispatchEvent(new Event("resized"))}catch{const l=document.createEvent("Event");l.initEvent("resized",!0,!1),o.dispatchEvent(l)}};return()=>{const l=[];let r;e.value===null||e.value===void 0?r=r7:Array.isArray(e.value)?r=f7:e.value instanceof Date?r=h7:e.value instanceof RegExp?r=_7:typeof e.value=="object"?r=d7:typeof e.value=="number"?r=i7:typeof e.value=="string"?r=Qg:typeof e.value=="boolean"?r=c7:typeof e.value=="function"?r=g7:r=Qg;const u=e.value&&(Array.isArray(e.value)||typeof e.value=="object"&&!(e.value instanceof Date)&&!(e.value instanceof RegExp));return!e.previewMode&&u&&!(e.value instanceof RegExp)&&l.push(kt("span",{class:{"jv-toggle":!0,open:!!n.value},onClick:s})),e.keyName&&l.push(kt("span",{class:"jv-key",onClick:()=>{a&&a(e.keyName)}},`${e.keyName}:`)),l.push(kt(r,{class:"jv-push",jsonValue:e.value,keyName:e.keyName,sort:e.sort,depth:e.depth,expand:n.value,previewMode:e.previewMode,"onUpdate:expand":d=>{n.value=d}})),kt("div",{class:{"jv-node":!0,"jv-key-node":!!e.keyName&&!u,toggle:!e.previewMode&&u},ref:d=>{o=d}},l)}}});function y7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mu={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var b7=mu.exports,Yg;function w7(){return Yg||(Yg=1,(function(e,t){(function(a,n){e.exports=n()})(b7,function(){return(function(){var a={686:(function(s,l,r){r.d(l,{default:function(){return le}});var u=r(279),d=r.n(u),c=r(370),f=r.n(c),m=r(817),g=r.n(m);function v(G){try{return document.execCommand(G)}catch{return!1}}var y=function(G){var ie=g()(G);return v("cut"),ie},b=y;function x(G){var ie=document.documentElement.getAttribute("dir")==="rtl",oe=document.createElement("textarea");oe.style.fontSize="12pt",oe.style.border="0",oe.style.padding="0",oe.style.margin="0",oe.style.position="absolute",oe.style[ie?"right":"left"]="-9999px";var be=window.pageYOffset||document.documentElement.scrollTop;return oe.style.top="".concat(be,"px"),oe.setAttribute("readonly",""),oe.value=G,oe}var L=function(G,ie){var oe=x(G);ie.container.appendChild(oe);var be=g()(oe);return v("copy"),oe.remove(),be},U=function(G){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},oe="";return typeof G=="string"?oe=L(G,ie):G instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(G==null?void 0:G.type)?oe=L(G.value,ie):(oe=g()(G),v("copy")),oe},S=U;function R(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(ie){return typeof ie}:R=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},R(G)}var V=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=G.action,oe=ie===void 0?"copy":ie,be=G.container,ce=G.target,M=G.text;if(oe!=="copy"&&oe!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(ce!==void 0)if(ce&&R(ce)==="object"&&ce.nodeType===1){if(oe==="copy"&&ce.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(oe==="cut"&&(ce.hasAttribute("readonly")||ce.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(M)return S(M,{container:be});if(ce)return oe==="cut"?b(ce):S(ce,{container:be})},j=V;function H(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(ie){return typeof ie}:H=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},H(G)}function q(G,ie){if(!(G instanceof ie))throw new TypeError("Cannot call a class as a function")}function _e(G,ie){for(var oe=0;oe<ie.length;oe++){var be=ie[oe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}function re(G,ie,oe){return ie&&_e(G.prototype,ie),oe&&_e(G,oe),G}function O(G,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(ie&&ie.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),ie&&Y(G,ie)}function Y(G,ie){return Y=Object.setPrototypeOf||function(oe,be){return oe.__proto__=be,oe},Y(G,ie)}function Z(G){var ie=ae();return function(){var oe=F(G),be;if(ie){var ce=F(this).constructor;be=Reflect.construct(oe,arguments,ce)}else be=oe.apply(this,arguments);return W(this,be)}}function W(G,ie){return ie&&(H(ie)==="object"||typeof ie=="function")?ie:ne(G)}function ne(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(G){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},F(G)}function P(G,ie){var oe="data-clipboard-".concat(G);if(ie.hasAttribute(oe))return ie.getAttribute(oe)}var J=(function(G){O(oe,G);var ie=Z(oe);function oe(be,ce){var M;return q(this,oe),M=ie.call(this),M.resolveOptions(ce),M.listenClick(be),M}return re(oe,[{key:"resolveOptions",value:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof be.action=="function"?be.action:this.defaultAction,this.target=typeof be.target=="function"?be.target:this.defaultTarget,this.text=typeof be.text=="function"?be.text:this.defaultText,this.container=H(be.container)==="object"?be.container:document.body}},{key:"listenClick",value:function(be){var ce=this;this.listener=f()(be,"click",function(M){return ce.onClick(M)})}},{key:"onClick",value:function(be){var ce=be.delegateTarget||be.currentTarget,M=this.action(ce)||"copy",Q=j({action:M,container:this.container,target:this.target(ce),text:this.text(ce)});this.emit(Q?"success":"error",{action:M,text:Q,trigger:ce,clearSelection:function(){ce&&ce.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(be){return P("action",be)}},{key:"defaultTarget",value:function(be){var ce=P("target",be);if(ce)return document.querySelector(ce)}},{key:"defaultText",value:function(be){return P("text",be)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(be){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return S(be,ce)}},{key:"cut",value:function(be){return b(be)}},{key:"isSupported",value:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],ce=typeof be=="string"?[be]:be,M=!!document.queryCommandSupported;return ce.forEach(function(Q){M=M&&!!document.queryCommandSupported(Q)}),M}}]),oe})(d()),le=J}),828:(function(s){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function u(d,c){for(;d&&d.nodeType!==l;){if(typeof d.matches=="function"&&d.matches(c))return d;d=d.parentNode}}s.exports=u}),438:(function(s,l,r){var u=r(828);function d(m,g,v,y,b){var x=f.apply(this,arguments);return m.addEventListener(v,x,b),{destroy:function(){m.removeEventListener(v,x,b)}}}function c(m,g,v,y,b){return typeof m.addEventListener=="function"?d.apply(null,arguments):typeof v=="function"?d.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(x){return d(x,g,v,y,b)}))}function f(m,g,v,y){return function(b){b.delegateTarget=u(b.target,g),b.delegateTarget&&y.call(m,b)}}s.exports=c}),879:(function(s,l){l.node=function(r){return r!==void 0&&r instanceof HTMLElement&&r.nodeType===1},l.nodeList=function(r){var u=Object.prototype.toString.call(r);return r!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in r&&(r.length===0||l.node(r[0]))},l.string=function(r){return typeof r=="string"||r instanceof String},l.fn=function(r){var u=Object.prototype.toString.call(r);return u==="[object Function]"}}),370:(function(s,l,r){var u=r(879),d=r(438);function c(v,y,b){if(!v&&!y&&!b)throw new Error("Missing required arguments");if(!u.string(y))throw new TypeError("Second argument must be a String");if(!u.fn(b))throw new TypeError("Third argument must be a Function");if(u.node(v))return f(v,y,b);if(u.nodeList(v))return m(v,y,b);if(u.string(v))return g(v,y,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(v,y,b){return v.addEventListener(y,b),{destroy:function(){v.removeEventListener(y,b)}}}function m(v,y,b){return Array.prototype.forEach.call(v,function(x){x.addEventListener(y,b)}),{destroy:function(){Array.prototype.forEach.call(v,function(x){x.removeEventListener(y,b)})}}}function g(v,y,b){return d(document.body,v,y,b)}s.exports=c}),817:(function(s){function l(r){var u;if(r.nodeName==="SELECT")r.focus(),u=r.value;else if(r.nodeName==="INPUT"||r.nodeName==="TEXTAREA"){var d=r.hasAttribute("readonly");d||r.setAttribute("readonly",""),r.select(),r.setSelectionRange(0,r.value.length),d||r.removeAttribute("readonly"),u=r.value}else{r.hasAttribute("contenteditable")&&r.focus();var c=window.getSelection(),f=document.createRange();f.selectNodeContents(r),c.removeAllRanges(),c.addRange(f),u=c.toString()}return u}s.exports=l}),279:(function(s){function l(){}l.prototype={on:function(r,u,d){var c=this.e||(this.e={});return(c[r]||(c[r]=[])).push({fn:u,ctx:d}),this},once:function(r,u,d){var c=this;function f(){c.off(r,f),u.apply(d,arguments)}return f._=u,this.on(r,f,d)},emit:function(r){var u=[].slice.call(arguments,1),d=((this.e||(this.e={}))[r]||[]).slice(),c=0,f=d.length;for(c;c<f;c++)d[c].fn.apply(d[c].ctx,u);return this},off:function(r,u){var d=this.e||(this.e={}),c=d[r],f=[];if(c&&u)for(var m=0,g=c.length;m<g;m++)c[m].fn!==u&&c[m].fn._!==u&&f.push(c[m]);return f.length?d[r]=f:delete d[r],this}},s.exports=l,s.exports.TinyEmitter=l})},n={};function o(s){if(n[s])return n[s].exports;var l=n[s]={exports:{}};return a[s](l,l.exports,o),l.exports}return(function(){o.n=function(s){var l=s&&s.__esModule?(function(){return s.default}):(function(){return s});return o.d(l,{a:l}),l}})(),(function(){o.d=function(s,l){for(var r in l)o.o(l,r)&&!o.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:l[r]})}})(),(function(){o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)}})(),o(686)})().default})})(mu)),mu.exports}var x7=w7();const T7=y7(x7),S7=function(e,t){let a=Date.now(),n;return(...o)=>{Date.now()-a<t&&n&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t),a=Date.now()}},k7=_n({name:"JsonViewer",components:{JsonBox:gu},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:e=>e.toLocaleString()},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},emits:["onKeyClick","copied"],setup(e,{emit:t}){const a=_(!1),n=_(!1),o=_(e.expanded),s=_(null),l=_(null);wl("expandDepth",e.expandDepth),wl("timeformat",e.timeformat),wl("keyClick",v=>{t("onKeyClick",v)});const r=et(()=>"jv-container jv-"+e.theme+(e.boxed?" boxed":"")),u=et(()=>{if(typeof e.copyable=="boolean"&&!e.copyable)return{copyText:"copy",copiedText:"copied!",timeout:2e3,align:"right"};const v=e.copyable;return{copyText:v.copyText||"copy",copiedText:v.copiedText||"copied!",timeout:v.timeout||2e3,align:v.align||"right"}}),d=et(()=>{if(!e.parse||typeof e.value!="string")return e.value;try{return JSON.parse(e.value)}catch{return e.value}}),c=()=>{f()},f=S7(()=>{Ge(()=>{l.value&&(l.value.$el.clientHeight>=250?n.value=!0:n.value=!1)})},200),m=v=>{a.value||(a.value=!0,setTimeout(()=>{a.value=!1},u.value.timeout),t("copied",v))},g=()=>{o.value=!o.value};return Xe(()=>e.value,()=>{c()}),rt(()=>{e.boxed&&l.value&&(c(),l.value.$el.addEventListener("resized",c,!0)),e.copyable&&s.value&&new T7(s.value,{text:()=>JSON.stringify(d.value,null,2)}).on("success",m)}),{clip:s,jsonBox:l,copied:a,expandableCode:n,expandCode:o,jvClass:r,copyText:u,parseValue:d,toggleExpandCode:g}}}),C7=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a};function E7(e,t,a,n,o,s){const l=Fh("json-box");return T(),k("div",{class:Le(e.jvClass)},[e.copyable?(T(),k("div",{key:0,class:Le(`jv-tooltip ${e.copyText.align||"right"}`)},[i("span",{ref:"clip",class:Le(["jv-button",{copied:e.copied}])},[rs(e.$slots,"copy",{copied:e.copied},()=>[ze(h(e.copied?e.copyText.copiedText:e.copyText.copyText),1)])],2)],2)):fe("",!0),i("div",{class:Le(["jv-code",{open:e.expandCode,boxed:e.boxed}])},[We(l,{ref:"jsonBox",value:e.parseValue,sort:e.sort,"preview-mode":e.previewMode},null,8,["value","sort","preview-mode"])],2),e.expandableCode&&e.boxed?(T(),k("div",{key:1,class:"jv-more",onClick:t[0]||(t[0]=(...r)=>e.toggleExpandCode&&e.toggleExpandCode(...r))},[i("span",{class:Le(["jv-toggle",{open:!!e.expandCode}])},null,2)])):fe("",!0)],2)}const L7=C7(k7,[["render",E7]]),$7={class:"lora-raw__content"},Kg="weilin_tools_",A7=_t({__name:"lora_raw",emits:["close","update"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_({}),s=_(!1),l={loraRaw:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},u=_((()=>{try{const g=localStorage.getItem(`${Kg}loraRawState`);if(g){const v=JSON.parse(g),y={...l};return v.loraRaw&&(y.loraRaw={...l.loraRaw,...v.loraRaw}),y}}catch(g){console.error("Error loading window states:",g)}return{...l}})());Xe(u,g=>{try{localStorage.setItem(`${Kg}loraRawState`,JSON.stringify(g))}catch(v){console.error("Error saving window states:",v)}},{deep:!0}),rt(()=>{He.registerWindow("loraRaw")}),Rn(()=>{He.unregisterWindow("loraRaw")});const d=g=>{s.value=!1},c=(g,v)=>{u.value[g]&&(u.value[g].position={...v})},f=(g,v)=>{u.value[g]&&(u.value[g].size={...v})};return t({open:g=>{s.value=!0,He.setActiveWindow("loraRaw"),o.value=g}}),(g,v)=>s.value?(T(),bt(En,{key:0,title:p(n)("lora.rawTitle"),position:u.value.loraRaw.position,size:u.value.loraRaw.size,"z-index":p(He).getZIndex("loraRaw"),"onUpdate:position":v[0]||(v[0]=y=>c("loraRaw",y)),"onUpdate:size":v[1]||(v[1]=y=>f("loraRaw",y)),onActive:v[2]||(v[2]=y=>p(He).setActiveWindow("loraRaw")),onClose:v[3]||(v[3]=y=>d())},{default:ut(()=>[i("div",$7,[We(p(L7),{value:o.value,copyable:"",sort:"",theme:"dark"},null,8,["value"])])]),_:1},8,["title","position","size","z-index"])):fe("",!0)}},[["__scopeId","data-v-4c910f08"]]),I7={key:0,class:"lora-detail__loading"},M7={class:"lora-detail__body"},R7={class:"lora-detail__tags"},O7=["title"],N7=["title"],D7={class:"lora-detail__table"},P7={class:"label"},F7={colspan:"2"},B7={colspan:"3"},U7={class:"label"},H7={colspan:"2",class:"hash"},V7={class:"label"},j7={colspan:"2"},W7=["href"],z7={key:1,class:"not-found"},q7=["title"],G7={class:"label"},Q7=["title"],Y7={key:1,class:"text"},K7={class:"actions"},J7={class:"svg-icon",viewBox:"0 0 24 24",width:"16",height:"16"},X7={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},Z7={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},ex={class:"label"},tx={colspan:"2"},nx={class:"label"},ox={colspan:"2"},ax={class:"label"},sx=["title"],lx=["onUpdate:modelValue","type","onKeyup"],rx={key:1,class:"text"},ix={class:"actions"},ux=["onClick","title"],cx={class:"svg-icon",viewBox:"0 0 24 24",width:"16",height:"16"},dx={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},fx={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},px={class:"label"},gx=["onUpdate:modelValue"],mx={key:1},hx=["onUpdate:modelValue","type","onKeyup"],vx={key:1,class:"text"},_x={class:"actions"},yx=["onClick","title"],bx={class:"svg-icon",viewBox:"0 0 24 24",width:"16",height:"16"},wx={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},xx={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},Tx=["onClick","title"],Sx={class:"field-management"},kx=["title"],Cx={key:0},Ex={class:"label"},Lx=["title"],$x={key:0,class:"word-selection"},Ax={colspan:"2"},Ix={class:"word-list"},Mx=["onClick"],Rx={key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},Ox={key:1},Nx={key:0,class:"lora-detail__images"},Dx={class:"image-wrapper"},Px=["onClick"],Fx=["src"],Bx={class:"image-info"},Ux={key:0,class:"info-item"},Hx=["href"],Vx={key:1,class:"info-item"},jx={key:2,class:"info-item"},Wx={key:3,class:"info-item"},zx={key:4,class:"info-item"},qx={key:5,class:"info-item"},Gx={key:6,class:"info-item"},Qx={key:7,class:"info-item"},Jg="weilin_tools_",ur=_t({__name:"lora_detail",emits:["close","update"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(!1),s=_({}),l=_(!1),r=_(),u=_({}),d={loraDetail:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},f=_((()=>{try{const M=localStorage.getItem(`${Jg}loraDetailState`);if(M){const Q=JSON.parse(M),se={...d};return Q.loraDetail&&(se.loraDetail={...d.loraDetail,...Q.loraDetail}),se}}catch(M){console.error("Error loading window states:",M)}return{...d}})());Xe(f,M=>{try{localStorage.setItem(`${Jg}loraDetailState`,JSON.stringify(M))}catch(Q){console.error("Error saving window states:",Q)}},{deep:!0}),rt(()=>{He.registerWindow("loraDetail")}),Rn(()=>{He.unregisterWindow("loraDetail")});const m=M=>{l.value=!1},g=(M,Q)=>{f.value[M]&&(f.value[M].position={...Q})},v=(M,Q)=>{f.value[M]&&(f.value[M].size={...Q})};t({open:M=>{l.value=!0,He.setActiveWindow("loraDetail"),o.value=!0,s.value=M,Ge(()=>{q()})}});const b=_(""),x=_(),L=M=>{x.value.open(M)},U=_({}),S=_({}),R=_([]),V=[{key:"strengthMin",label:n("lora.strengthMin"),tip:n("lora.strengthMinTip"),type:"number"},{key:"strengthMax",label:n("lora.strengthMax"),tip:n("lora.strengthMaxTip"),type:"number"},{key:"strWeight",label:n("lora.strWeight"),tip:n("lora.strWeightTip"),type:"number"},{key:"loraWorks",label:n("lora.promptWords"),tip:n("lora.promptWordsTip")}],j=()=>{const M=`custom_${Date.now()}`;s.value.user_diy_fileds||(s.value.user_diy_fileds={}),u.value[M]={label:"",type:"text"},s.value.user_diy_fileds[M]={label:"",value:""},S.value[M]="",F(M)},H=async M=>{var Q,se;delete u.value[M],delete S.value[M],(se=(Q=s.value)==null?void 0:Q.user_diy_fileds)!=null&&se[M]&&delete s.value.user_diy_fileds[M],await Ge(async()=>{await le(M)})},q=()=>{b.value=s.value.name,s.value={},R.value=[],S.value={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},Ln.getLoraDetail({file:b.value,refresh:!1,light:!1}).then(M=>{s.value=M.data,Ge(function(){var Q,se,D,ee,$,A;s.value.name=s.value.name||((se=(Q=s.value.raw)===null||Q===void 0?void 0:Q.metadata)===null||se===void 0?void 0:se.ss_output_name===void 0?se["modelspec.title"]:se.ss_output_name)||"",S.value.nameValue=s.value.name,s.value.strengthMin=(D=s.value.strengthMin)!==null&&D!==void 0?D:"",S.value.minValue=s.value.strengthMin,s.value.strengthMax=(ee=s.value.strengthMax)!==null&&ee!==void 0?ee:"",S.value.maxValue=s.value.strengthMax,s.value.userNote=($=s.value.userNote)!==null&&$!==void 0?$:"",S.value.notesValue=s.value.userNote,s.value.loraWorks=(A=s.value.loraWorks)!==null&&A!==void 0?A:"",S.value.loraWorksValue=s.value.loraWorks,s.value.user_diy_fileds&&(u.value=s.value.user_diy_fileds),o.value=!1})}).catch(M=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},_e=M=>{let se=new URL(M).pathname.split("/").pop();return se=se.split("?")[0],decodeURIComponent(se)},re=async M=>{try{const Q=await fetch(M),se=_e(M),D=await Q.blob();Ln.postUplaodImg(D,s.value.file,se).then(ee=>{K({type:"success",str:"message.saveSuccess"})}).catch(ee=>{K({type:"warn",str:"message.unknownError"})})}catch{K({type:"warn",str:"message.unknownError"})}},O=et(()=>{var M;return(M=s.value.links)==null?void 0:M.find(Q=>Q.includes("civitai.com/models"))}),Y=et(()=>{var M,Q;return((Q=(M=s.value.raw)==null?void 0:M.civitai)==null?void 0:Q.error)==="Model not found"}),Z=et(()=>s.value.trainedWords||[]),W=async()=>{var Q;const M=((Q=r.value)==null?void 0:Q.scrollTop)||0;o.value=!0,Ln.getLoraRefresh({file:b.value}).then(se=>{s.value=se.data,Ge(function(){var D,ee,$,A,B,te;s.value.name=s.value.name||((ee=(D=s.value.raw)===null||D===void 0?void 0:D.metadata)===null||ee===void 0?void 0:ee.ss_output_name===void 0?ee["modelspec.title"]:ee.ss_output_name)||"",S.value.nameValue=s.value.name,s.value.strengthMin=($=s.value.strengthMin)!==null&&$!==void 0?$:"",S.value.minValue=s.value.strengthMin,s.value.strengthMax=(A=s.value.strengthMax)!==null&&A!==void 0?A:"",S.value.maxValue=s.value.strengthMax,s.value.userNote=(B=s.value.userNote)!==null&&B!==void 0?B:"",S.value.notesValue=s.value.userNote,s.value.loraWorks=(te=s.value.loraWorks)!==null&&te!==void 0?te:"",S.value.loraWorksValue=s.value.loraWorks,s.value.user_diy_fileds&&(u.value=s.value.user_diy_fileds),o.value=!1}),Ge(function(){o.value=!1}),r.value&&(r.value.scrollTop=M),K({type:"success",str:"message.dataLoaded"})}).catch(se=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},ne=M=>{U.value[M]?F(M):ae(M)},ae=M=>{var Q,se;U.value[M]=!0,M in u.value?S.value[M]=((se=(Q=s.value.user_diy_fileds)==null?void 0:Q[M])==null?void 0:se.value)||"":S.value[M]=s.value[M],Ge(()=>{M==="name"&&nameInput.value&&nameInput.value.focus()})},F=M=>{M in u.value?(s.value.user_diy_fileds||(s.value.user_diy_fileds={}),s.value.user_diy_fileds[M]={label:u.value[M].label,value:S.value[M]}):s.value[M]=S.value[M],J(s.value),U.value[M]=!1},P=M=>{U.value[M]=!1,S.value[M]=s.value[M]},J=M=>{var se;const Q=((se=r.value)==null?void 0:se.scrollTop)||0;o.value=!0,Ln.postLoraSave(b.value,M).then(D=>{s.value=D.data,Ge(function(){var ee,$,A,B,te,he;s.value.name=s.value.name||(($=(ee=s.value.raw)===null||ee===void 0?void 0:ee.metadata)===null||$===void 0?void 0:$.ss_output_name===void 0?$["modelspec.title"]:$.ss_output_name)||"",S.value.nameValue=s.value.name,s.value.strengthMin=(A=s.value.strengthMin)!==null&&A!==void 0?A:"",S.value.minValue=s.value.strengthMin,s.value.strengthMax=(B=s.value.strengthMax)!==null&&B!==void 0?B:"",S.value.maxValue=s.value.strengthMax,s.value.userNote=(te=s.value.userNote)!==null&&te!==void 0?te:"",S.value.notesValue=s.value.userNote,s.value.loraWorks=(he=s.value.loraWorks)!==null&&he!==void 0?he:"",S.value.loraWorksValue=s.value.loraWorks,s.value.user_diy_fileds&&(u.value=s.value.user_diy_fileds),o.value=!1,Ge(function(){r.value&&(r.value.scrollTop=Q)})}),K({type:"success",str:"message.saveSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},le=async M=>{var se;const Q=((se=r.value)==null?void 0:se.scrollTop)||0;o.value=!0,await Ln.postLoraDelet(b.value,M).then(D=>{s.value=D.data,Ge(function(){var ee,$,A,B,te,he;s.value.name=s.value.name||(($=(ee=s.value.raw)===null||ee===void 0?void 0:ee.metadata)===null||$===void 0?void 0:$.ss_output_name===void 0?$["modelspec.title"]:$.ss_output_name)||"",S.value.nameValue=s.value.name,s.value.strengthMin=(A=s.value.strengthMin)!==null&&A!==void 0?A:"",S.value.minValue=s.value.strengthMin,s.value.strengthMax=(B=s.value.strengthMax)!==null&&B!==void 0?B:"",S.value.maxValue=s.value.strengthMax,s.value.userNote=(te=s.value.userNote)!==null&&te!==void 0?te:"",S.value.notesValue=s.value.userNote,s.value.loraWorks=(he=s.value.loraWorks)!==null&&he!==void 0?he:"",S.value.loraWorksValue=s.value.loraWorks,s.value.user_diy_fileds&&(u.value=s.value.user_diy_fileds),o.value=!1,Ge(function(){r.value&&(r.value.scrollTop=Q)})}),K({type:"success",str:"message.deleteSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},G=M=>{const Q=R.value.indexOf(M);Q===-1?R.value.push(M):R.value.splice(Q,1)},ie=M=>R.value.includes(M),oe=async()=>{R.value.length&&navigator.clipboard.writeText(R.value).then(M=>{K({type:"success",str:"message.copySuccess"})},M=>{K({type:"warn",str:"message.copyFailed"})})};_(!1),_(!1),et(()=>o.value?n("common.loading"):n("common.ready"));const be=_(!0),ce=()=>{be.value=!be.value};return(M,Q)=>(T(),k(Me,null,[l.value?(T(),bt(En,{key:0,title:p(n)("lora.title"),position:f.value.loraDetail.position,size:f.value.loraDetail.size,"z-index":p(He).getZIndex("loraDetail"),"onUpdate:position":Q[5]||(Q[5]=se=>g("loraDetail",se)),"onUpdate:size":Q[6]||(Q[6]=se=>v("loraDetail",se)),onActive:Q[7]||(Q[7]=se=>p(He).setActiveWindow("loraDetail")),onClose:Q[8]||(Q[8]=se=>m())},{default:ut(()=>{var se;return[i("div",{class:"lora-detail__content",ref_key:"loraContent",ref:r},[o.value?(T(),k("div",I7,[...Q[9]||(Q[9]=[i("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"is-rotating"},[i("path",{d:"M12 4V2C6.48 2 2 6.48 2 12H4C4 7.58 7.58 4 12 4Z"})],-1)])])):fe("",!0),i("div",M7,[Q[24]||(Q[24]=i("div",{class:"lora-detail__title"},"Lora ",-1)),i("ul",R7,[s.value.type?(T(),k("li",{key:0,class:Le(["lora-detail__tag",`-type-${s.value.type.toLowerCase()}`]),title:p(n)("lora.type")},h(s.value.type),11,O7)):fe("",!0),s.value.baseModel?(T(),k("li",{key:1,class:Le(["lora-detail__tag",`-basemodel-${s.value.baseModel.toLowerCase()}`]),title:p(n)("lora.baseModel")},h(s.value.baseModel),11,N7)):fe("",!0)]),i("table",D7,[i("tbody",null,[i("tr",null,[i("td",P7,h(p(n)("lora.file")),1),i("td",F7,h(s.value.file),1),i("td",B7,[i("button",{class:"fetch-btn",onClick:Q[0]||(Q[0]=D=>L(s.value.raw.metadata))},h(p(n)("lora.seeLoraRaw")),1)])]),i("tr",null,[i("td",U7,h(p(n)("lora.hash")),1),i("td",H7,h(s.value.sha256),1)]),i("tr",null,[i("td",V7,h(p(n)("lora.civitai")),1),i("td",j7,[O.value?(T(),k(Me,{key:0},[i("a",{href:O.value,target:"_blank",class:"civitai-link"},[Q[10]||(Q[10]=i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"})],-1)),i("span",null,h(p(n)("lora.viewOnCivitai")),1)],8,W7),i("button",{style:{"margin-left":"10px"},class:"refresh-btn",onClick:W},h(p(n)("lora.getCivitData")),1)],64)):Y.value?(T(),k("div",z7,[i("i",null,h(p(n)("lora.modelNotFound")),1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.modelNotFoundTip")},[...Q[11]||(Q[11]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,q7))])):(T(),k("button",{key:2,class:"fetch-btn",onClick:W},h(p(n)("lora.fetchFromCivitai")),1))])]),i("tr",{class:Le({"is-editing":U.value.name})},[i("td",G7,[ze(h(p(n)("lora.name"))+" ",1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.nameTip")},[...Q[12]||(Q[12]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,Q7))]),i("td",null,[U.value.name?ve((T(),k("input",{key:0,"onUpdate:modelValue":Q[1]||(Q[1]=D=>S.value.name=D),type:"text",onKeyup:[Q[2]||(Q[2]=ln(D=>F("name"),["enter"])),Q[3]||(Q[3]=ln(D=>P("name"),["esc"]))],ref:"nameInput"},null,544)),[[Ae,S.value.name]]):(T(),k("span",Y7,h(s.value.name),1))]),i("td",K7,[i("button",{class:"edit-btn",onClick:Q[4]||(Q[4]=D=>ne("name"))},[(T(),k("svg",J7,[U.value.name?(T(),k("path",X7)):(T(),k("path",Z7))]))])])],2),i("tr",null,[i("td",ex,h(p(n)("lora.baseModel")),1),i("td",tx,h(!s.value.baseModelFile&&!s.value.baseModelFile?"":(s.value.baseModel||"")+(s.value.baseModelFile?`
                                    (${s.value.baseModelFile})`:"")),1)]),i("tr",null,[i("td",nx,h(p(n)("lora.skipClip")),1),i("td",ox,h((M._t=(M._s=s.value.raw)===null||M._s===void 0?void 0:M._s.metadata)===null||M._t===void 0?void 0:M._t.ss_clip_skip),1)]),(T(),k(Me,null,je(V,D=>i("tr",{key:D.key,class:Le({"is-editing":U.value[D.key]})},[i("td",ax,[ze(h(D.label)+" ",1),D.tip?(T(),k("svg",{key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:D.tip},[...Q[13]||(Q[13]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,sx)):fe("",!0)]),i("td",null,[U.value[D.key]?ve((T(),k("input",{key:0,"onUpdate:modelValue":ee=>S.value[D.key]=ee,type:D.type||"text",onKeyup:[ln(ee=>F(D.key),["enter"]),ln(ee=>P(D.key),["esc"])]},null,40,lx)),[[Ud,S.value[D.key]]]):(T(),k("span",rx,h(s.value[D.key]),1))]),i("td",ix,[i("button",{class:"edit-btn",onClick:ee=>ne(D.key),title:p(n)("promptBox.settings.edit")},[(T(),k("svg",cx,[U.value[D.key]?(T(),k("path",dx)):(T(),k("path",fx))]))],8,ux)])],2)),64)),(T(!0),k(Me,null,je(u.value,(D,ee)=>{var $;return T(),k("tr",{key:ee,class:Le({"is-editing":U.value[ee]})},[i("td",px,[U.value[ee]?ve((T(),k("input",{key:0,"onUpdate:modelValue":A=>D.label=A,type:"text"},null,8,gx)),[[Ae,D.label]]):(T(),k("span",mx,h(D.label),1))]),i("td",null,[U.value[ee]?ve((T(),k("input",{key:0,"onUpdate:modelValue":A=>S.value[ee]=A,type:D.type||"text",onKeyup:[ln(A=>F(ee),["enter"]),ln(A=>P(ee),["esc"])]},null,40,hx)),[[Ud,S.value[ee]]]):(T(),k("span",vx,h(s.value.user_diy_fileds?($=s.value.user_diy_fileds[ee])==null?void 0:$.value:""),1))]),i("td",_x,[i("button",{class:"edit-btn",onClick:A=>ne(ee),title:p(n)("promptBox.settings.edit")},[(T(),k("svg",bx,[U.value[ee]?(T(),k("path",wx)):(T(),k("path",xx))]))],8,yx),i("button",{style:{"margin-left":"5px",color:"#f87171"},onClick:A=>H(ee),class:"edit-btn",title:p(n)("promptBox.settings.delete")},h(p(n)("promptBox.settings.delete")),9,Tx)])],2)}),128)),i("div",Sx,[i("button",{onClick:j,class:"add-btn",title:p(n)("lora.addDiyFiled")},h(p(n)("lora.addDiyFiled")),9,kx)]),Z.value.length?(T(),k("tr",Cx,[i("td",Ex,[ze(h(p(n)("lora.trainedWords"))+" ",1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.trainedWordsTip")},[...Q[14]||(Q[14]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,Lx)),R.value.length?(T(),k("div",$x,[ze(h(p(n)("lora.selectedWords",{count:R.value.length}))+" ",1),i("button",{class:"copy-btn",onClick:oe},h(p(n)("common.copy")),1)])):fe("",!0)]),i("td",Ax,[i("ul",Ix,[(T(!0),k(Me,null,je(be.value?Z.value.slice(0,10):Z.value,(D,ee)=>(T(),k("li",{key:"words-"+ee,class:Le(["word-item",{"is-selected":ie(D.word),"is-hidden":be.value&&ee>=10}]),onClick:$=>G(D.word)},[i("span",null,h(D.word),1),D.civitai?(T(),k("svg",Rx,[...Q[15]||(Q[15]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"},null,-1)])])):fe("",!0),D.count!=null?(T(),k("small",Ox,h(D.count),1)):fe("",!0)],10,Mx))),128)),Z.value.length>10?(T(),k("li",{key:0,class:"toggle-btn",onClick:ce},h(be.value?p(n)("common.showMore"):p(n)("common.showLess")),1)):fe("",!0)])])])):fe("",!0)])]),(se=s.value.images)!=null&&se.length?(T(),k("ul",Nx,[(T(!0),k(Me,null,je(s.value.images,(D,ee)=>(T(),k("li",{key:ee,class:"lora-detail__image-item"},[i("figure",null,[i("div",Dx,[i("div",{class:"image-action",onClick:$=>re(D.url)}," Lora ",8,Px),i("img",{src:D.url},null,8,Fx)]),i("figcaption",Bx,[D.civitaiUrl?(T(),k("span",Ux,[i("a",{href:D.civitaiUrl,target:"_blank",class:"civitai-link"},[...Q[16]||(Q[16]=[ze(" C civitai ",-1),i("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})],-1)])],8,Hx)])):fe("",!0),D.seed?(T(),k("span",Vx,[Q[17]||(Q[17]=i("label",null," seed",-1)),ze(" "+h(D.seed),1)])):fe("",!0),D.steps?(T(),k("span",jx,[Q[18]||(Q[18]=i("label",null," steps",-1)),ze(" "+h(D.steps),1)])):fe("",!0),D.cfg?(T(),k("span",Wx,[Q[19]||(Q[19]=i("label",null," cfg",-1)),ze(" "+h(D.cfg),1)])):fe("",!0),D.sampler?(T(),k("span",zx,[Q[20]||(Q[20]=i("label",null," sampler",-1)),ze(" "+h(D.sampler),1)])):fe("",!0),D.model?(T(),k("span",qx,[Q[21]||(Q[21]=i("label",null," model",-1)),ze(" "+h(D.model),1)])):fe("",!0),D.positive?(T(),k("span",Gx,[Q[22]||(Q[22]=i("label",null," positive",-1)),ze(" "+h(D.positive),1)])):fe("",!0),D.negative?(T(),k("span",Qx,[Q[23]||(Q[23]=i("label",null," negative",-1)),ze(" "+h(D.negative),1)])):fe("",!0)])])]))),128))])):fe("",!0)])],512)]}),_:1},8,["title","position","size","z-index"])):fe("",!0),We(A7,{ref_key:"loraRawRef",ref:x},null,512)],64))}},[["__scopeId","data-v-3a570568"]]),Yx={key:0,class:"lora-detail__loading"},Kx={class:"lora-detail__body"},Jx={class:"lora-detail__tags"},Xx=["title"],Zx=["title"],e9={class:"lora-detail__table"},t9={class:"label"},n9={colspan:"2"},o9={class:"label"},a9={colspan:"2",class:"hash"},s9={class:"label"},l9={colspan:"2"},r9=["href"],i9={key:1,class:"not-found"},u9=["title"],c9={class:"label"},d9=["title"],f9={key:1,class:"text"},p9={class:"label"},g9={colspan:"2"},m9={class:"label"},h9={colspan:"2"},v9={class:"label"},_9=["title"],y9={class:"text"},b9={class:"actions"},w9=["onClick","title"],x9={class:"label"},T9=["onUpdate:modelValue"],S9={key:1},k9={class:"text"},C9={class:"actions"},E9=["onClick","title"],L9={key:0},$9={class:"label"},A9=["title"],I9={key:0,class:"word-selection"},M9={colspan:"2"},R9={class:"word-list"},O9=["onClick"],N9={key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},D9={key:1},P9={key:0,class:"lora-detail__images",style:{display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"12px"}},F9={class:"image-wrapper",style:{height:"200px"}},B9=["src"],hu=_t({__name:"lora_card",props:{fileNmae:{type:String,required:!0},paddingLeft:{type:Number,required:!1,default:100},paddingTop:{type:Number,required:!1,default:100}},emits:["cardLeave","cardenter"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(!1),s=_({}),l=_(),r=_({}),u=e,d=_(""),c=a,f=()=>{c("cardLeave")},m=()=>{c("cardenter")},g=_({}),v=_({}),y=_([]),b=[{key:"strengthMin",label:n("lora.strengthMin"),tip:n("lora.strengthMinTip"),type:"number"},{key:"strengthMax",label:n("lora.strengthMax"),tip:n("lora.strengthMaxTip"),type:"number"},{key:"strWeight",label:n("lora.strWeight"),tip:n("lora.strWeightTip"),type:"number"},{key:"loraWorks",label:n("lora.promptWords"),tip:n("lora.promptWordsTip")}];rt(()=>{x()});const x=()=>{d.value=u.fileNmae,s.value={},y.value=[],v.value={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},Ln.getLoraDetail({file:d.value,refresh:!1,light:!1}).then(ne=>{s.value=ne.data,Ge(function(){var ae,F,P,J,le,G;s.value.name=s.value.name||((F=(ae=s.value.raw)===null||ae===void 0?void 0:ae.metadata)===null||F===void 0?void 0:F.ss_output_name===void 0?F["modelspec.title"]:F.ss_output_name)||"",v.value.nameValue=s.value.name,s.value.strengthMin=(P=s.value.strengthMin)!==null&&P!==void 0?P:"",v.value.minValue=s.value.strengthMin,s.value.strengthMax=(J=s.value.strengthMax)!==null&&J!==void 0?J:"",v.value.maxValue=s.value.strengthMax,s.value.userNote=(le=s.value.userNote)!==null&&le!==void 0?le:"",v.value.notesValue=s.value.userNote,s.value.loraWorks=(G=s.value.loraWorks)!==null&&G!==void 0?G:"",v.value.loraWorksValue=s.value.loraWorks,r.value=s.value.user_diy_fileds,o.value=!1})}).catch(ne=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},L=ne=>{navigator.clipboard.writeText(ne).then(()=>{K({type:"success",str:""})}).catch(ae=>{K({type:"error",str:""})})},U=et(()=>{var ne;return(ne=s.value.links)==null?void 0:ne.find(ae=>ae.includes("civitai.com/models"))}),S=et(()=>{var ne,ae;return((ae=(ne=s.value.raw)==null?void 0:ne.civitai)==null?void 0:ae.error)==="Model not found"}),R=et(()=>s.value.trainedWords||[]),V=async()=>{var ae;const ne=((ae=l.value)==null?void 0:ae.scrollTop)||0;o.value=!0,Ln.getLoraRefresh({file:d.value}).then(F=>{s.value=F.data,Ge(function(){var P,J,le,G,ie;s.value.name=s.value.name||((J=(P=s.value.raw)===null||P===void 0?void 0:P.metadata)===null||J===void 0?void 0:J.ss_output_name===void 0?J["modelspec.title"]:J.ss_output_name)||"",v.value.nameValue=s.value.name,s.value.strengthMin=(le=s.value.strengthMin)!==null&&le!==void 0?le:"",v.value.minValue=s.value.strengthMin,s.value.strengthMax=(G=s.value.strengthMax)!==null&&G!==void 0?G:"",v.value.maxValue=s.value.strengthMax,s.value.userNote=(ie=s.value.userNote)!==null&&ie!==void 0?ie:"",v.value.notesValue=s.value.userNote,o.value=!1}),Ge(function(){o.value=!1}),l.value&&(l.value.scrollTop=ne),K({type:"success",str:"message.dataLoaded"})}).catch(F=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},j=ne=>{ne in r.value?(s.value.user_diy_fileds||(s.value.user_diy_fileds={}),s.value.user_diy_fileds[ne]={label:r.value[ne].label,value:v.value[ne]}):s.value[ne]=v.value[ne],q(s.value),g.value[ne]=!1},H=ne=>{g.value[ne]=!1,v.value[ne]=s.value[ne]},q=ne=>{var F;const ae=((F=l.value)==null?void 0:F.scrollTop)||0;o.value=!0,Ln.postLoraSave(d.value,ne).then(P=>{s.value=P.data,Ge(function(){var J,le,G,ie,oe;s.value.name=s.value.name||((le=(J=s.value.raw)===null||J===void 0?void 0:J.metadata)===null||le===void 0?void 0:le.ss_output_name===void 0?le["modelspec.title"]:le.ss_output_name)||"",v.value.nameValue=s.value.name,s.value.strengthMin=(G=s.value.strengthMin)!==null&&G!==void 0?G:"",v.value.minValue=s.value.strengthMin,s.value.strengthMax=(ie=s.value.strengthMax)!==null&&ie!==void 0?ie:"",v.value.maxValue=s.value.strengthMax,s.value.userNote=(oe=s.value.userNote)!==null&&oe!==void 0?oe:"",v.value.notesValue=s.value.userNote,o.value=!1,Ge(function(){l.value&&(l.value.scrollTop=ae)})}),K({type:"success",str:"message.saveSuccess"})}).catch(P=>{K({type:"warn",str:"message.networkError"}),o.value=!1})},_e=ne=>{const ae=y.value.indexOf(ne);ae===-1?y.value.push(ne):y.value.splice(ae,1)},re=ne=>y.value.includes(ne),O=async()=>{y.value.length&&navigator.clipboard.writeText(y.value).then(ne=>{K({type:"success",str:"message.copySuccess"})},ne=>{K({type:"warn",str:"message.copyFailed"})})},Y=_(!0),Z=()=>{Y.value=!Y.value};return t({refresh:()=>{x()}}),(ne,ae)=>{var F;return T(),k("div",{class:"lora_catd_content",style:dt(["left: "+e.paddingLeft+"px;top: "+e.paddingTop+"px;",{"font-size":"0.55em"}]),onMouseenter:m,onMouseleave:f},[i("div",{class:"close-button",onClick:f,title:""},[...ae[3]||(ae[3]=[i("span",null,"",-1)])]),i("div",{class:"lora-detail__content",ref_key:"loraContent",ref:l},[o.value?(T(),k("div",Yx,[...ae[4]||(ae[4]=[i("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"is-rotating"},[i("path",{d:"M12 4V2C6.48 2 2 6.48 2 12H4C4 7.58 7.58 4 12 4Z"})],-1)])])):fe("",!0),i("div",Kx,[ae[13]||(ae[13]=i("div",{class:"lora-detail__title"},"Lora ",-1)),i("ul",Jx,[s.value.type?(T(),k("li",{key:0,class:Le(["lora-detail__tag",`-type-${s.value.type.toLowerCase()}`]),title:p(n)("lora.type")},h(s.value.type),11,Xx)):fe("",!0),s.value.baseModel?(T(),k("li",{key:1,class:Le(["lora-detail__tag",`-basemodel-${s.value.baseModel.toLowerCase()}`]),title:p(n)("lora.baseModel")},h(s.value.baseModel),11,Zx)):fe("",!0)]),i("table",e9,[i("tbody",null,[i("tr",null,[i("td",t9,h(p(n)("lora.file")),1),i("td",n9,h(s.value.file),1)]),i("tr",null,[i("td",o9,h(p(n)("lora.hash")),1),i("td",a9,h(s.value.sha256),1)]),i("tr",null,[i("td",s9,h(p(n)("lora.civitai")),1),i("td",l9,[U.value?(T(),k(Me,{key:0},[i("a",{href:U.value,target:"_blank",class:"civitai-link"},[ae[5]||(ae[5]=i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"})],-1)),i("span",null,h(p(n)("lora.viewOnCivitai")),1)],8,r9),i("button",{style:{"margin-left":"10px"},class:"refresh-btn",onClick:V},h(p(n)("lora.getCivitData")),1)],64)):S.value?(T(),k("div",i9,[i("i",null,h(p(n)("lora.modelNotFound")),1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.modelNotFoundTip")},[...ae[6]||(ae[6]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,u9))])):(T(),k("button",{key:2,class:"fetch-btn",onClick:V},h(p(n)("lora.fetchFromCivitai")),1))])]),i("tr",{class:Le({"is-editing":g.value.name})},[i("td",c9,[ze(h(p(n)("lora.name"))+" ",1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.nameTip")},[...ae[7]||(ae[7]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,d9))]),i("td",null,[g.value.name?ve((T(),k("input",{key:0,"onUpdate:modelValue":ae[0]||(ae[0]=P=>v.value.name=P),type:"text",onKeyup:[ae[1]||(ae[1]=ln(P=>j("name"),["enter"])),ae[2]||(ae[2]=ln(P=>H("name"),["esc"]))],ref:"nameInput"},null,544)),[[Ae,v.value.name]]):(T(),k("span",f9,h(s.value.name),1))])],2),i("tr",null,[i("td",p9,h(p(n)("lora.baseModel")),1),i("td",g9,h(!s.value.baseModelFile&&!s.value.baseModelFile?"":(s.value.baseModel||"")+(s.value.baseModelFile?`
                                (${s.value.baseModelFile})`:"")),1)]),i("tr",null,[i("td",m9,h(p(n)("lora.skipClip")),1),i("td",h9,h((ne._t=(ne._s=s.value.raw)===null||ne._s===void 0?void 0:ne._s.metadata)===null||ne._t===void 0?void 0:ne._t.ss_clip_skip),1)]),(T(),k(Me,null,je(b,P=>i("tr",{key:P.key,class:Le({"is-editing":g.value[P.key]})},[i("td",v9,[ze(h(P.label)+" ",1),P.tip?(T(),k("svg",{key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:P.tip},[...ae[8]||(ae[8]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,_9)):fe("",!0)]),i("td",null,[i("span",y9,h(s.value[P.key]),1)]),i("td",b9,[i("button",{class:"copy-btn",onClick:J=>L(s.value[P.key]),title:p(n)("lora.copy")},[ae[9]||(ae[9]=i("svg",{class:"svg-icon",viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})],-1)),ze(" "+h(p(n)("lora.copy")),1)],8,w9)])],2)),64)),(T(!0),k(Me,null,je(r.value,(P,J)=>{var le;return T(),k("tr",{key:J,class:Le({"is-editing":g.value[J]})},[i("td",x9,[g.value[J]?ve((T(),k("input",{key:0,"onUpdate:modelValue":G=>P.label=G,type:"text"},null,8,T9)),[[Ae,P.label]]):(T(),k("span",S9,h(P.label),1))]),i("td",null,[i("span",k9,h(s.value.user_diy_fileds?(le=s.value.user_diy_fileds[J])==null?void 0:le.value:""),1)]),i("td",C9,[i("button",{class:"copy-btn",onClick:G=>{var ie;return L((ie=s.value.user_diy_fileds[J])==null?void 0:ie.value)},title:p(n)("lora.copy")},[ae[10]||(ae[10]=i("svg",{class:"svg-icon",viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})],-1)),ze(" "+h(p(n)("lora.copy")),1)],8,E9)])],2)}),128)),R.value.length?(T(),k("tr",L9,[i("td",$9,[ze(h(p(n)("lora.trainedWords"))+" ",1),(T(),k("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:p(n)("lora.trainedWordsTip")},[...ae[11]||(ae[11]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)])],8,A9)),y.value.length?(T(),k("div",I9,[ze(h(p(n)("lora.selectedWords",{count:y.value.length}))+" ",1),i("button",{class:"copy-btn",onClick:O},h(p(n)("common.copy")),1)])):fe("",!0)]),i("td",M9,[i("ul",R9,[(T(!0),k(Me,null,je(Y.value?R.value.slice(0,10):R.value,(P,J)=>(T(),k("li",{key:"words-"+J,class:Le(["word-item",{"is-selected":re(P.word),"is-hidden":Y.value&&J>=10}]),onClick:le=>_e(P.word)},[i("span",null,h(P.word),1),P.civitai?(T(),k("svg",N9,[...ae[12]||(ae[12]=[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"},null,-1)])])):fe("",!0),P.count!=null?(T(),k("small",D9,h(P.count),1)):fe("",!0)],10,O9))),128)),R.value.length>10?(T(),k("li",{key:0,class:"toggle-btn",onClick:Z},h(Y.value?p(n)("common.showMore"):p(n)("common.showLess")),1)):fe("",!0)])])])):fe("",!0)])]),(F=s.value.images)!=null&&F.length?(T(),k("ul",P9,[(T(!0),k(Me,null,je(s.value.images,(P,J)=>(T(),k("li",{key:J,class:"lora-detail__image-item"},[i("div",F9,[i("img",{src:P.url,style:{width:"100%",height:"100%","object-fit":"contain"}},null,8,B9)])]))),128))])):fe("",!0)])],512)],36)}}},[["__scopeId","data-v-d4b68239"]]),U9={class:"header-actions"},H9=["title"],V9=["onMouseover","onDragstart","onDrop"],j9={class:"lora-info"},W9={class:"lora-header"},z9=["title"],q9={class:"lora-actions"},G9=["onClick","title"],Q9=["onClick","title"],Y9={class:"lora-weights-row"},K9={class:"weight-item-col"},J9=["onUpdate:modelValue"],X9={class:"weight-item-col"},Z9=["onUpdate:modelValue"],eT={class:"switch-item-col"},tT={class:"switch"},nT=["checked","onChange"],Go="weilin_prompt_ui_",oT=_t({__name:"lora_stack",props:{isOpen:{type:Boolean,default:!1},selectedLoras:{type:Array,default:[]}},emits:["close","update:selectedLoras"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(!1),s=_(""),l=_(100),r=_(0),u=_(),d=_(!1),c=_(!1),f=_(),m=e,g=a,v=(re,O)=>{if(c.value=!0,s.value===re&&o.value)return;const Z=O.currentTarget.getBoundingClientRect();let ne={left:Z.left-450-10,top:Z.top};ne.left<10&&(ne.left=Z.right+10),ne.top=Math.max(10,Math.min(ne.top,window.innerHeight-310)),l.value=ne.left,r.value=ne.top,o.value=!0,s.value=re,Ge(()=>{f.value.refresh()})},y=()=>{c.value=!1,setTimeout(()=>{!d.value&&!c.value&&(o.value=!1,s.value="",d.value=!1)},200)},b=()=>{d.value=!0,c.value=!0},x=()=>{o.value=!1,s.value="",d.value=!1},L=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora"},"*")},U=re=>{re.hidden=!re.hidden},S=re=>{m.selectedLoras&&!m.selectedLoras.find(O=>O.name===re.name)&&(m.selectedLoras.push({name:re.name,weight:1,text_encoder_weight:1,...re}),g("update:selectedLoras",m.selectedLoras))},R=re=>{const O=m.selectedLoras.findIndex(Y=>Y.name===re.name);O>-1&&(m.selectedLoras.splice(O,1),g("update:selectedLoras",m.selectedLoras))},V=_(),j=re=>{V.value.open({name:re.lora})};window.addEventListener("message",re=>{re.data.type==="weilin_prompt_ui_selectLora"&&S(re.data.lora)});const H=_(null),q=re=>{H.value=re},_e=re=>{if(H.value===null||H.value===re)return;const O=m.selectedLoras.splice(H.value,1)[0];m.selectedLoras.splice(re,0,O),H.value=null,g("update:selectedLoras",m.selectedLoras)};return t({addLora:S,removeLora:R}),(re,O)=>(T(),k("div",{class:Le(`${Go}lora-stack`),style:dt([{width:e.isOpen?"300px":"0"},{paddingRight:e.isOpen?"16px":"0"}])},[i("div",{class:Le(`${Go}lora-content`)},[i("div",{class:Le(`${Go}lora-header`)},[i("h3",{class:Le(`${Go}lora-title`)},h(p(n)("controls.loraStack")),3),i("div",U9,[i("button",{class:Le(`${Go}add-btn`),onClick:L,title:p(n)("controls.addLora")},[...O[2]||(O[2]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)])],10,H9),i("button",{class:Le(`${Go}close-btn`),onClick:O[0]||(O[0]=Y=>re.$emit("close"))},[...O[3]||(O[3]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])],2)])],2),i("div",{class:Le(`${Go}lora-body`)},[i("div",{class:Le(`${Go}lora-list`)},[(T(!0),k(Me,null,je(e.selectedLoras,(Y,Z)=>(T(),k("div",{ref_for:!0,ref_key:"loraStackItemRef",ref:u,key:Y.name,class:Le(["lora-item",{"hidden-lora":Y.hidden}]),onMouseover:W=>v(Y.lora,W),onMouseleave:y,draggable:"true",onDragstart:W=>q(Z),onDragover:O[1]||(O[1]=Je(()=>{},["prevent"])),onDrop:W=>_e(Z)},[i("div",j9,[i("div",W9,[i("span",{class:"lora-name",title:Y.name},h(Y.name),9,z9),i("div",q9,[i("button",{class:"look-on-btn",onClick:W=>j(Y),title:p(n)("controls.lookOnLora")},[...O[4]||(O[4]=[i("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[i("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),i("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),i("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),i("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)])],8,G9),i("button",{class:"remove-btn",onClick:W=>R(Y),title:p(n)("controls.removeLora")},[...O[5]||(O[5]=[i("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])],8,Q9)])]),i("div",Y9,[i("div",K9,[i("label",null,h(p(n)("loraManager.modelWeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":W=>Y.weight=W,class:"lora-weight",step:"0.1"},null,8,J9),[[Ae,Y.weight]])]),i("div",X9,[i("label",null,h(p(n)("loraManager.textEncoderWeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":W=>Y.text_encoder_weight=W,class:"lora-weight",step:"0.1"},null,8,Z9),[[Ae,Y.text_encoder_weight]])]),i("div",eT,[i("label",null,h(Y.hidden?p(n)("lora.hideLora"):p(n)("lora.showLora")),1),i("label",tT,[i("input",{type:"checkbox",checked:!Y.hidden,onChange:W=>U(Y)},null,40,nT),O[6]||(O[6]=i("span",{class:"slider"},null,-1))])])])])],42,V9))),128))],2)],2)],2),We(ur,{ref_key:"loraDetailLoraStackRef",ref:V},null,512),o.value?(T(),bt(hu,{key:0,ref_key:"loraCardItem",ref:f,fileNmae:s.value,paddingLeft:l.value,paddingTop:r.value,onCardLeave:x,onCardenter:b},null,8,["fileNmae","paddingLeft","paddingTop"])):fe("",!0)],6))}},[["__scopeId","data-v-19f5b628"]]),aT={class:"main-label-manager"},sT={class:"mlm-header"},lT={class:"mlm-grid"},rT=["disabled"],iT=["disabled"],uT=["onClick","title","onDragstart","onDragenter","onDrop"],cT={class:"mlm-item-main"},dT={key:0,class:"pin-badge"},fT={class:"mlm-name"},pT={class:"mlm-item-actions"},gT=["title","onClick"],mT=["title","onClick"],Xg="weilin_prompt_ui_main_labels_v1",hT=_t({__name:"main_label_manager",props:{selectedId:{type:String,default:null}},emits:["select"],setup(e,{expose:t,emit:a}){const n=e,o=a,s=_(""),l=_([]),r=_(n.selectedId),u=_(!0),d=_(!0),c=_("time"),f=_(null),m=_(null);function g(){const J={items:l.value,settings:{sortMode:c.value,sortTimeDesc:u.value,sortNameAsc:d.value,selectedId:r.value}};localStorage.setItem(Xg,JSON.stringify(J))}function v(){try{const J=localStorage.getItem(Xg);if(!J)throw new Error("no data");const le=JSON.parse(J),G=Array.isArray(le)?le:(le==null?void 0:le.items)??[],ie=Array.isArray(le)?{}:(le==null?void 0:le.settings)??{};l.value=G.map((oe,be)=>({id:oe.id??L(),name:oe.name??"",content:oe.content??"",createdAt:oe.createdAt??oe.updatedAt??Date.now(),updatedAt:oe.updatedAt??oe.createdAt??Date.now(),pinned:!!oe.pinned,highlighted:!!oe.highlighted,order:typeof oe.order=="number"?oe.order:be})),ie.sortMode&&(c.value=ie.sortMode),typeof ie.sortTimeDesc=="boolean"&&(u.value=ie.sortTimeDesc),typeof ie.sortNameAsc=="boolean"&&(d.value=ie.sortNameAsc),(typeof ie.selectedId=="string"||ie.selectedId===null)&&(r.value=ie.selectedId)}catch{l.value=[]}}rt(()=>{var J;if(v(),l.value.length===0){const le=L();l.value.push({id:le,name:"",content:"",createdAt:Date.now(),updatedAt:Date.now(),pinned:!1,highlighted:!1,order:0}),g(),r.value=le;return}if(!U(r.value))r.value=((J=l.value[0])==null?void 0:J.id)??null;else{const le=U(r.value);o("select",le?{...le}:null)}}),Xe(()=>n.selectedId,J=>{r.value=J}),Xe([c,u,d],()=>{g()}),Xe(l,()=>{g()},{deep:!0}),Xe(r,J=>{g();const le=J?U(J):null;o("select",le?{...le}:null)});const y=et(()=>{const J=s.value.trim().toLowerCase();return J?l.value.filter(le=>(le.name||"").toLowerCase().includes(J)):l.value}),b=et(()=>{const J=[...y.value];if(c.value==="manual")return J.sort((oe,be)=>{const ce=oe.order??0,M=be.order??0;return ce!==M?ce-M:(oe.createdAt??0)-(be.createdAt??0)});const le=(oe,be)=>{const ce=oe.name||"",M=be.name||"";let Q=ce.localeCompare(M,void 0,{numeric:!0,sensitivity:"base"});return d.value||(Q=-Q),Q},G=(oe,be)=>{let ce=oe.createdAt-be.createdAt;return u.value&&(ce=-ce),ce},ie=oe=>oe.pinned?0:1;return J.sort((oe,be)=>{const ce=ie(oe)-ie(be);if(ce!==0)return ce;if(c.value==="name"){const Q=le(oe,be);return Q!==0?Q:G(oe,be)}const M=G(oe,be);return M!==0?M:le(oe,be)}),J}),x=et(()=>U(r.value));function L(){return"mlm_"+Math.random().toString(36).slice(2)+"_"+Date.now()}function U(J){return l.value.find(le=>le.id===J)||null}function S(J){r.value=J.id,o("select",{...J})}function R(){const J=window.prompt("","");if(!J)return;W(),c.value="manual";const le=L(),G=Date.now(),ie=l.value.reduce((be,ce)=>typeof ce.order=="number"?Math.min(be,ce.order):be,0),oe={id:le,name:J.trim(),content:"",createdAt:G,updatedAt:G,pinned:!1,highlighted:!1,order:ie-1};l.value.push(oe),g(),r.value=le,o("select",{...oe})}function V(){const J=x.value;if(!J)return;const le=window.prompt("",J.name||"");le&&(J.name=le.trim(),J.updatedAt=Date.now(),g())}function j(){const J=x.value;if(!J||!window.confirm(`"${J.name}"`))return;const le=l.value.findIndex(G=>G.id===J.id);le>=0&&l.value.splice(le,1),g(),l.value.length?(r.value=l.value[0].id,o("select",{...l.value[0]})):(r.value=null,o("select",null))}function H(){c.value="time",u.value=!u.value}function q(){c.value="name",d.value=!d.value}function _e(J){J.pinned=!J.pinned,J.updatedAt=Date.now(),g()}function re(J){J.highlighted=!J.highlighted,J.updatedAt=Date.now(),g()}function O(J){const le=x.value;le&&(le.content=J??"",le.updatedAt=Date.now(),clearTimeout(Y),Y=setTimeout(()=>g(),400))}let Y=null;function Z(J){try{const le=new Date(J);return`${le.getFullYear()}-${(le.getMonth()+1).toString().padStart(2,"0")}-${le.getDate().toString().padStart(2,"0")} ${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`}catch{return""}}function W(){b.value.forEach((le,G)=>{le.order=G})}function ne(J,le,G){try{G.dataTransfer.effectAllowed="move"}catch{}f.value=J.id,m.value=null,W(),c.value="manual"}function ae(J){f.value&&(m.value=J.id)}function F(J){if(!f.value)return;const le=f.value,G=J==null?void 0:J.id;if(!G||le===G)return P();const ie=[...b.value],oe=ie.findIndex(M=>M.id===le),be=ie.findIndex(M=>M.id===G);if(oe<0||be<0)return P();const[ce]=ie.splice(oe,1);ie.splice(be,0,ce),ie.forEach((M,Q)=>{M.order=Q}),g(),P()}function P(){f.value=null,m.value=null}return t({updateSelectedContent:O}),(J,le)=>(T(),k("div",aT,[i("div",sT,[ve(i("input",{"onUpdate:modelValue":le[0]||(le[0]=G=>s.value=G),class:"mlm-search",type:"text",placeholder:""},null,512),[[Ae,s.value]]),i("button",{class:"mlm-add",onClick:R},"+ "),i("div",lT,[i("button",{class:"mlm-sort",onClick:H},"  "+h(u.value?"":""),1),i("button",{class:"mlm-sort",onClick:q},"  "+h(d.value?"AZ":"ZA"),1),i("button",{class:"mlm-edit",disabled:!x.value,onClick:V},"",8,rT),i("button",{class:"mlm-delete",disabled:!x.value,onClick:j},"",8,iT)])]),We(Jv,{name:"mlm",tag:"div",class:"mlm-list"},{default:ut(()=>[(T(!0),k(Me,null,je(b.value,(G,ie)=>(T(),k("div",{key:G.id,class:Le(["mlm-item",{active:G.id===r.value,pinned:!!G.pinned,highlighted:!!G.highlighted},{dragging:f.value===G.id,"drag-over":m.value===G.id}]),onClick:oe=>S(G),title:G.updatedAt?Z(G.updatedAt):"",draggable:"true",onDragstart:oe=>ne(G,ie,oe),onDragenter:Je(oe=>ae(G),["prevent"]),onDragover:le[1]||(le[1]=Je(()=>{},["prevent"])),onDrop:Je(oe=>F(G),["prevent"]),onDragend:P},[i("div",cT,[G.pinned?(T(),k("span",dT,"")):fe("",!0),i("span",fT,h(G.name),1)]),i("div",pT,[i("button",{class:Le(["mini-btn","pin",{active:G.pinned}]),title:G.pinned?"":"",onClick:Je(oe=>_e(G),["stop"])},[...le[2]||(le[2]=[i("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},[i("path",{d:"M4 14h4v6h8v-6h4L12 4 4 14z"})],-1)])],10,gT),i("button",{class:Le(["mini-btn","highlight",{active:G.highlighted}]),title:G.highlighted?"":"",onClick:Je(oe=>re(G),["stop"])},[...le[3]||(le[3]=[i("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},[i("path",{d:"M12 17.27L18.18 21 16.54 13.97 22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})],-1)])],10,mT)])],42,uT))),128))]),_:1})]))}},[["__scopeId","data-v-a435a9c3"]]);function Zg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cr={exports:{}},vT=cr.exports,em;function _T(){return em||(em=1,(function(e){if(typeof t=="object"&&typeof t.version=="string")throw new Error("translate.js  translate.js ");var t={version:"3.18.0.20250816",useVersion:"v2",setUseVersion2:function(){t.useVersion="v2",console.log(" v2.10 V2:"+t.version+" translate.setUseVersion2() ")},translate:null,includedLanguages:"zh-CN,zh-TW,en",resourcesUrl:"//res.zvo.cn/translate",selectLanguageTag:{documentId:"translate",show:!0,languages:"",alreadyRender:!1,selectOnChange:function(n){var o=n.target.value;t.changeLanguage(o)},refreshRender:function(){let n=document.getElementById(t.selectLanguageTag.documentId+"SelectLanguage");n&&n.parentNode.removeChild(n),t.selectLanguageTag.alreadyRender=!1,t.selectLanguageTag.render()},customUI:function(n){var o=function(c){t.selectLanguageTag.selectOnChange(c)},s=document.createElement("select");s.id=t.selectLanguageTag.documentId+"SelectLanguage",s.className=t.selectLanguageTag.documentId+"SelectLanguage";for(var l=t.language.getCurrent(),r=0;r<n.length;r++){var u=document.createElement("option");if(u.setAttribute("value",n[r].id),t.selectLanguageTag.languages.length>0){var d=(","+t.selectLanguageTag.languages+",").toLowerCase();if(d.indexOf(","+n[r].id.toLowerCase()+",")<0)continue}l!=null&&typeof l<"u"&&l.length>0?l==n[r].id&&u.setAttribute("selected","selected"):n[r].id==t.language.getLocal()&&u.setAttribute("selected","selected"),u.appendChild(document.createTextNode(n[r].name)),s.appendChild(u)}window.addEventListener?s.addEventListener("change",o,!1):s.attachEvent("onchange",o),document.getElementById(t.selectLanguageTag.documentId).appendChild(s)},render:function(){if(!t.selectLanguageTag.alreadyRender&&(t.selectLanguageTag.alreadyRender=!0,!!t.selectLanguageTag.show)){if(document.getElementById(t.selectLanguageTag.documentId)==null){var n=document.getElementsByTagName("body");if(n.length==0){console.log("body tag not find, translate.selectLanguageTag.render() is not show Select Language");return}var o=n[0],s=document.createElement("div");s.id=t.selectLanguageTag.documentId,o.appendChild(s)}else if(document.getElementById(t.selectLanguageTag.documentId+"SelectLanguage")!=null)return;typeof t.request.api.language=="string"&&t.request.api.language.length>0?t.request.post(t.request.api.language,{},function(l){if(l.result==0){console.log("load language list error : "+l.info);return}t.selectLanguageTag.customUI(l.list)},null):typeof t.request.api.language=="object"&&t.selectLanguageTag.customUI(t.request.api.language)}}},localLanguage:"zh-CN",googleTranslateElementInit:function(){var n="";document.getElementById("translate")!=null&&(n="translate"),t.translate=new google.translate.TranslateElement({pageLanguage:"zh-CN",includedLanguages:t.selectLanguageTag.languages,layout:0},n)},execute_v1:function(){console.log("=====ERROR======"),console.log("The v1 version has been discontinued since 2022. Please use the latest V3 version and refer to: http://translate.zvo.cn/41162.html")},setCookie:function(n,o){var s=n+"="+escape(o);document.cookie=s},getCookie:function(n){for(var o=document.cookie,s=o.split("; "),l=0;l<s.length;l++){var r=s[l].split("=");if(r[0]==n)return unescape(r[1])}return""},currentLanguage:function(){var n=t.getCookie("googtrans");return n.length>0?n.substr(n.lastIndexOf("/")+1,n.length-1):t.localLanguage},changeLanguage:function(n){var o=",en,de,hi,lt,hr,lv,ht,hu,zh-CN,hy,uk,mg,id,ur,mk,ml,mn,af,mr,uz,ms,el,mt,is,it,my,es,et,eu,ar,pt-PT,ja,ne,az,fa,ro,nl,en-GB,no,be,fi,ru,bg,fr,bs,sd,se,si,sk,sl,ga,sn,so,gd,ca,sq,sr,kk,st,km,kn,sv,ko,sw,gl,zh-TW,pt-BR,co,ta,gu,ky,cs,pa,te,tg,th,la,cy,pl,da,tr,";if(o.indexOf(","+n+",")>-1){console.log("v1v12021v2 http://translate.zvo.cn/41549.html"),t.check();var s="/"+t.localLanguage+"/"+n,l=document.location.host.split(".");if(l.length>2){var r=l[l.length-2]+"."+l[l.length-1];document.cookie="googtrans=;expires="+new Date(1)+";domain="+r+";path=/",document.cookie="googtrans="+s+";domain="+r+";path=/"}t.setCookie("googtrans",""+s),t.refreshCurrentPage();return}if(t.useVersion="v2",t.to!=null&&t.to.length>0&&t.to!=t.language.getLocal())var u=!0;t.to=n,t.storage.set("to",n);try{window.self!==window.top&&typeof window.parent.translate=="object"&&typeof window.parent.translate.version=="string"&&window.parent.translate.language.getCurrent()!=n&&window.parent.translate.changeLanguage(n)}catch(d){console.log(d)}if(u)location.reload();else{t.execute();const d=document.querySelectorAll("iframe");for(let c=0;c<d.length;c++){const m=d[c].contentWindow;try{typeof m.translate=="object"&&typeof m.translate.version=="string"&&m.translate.to!=n&&(m.translate.to=n,m.translate.storage.set("to",n),m.translate.execute())}catch(g){console.log(g)}}}t.listener.use==!0&&t.listener.isStart==!1&&typeof t.listener.start<"u"&&t.listener.start()},check:function(){window.location.protocol=="file:"&&console.log(`\r
---WARNING----\r
translate.js filehttphttps\r
------------`)},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(n){if(n==null||typeof n>"u")return!1;for(var o=n,s=100;s-- >0;){if(o==null||typeof o>"u")return!1;var l=t.element.getNodeName(o).toLowerCase();if(l.length>0){if(l=="body"||l=="html"||l=="#document")return!1;if(t.ignore.tag.indexOf(l)>-1)return!0}if(o.className!=null){var r=o.className;if(r==null||typeof r!="string")continue;r=r.trim().split(" ");for(var u=0;u<r.length;u++)if(r[u]!=null&&r[u].trim().length>0&&t.ignore.class.indexOf(r[u])>-1)return!0}if(o.id!=null&&typeof o.id<"u"&&t.ignore.id.indexOf(o.id)>-1)return!0;o=o.parentNode}return!1},text:[],textRegex:[],setTextRegexs:function(n){if(!Array.isArray(n))throw new Error("");for(let o=0;o<n.length;o++)if(!(n[o]instanceof RegExp))throw new Error(""+o+"RegExp");this.textRegex=this.textRegex.concat(n)}},refreshCurrentPage:function(){location.reload()},nomenclature:{data:new Array,old_Data:[],set:function(n){alert(" translate.nomenclature.set  append https://github.com/xnx3/translate ")},append:function(n,o,s){typeof t.nomenclature.data[n]>"u"&&(t.nomenclature.data[n]=new Array),typeof t.nomenclature.data[n][o]>"u"&&(t.nomenclature.data[n][o]=new Array);for(var l=s.split(`
`),r=0;r<l.length;r++){var u=l[r].trim();if(!(u.length<1)){var d=u.split("=");if(d.length==2){var c=d[0].trim(),f=d[1].trim();c.length==0||f.length==0||(t.nomenclature.data[n][o][c]=f)}}}t.nomenclature.data[n][o]=t.util.objSort(t.nomenclature.data[n][o])},get:function(){return t.nomenclature.data},dispose:function(n){if(n==null||n.length==0||typeof t.nomenclature.data[t.language.getLocal()]>"u"||typeof t.nomenclature.data[t.language.getLocal()][t.to]>"u")return n;for(var o in t.nomenclature.data[t.language.getLocal()][t.to])if(t.nomenclature.data[t.language.getLocal()][t.to].hasOwnProperty(o)){var s=t.nomenclature.data[t.language.getLocal()][t.to][o];if(typeof s!="function"){var l=n.indexOf(o);if(l>-1)if(t.language.getLocal()=="english"){var r="";if(l!=0){r=n.substr(l-1,1);var u=t.language.getCharLanguage(r);if(u=="english"||u=="romance")continue}var d="";if(l+o.length!=n.length){d=n.substr(l+o.length,1);var u=t.language.getCharLanguage(d);if(u=="english"||u=="romance")continue}n=n.replace(new RegExp(r+o+d,"g"),r+s+d)}else n=n.replace(new RegExp(o,"g"),s)}}return n}},office:{export:function(){if(t.language.getLocal()==t.language.getCurrent()){alert("");return}var n="";for(var o in t.nodeQueue)if(t.nodeQueue.hasOwnProperty(o)){t.nodeQueue[o];for(var s in t.nodeQueue[o].list)if(t.nodeQueue[o].list.hasOwnProperty(s)&&!(typeof s!="string"||s.length<1))for(var l in t.nodeQueue[o].list[s])t.nodeQueue[o].list[s].hasOwnProperty(l)&&(n=n+`
`+t.nodeQueue[o].list[s][l].original+"="+t.storage.get("hash_"+t.language.getCurrent()+"_"+l))}n.length>0?(n="translate.office.append('"+t.language.getCurrent()+"',`"+n+"\n`);",t.util.loadMsgJs(),msg.popups({text:'<textarea id="msgPopupsTextarea" style="width:100%; height:100%; color: black; padding: 8px;">loaing...</textarea>',width:"750px",height:"600px",padding:"1px"}),document.getElementById("msgPopupsTextarea").value=n):msg.alert("")},showPanel:function(){let n=document.createElement("div");n.setAttribute("id","translate_export"),n.setAttribute("class","ignore");let o=document.createElement("button");o.onclick=function(){t.office.export()},o.innerHTML="",o.setAttribute("style","margin-left: 72px; margin-top: 30px; margin-bottom: 20px; font-size: 25px; background-color: blue; padding: 15px; padding-top: 3px; padding-bottom: 3px; border-radius: 3px;"),n.appendChild(o);let s=document.createElement("div");s.innerHTML='1. <br/>2. <br/>3. <br/><a href="asd" target="_black" style="color: aliceblue;"></a>',s.setAttribute("style","font-size: 14px; padding: 12px;"),n.appendChild(s),n.setAttribute("style","background-color: black; color: #fff; width: 320px; height: 206px; position: fixed; bottom: 50px; right: 50px;"),document.body.appendChild(n),t.util.loadMsgJs()},append:function(n,o){for(var s=o.split(`
`),l=0;l<s.length;l++){var r=s[l].trim();if(!(r.length<1)){var u=r.split("=");if(u.length==2){var d=u[0],c=u[1];d.length==0||c.length==0||t.storage.set("hash_"+n+"_"+t.util.hash(d),c)}}}},fullExtract:{set:async function(n,o,s,l){if(typeof t.storage.IndexedDB>"u"){console.log("ERROR: translate.storage.IndexedDB not find");return}var r=await t.storage.IndexedDB.get("hash_"+n);typeof r>"u"&&r==null&&(r={originalText:o}),r[s]=l,await t.storage.IndexedDB.set("hash_"+n,r)},export:async function(n){if(typeof t.storage.IndexedDB>"u"){console.log("ERROR: translate.storage.IndexedDB not find");return}if(typeof n!="string"){console.log('error : to param not find, example: "english"');return}var o="translate.office.append('",s=await t.storage.IndexedDB.list("hash_*");for(var l in s)if(s.hasOwnProperty(l)){var r=s[l].value.originalText.replace(/\n/g,"\\n").replace(/\t/g,"\\t");o=o+`
`+r+"="+s[l].value.english.replace(/\n/g,"\\n").replace(/\t/g,"\\t")}o=o+"\n`);";const u=new Blob([o],{type:"text/plain"}),d=URL.createObjectURL(u),c=document.createElement("a");c.href=d,c.download=n+".txt",c.click(),URL.revokeObjectURL(d)},isUse:!1}},setAutoDiscriminateLocalLanguage:function(){t.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(n){n==null||typeof n>"u"||(typeof n.length>"u"?t.documents[0]=n:t.documents=n,t.nodeQueue={})},getDocuments:function(){if(t.documents!=null&&typeof t.documents<"u"&&t.documents.length>0)return t.documents;var n=new Array;return n[0]=document.documentElement,n},listener:{isStart:!1,use:!1,start:function(){t.listener.use=!0,t.temp_linstenerStartInterval=setInterval(function(){if(document.readyState=="complete"){if(clearInterval(t.temp_linstenerStartInterval),t.language.getCurrent()==t.language.getLocal()&&!t.language.translateLocal)return;t.listener.addListener()}},300)},ignoreNode:[],translateExecuteNodeIgnoreExpireTime:1e3,addIgnore:function(n,o,s){let l="";typeof n=="string"?l=n:l=a.uuid(n),t.listener.ignoreNode[l]={addtime:Date.now()+o,text:s}},refreshIgnoreNode:function(){var n=Date.now();for(const o in t.listener.ignoreNode)t.listener.ignoreNode[o].addtime<n&&delete t.listener.ignoreNode[o]},addListener:function(){if(t.listener.isStart==!0){console.log("translate.listener.start() ");return}t.listener.isStart=!0,t.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},t.listener.callback=function(l,r){var u=[];for(let v of l){let y=[];v.type==="childList"?v.addedNodes.length>0?y=v.addedNodes:v.removedNodes.length>0:v.type==="attributes"||v.type==="characterData"&&(y=[v.target]);for(let b of y){for(var d=!1,c=0;c<u.length;c++)if(u[c].isSameNode(b)){d=!0;break}if(d)break;u.push.apply(u,[b])}}if(u.length>0){var f=[];for(let v of u){for(var m=!1,g=0;g<t.inProgressNodes.length;g++)if(t.inProgressNodes[g].node.isSameNode(v)){m=!0;break}if(m)continue;let y=a.uuid(v);typeof t.listener.ignoreNode[y]<"u"&&t.listener.ignoreNode[y].addtime>Date.now()&&typeof v.nodeValue=="string"&&v.nodeValue==t.listener.ignoreNode[y].text||f.push(v)}if(f.length<1)return;t.execute(f)}},t.listener.observer=new MutationObserver(t.listener.callback);for(var n=t.getDocuments(),o=0;o<n.length;o++){var s=n[o];s!=null&&t.listener.observer.observe(s,t.listener.config)}},renderTaskFinish:function(n){},execute:{renderStartByApi:[],renderStartByApiRun:function(n,o,s){for(var l=0;l<t.listener.execute.renderStartByApi.length;l++)try{t.listener.execute.renderStartByApi[l](n,o,s)}catch(r){console.log(r)}},renderFinishByApi:[],renderFinishByApiRun:function(n,o,s){for(var l=0;l<t.listener.execute.renderFinishByApi.length;l++)try{t.listener.execute.renderFinishByApi[l](n,o,s)}catch(r){console.log(r)}}}},renderTask:class{constructor(){this.taskQueue=[],this.nodes=[]}add(n,o,s,l){var r=t.element.nodeAnalyse.get(n,l),u=t.util.hash(r.text);typeof this.nodes[u]>"u"&&(this.nodes[u]=new Array),this.nodes[u].push(n);var d=this.taskQueue[u];(d==null||typeof d>"u")&&(d=new Array);var c=new Array;o.substr(0,1)==" "&&s.substr(0,1)!=" "&&(s=" "+s),o.substr(o.length-1,1)===" "&&s.substr(0,1)!=" "&&(s=s+" "),c.originalText=o,c.resultText=s,c.attribute=l,d.push(c),this.taskQueue[u]=d}execute(){for(var n in this.taskQueue)if(this.taskQueue.hasOwnProperty(n)){var o=this.taskQueue[n];typeof o!="function"&&(o.sort((f,m)=>m.originalText.length-f.originalText.length),this.taskQueue[n]=o)}t.listener.refreshIgnoreNode();for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var o=this.taskQueue[n],s=0;s<this.nodes[n].length;s++)for(var l=0;l<o.length;l++){var r=o[l];if(typeof o!="function"){var u=this.nodes[n][l];setTimeout(function(g){for(var v=0;v<t.inProgressNodes.length;v++)if(t.inProgressNodes[v].node.isSameNode(g)){t.inProgressNodes[v].number=t.inProgressNodes[v].number-1,t.inProgressNodes[v].number<1&&t.inProgressNodes.splice(v,1);break}},50,u);var d=t.element.nodeAnalyse.set(this.nodes[n][l],r.originalText,r.resultText,r.attribute);t.listener.addIgnore(this.nodes[n][l],t.listener.translateExecuteNodeIgnoreExpireTime,d.resultText)}}if(typeof this.taskQueue<"u"&&Object.keys(this.taskQueue).length>0){var c=this;setTimeout(function(){for(var f in c.nodes)if(c.nodes.hasOwnProperty(f)){for(var m in c.nodes[f])if(c.nodes[f].hasOwnProperty(m)){var g=t.element.nodeAnalyse.get(c.nodes[f][m]),v=a.uuid(g.node);v.length!=0&&(t.nodeHistory[v]={},t.nodeHistory[v].node=g.node,t.whole.isWhole(g.node)?t.nodeHistory[v].translateText=c.taskQueue[f][m].resultText:t.nodeHistory[v].translateText=g.text)}}t.listener.renderTaskFinish(c)},50)}}},state:0,waitingExecute:{use:!0,queue:[],add:function(n){t.waitingExecute.queue.push(n);let o=setInterval(function(){if(t.state==0){clearInterval(o);var s=t.waitingExecute.get();t.execute(s)}},500)},get:function(){return t.waitingExecute.queue.length>0?t.waitingExecute.queue.shift():(console.log(" translate.waitingExecute.get quque"),null)},isAllExecuteFinish:function(n,o,s){t.listener.execute.renderFinishByApiRun(n,o,s);for(var l in t.translateRequest[n])if(t.translateRequest[n].hasOwnProperty(l)){for(var r=0;r<t.translateRequest[n][l].length;r++)if(t.translateRequest[n][l][r].executeFinish==0)return}t.lifecycle.execute.renderFinish_Trigger(n,s),t.state=0,t.executeNumber++}},executeNumber:0,lifecycle:{execute:{start:[],start_Trigger:function(n,o){for(var s=0;s<t.lifecycle.execute.start.length;s++)try{t.lifecycle.execute.start[s](n,o)}catch(l){console.log(l)}},start_old:[],startRun:function(n,o,s){for(var l=0;l<t.listener.execute.renderStartByApi.length;l++)try{t.listener.execute.renderStartByApi[l](n,o,s)}catch(r){console.log(r)}},scanNodesFinsh:[],translateNetworkBefore:[],translateNetworkBefore_Trigger:function(n,o,s,l){for(var r=0;r<t.lifecycle.execute.translateNetworkBefore.length;r++)try{t.lifecycle.execute.translateNetworkBefore[r](n,o,s,l)}catch(u){console.log(u)}},translateNetworkAfter:[],renderFinish:[function(n,o){typeof t.visual<"u"&&t.visual.adjustTranslationSpacesByNodequeueUuid(n)}],renderFinish_Trigger:function(n,o){for(var s=0;s<t.lifecycle.execute.renderFinish.length;s++)try{t.lifecycle.execute.renderFinish[s](n,o)}catch(l){console.log(l)}}}},execute:function(n){if(t.waitingExecute.use&&t.state!=0){console.log(""),t.waitingExecute.add(n);return}t.state=1,typeof n<"u"&&(t.useVersion="v2"),t.useVersion=="v1"&&(console.log("https://github.com/xnx3/translate  v2.5 v1v1v1v2v2"),t.useVersion="v2");try{t.init()}catch{}var o=t.util.uuid();if(t.to==null||t.to==""){var s=t.storage.get("to");s!=null&&typeof s<"u"&&s.length>0&&(t.to=s)}try{t.selectLanguageTag.render()}catch(we){console.log(we)}if(t.to==null||typeof t.to>"u"||t.to.length==0)if(t.autoDiscriminateLocalLanguage)t.executeByLocalLanguage();else{t.state=0;return}if(t.to==t.language.getLocal()&&!t.language.translateLocal){t.state=0;return}t.lifecycle.execute.start_Trigger(o,t.to),t.images.execute();var l;typeof n<"u"&&n!=null?typeof n.length>"u"?(l=new Array,l[0]=n):l=n:l=t.getDocuments(),l.length>500&&(console.log("------tip------"),console.log("translate.execute( docs ) docs.length 500 docs.length : "+l.length+" , http://translate.zvo.cn/43006.html  500"));try{for(var r in t.element.tagAttribute)if(t.element.tagAttribute.hasOwnProperty(r)&&t.element.tagAttribute[r]instanceof Array){var u=t.element.tagAttribute[r];t.element.tagAttribute[r]={attribute:u,condition:function(we){return!0}}}}catch(we){console.log(we)}for(var d=0;d<l.length&d<500;d++){var c=l[d];t.element.whileNodes(o,c)}if(t.language.translateLanguagesRange.length>0)for(var f in t.nodeQueue[o].list)t.nodeQueue[o].list.hasOwnProperty(f)&&t.language.translateLanguagesRange.indexOf(f)<0&&delete t.nodeQueue[o].list[f];typeof t.nodeQueue[o]>"u"&&(t.nodeQueue[o]=new Array,t.nodeQueue[o].list=[],console.log("--- translate.js warn tip  ---"),console.log("translate.js translate.js  translate.js  translate.execute() "));for(var f in t.nodeQueue[o].list)if(t.nodeQueue[o].list.hasOwnProperty(f)){for(var m in t.nodeQueue[o].list[f])if(t.nodeQueue[o].list[f].hasOwnProperty(m)&&typeof t.nodeQueue[o].list[f][m]!="function"&&!(typeof t.nodeQueue[o].list[f][m].nodes>"u"||typeof t.nodeQueue[o].list[f][m].nodes.length>"u")){for(var g=t.nodeQueue[o].list[f][m].nodes.length-1;g>-1;g--){var v=t.element.nodeAnalyse.get(t.nodeQueue[o].list[f][m].nodes[g].node),y=a.uuid(v.node);typeof t.nodeHistory[y]<"u"&&t.nodeHistory[y].translateText==v.text&&t.nodeQueue[o].list[f][m].nodes.splice(g,1)}t.nodeQueue[o].list[f][m].nodes.length==0&&delete t.nodeQueue[o].list[f][m]}Object.keys(t.nodeQueue[o].list[f]).length==0&&delete t.nodeQueue[o].list[f]}var b={},x={},L={},U=[];for(var f in t.nodeQueue[o].list){if(!t.nodeQueue[o].list.hasOwnProperty(f)||f==null||typeof f>"u"||f.length==0||f=="undefined")continue;b[f]=[],x[f]=[];let C=new t.renderTask;L[f]=[];for(var m in t.nodeQueue[o].list[f])if(t.nodeQueue[o].list[f].hasOwnProperty(m)&&typeof t.nodeQueue[o].list[f][m]!="function"){var S=t.nodeQueue[o].list[f][m].original,R=t.nodeQueue[o].list[f][m].translateText,V=S==R?m:t.util.hash(R);t.nodeQueue[o].list[f][m].cacheHash=V;var j=t.storage.get("hash_"+t.to+"_"+V);if(j!=null&&j.length>0){for(var H=0;H<t.nodeQueue[o].list[f][m].nodes.length;H++){for(var q=t.nodeQueue[o].list[f][m].nodes[H].node,_e=!1,re=0;re<t.inProgressNodes.length;re++)t.inProgressNodes[re].node.isSameNode(q)&&(t.inProgressNodes[re].number++,_e=!0);_e||t.inProgressNodes.push({node:q,number:1});var O=t.nodeQueue[o].list[f][m].nodes[H].beforeText+j+t.nodeQueue[o].list[f][m].nodes[H].afterText;C.add(t.nodeQueue[o].list[f][m].nodes[H].node,S,O,t.nodeQueue[o].list[f][m].nodes[H].attribute);for(var Y=-1,d=0;d<L[f].length;d++)if(t.nodeQueue[o].list[f][m].nodes[H].node.isSameNode(L[f][d].node)){Y=d;break}for(var Z=-1,d=0;d<U.length;d++)if(t.nodeQueue[o].list[f][m].nodes[H].node.isSameNode(U[d].node)){Z=d;break}Y==-1&&(Y=L[f].length,L[f][Y]={},L[f][Y].node=t.nodeQueue[o].list[f][m].nodes[H].node,L[f][Y].array=[]),Z==-1&&(Z=U.length,U[Z]={},U[Z].node=t.nodeQueue[o].list[f][m].nodes[H].node,U[Z].array=[]);var W=L[f][Y].array.length;L[f][Y].array[W]=O;var ne=U[Z].array.length;U[Z].array[ne]=O}continue}b[f].push(R),x[f].push(m)}C.execute()}if(typeof t.request.api.translate!="string"||t.request.api.translate==null||t.request.api.translate.length<1){t.state=0,t.lifecycle.execute.renderFinish_Trigger(o,t.to),t.executeNumber++;return}for(var f in L)if(L.hasOwnProperty(f)){for(var ae=Object.keys(t.nodeQueue[o].list[f]),F=ae.length,d=0;d<L[f].length;d++){for(var P=0;P<U.length;P++)if(L[f][d].node.isSameNode(U[P].node)){L[f][d].array=U[P].array;break}L[f][d].array.sort(function(w,N){return N.length-w.length});for(var J=t.element.nodeAnalyse.get(L[f][d].node),le=J.text,G=0;G<L[f][d].array.length;G++)L[f][d].array[G]<1||(le=le.replace(new RegExp(t.util.regExp.pattern(L[f][d].array[G]),"g"),t.util.regExp.resultText(`
`)));for(var ie=le.split(`
`),oe=0;oe<ie.length;oe++)ie[oe]<1||t.addNodeToQueue(o,J.node,ie[oe])}var be=Object.keys(t.nodeQueue[o].list[f]),ce=be.length;if(F-ce!=0)for(var M=0;M<be.length;M++){var Q=be[M];if(ae.indexOf(Q)==-1){var se=t.nodeQueue[o].list[f][Q],V=se.original==se.translateText?Q:t.util.hash(se.translateText);t.nodeQueue[o].list[f][Q].cacheHash=V,b[f].push(se.translateText),x[f].push(Q)}}}var D=[];for(var f in t.nodeQueue[o].list)t.nodeQueue[o].list.hasOwnProperty(f)&&(typeof b[f]>"u"||b[f].length<1||f!=t.to&&D.push(f));if(D.length==0){t.lifecycle.execute.renderFinish_Trigger(o,t.to),t.state=0,t.executeNumber++;return}for(var f in x)if(x.hasOwnProperty(f)&&!(typeof x[f]>"u")&&!(x[f].length<1))for(var ee=0;ee<x[f].length;ee++){var $=x[f][ee];if(typeof t.nodeQueue[o].list[f][$].nodes>"u"||typeof t.nodeQueue[o].list[f][$].nodes.length>"u"){console.log("translate.nodeQueue['"+o+"']['list']['"+f+"']['"+$+"'].nodes.length is null ");continue}for(var A=0;A<t.nodeQueue[o].list[f][$].nodes.length;A++){for(var q=t.nodeQueue[o].list[f][$].nodes[A].node,_e=!1,re=0;re<t.inProgressNodes.length;re++)t.inProgressNodes[re].node.isSameNode(q)&&(t.inProgressNodes[re].number++,_e=!0);_e||t.inProgressNodes.push({node:q,number:1})}}t.state=20;for(var B in D)if(D.hasOwnProperty(B)){var f=D[B];if(typeof f=="string"){if(typeof b[f]>"u"||b[f].length<1){console.log(",, lang:"+f+", translateTextArray:"),console.log(b),console.log(""),t.state=0,t.executeNumber++;return}(typeof t.translateRequest[o]>"u"||t.translateRequest[o]==null)&&(t.translateRequest[o]={}),t.translateRequest[o][f]={},t.translateRequest[o][f].executeFinish=0,t.translateRequest[o][f].addtime=Math.floor(Date.now()/1e3),t.listener.execute.renderStartByApiRun(o,f,t.to),t.lifecycle.execute.translateNetworkBefore_Trigger(o,f,t.to,b[f]);var te=t.request.api.translate,he={from:f,to:t.to,text:encodeURIComponent(JSON.stringify(b[f]))};t.request.post(te,he,function(C){if(C.result==0){typeof t.translateRequest[o]=="object"&&typeof t.translateRequest[o][C.from]=="object"?(t.translateRequest[o][C.from].result=2,t.translateRequest[o][C.from].executeFinish=1,t.translateRequest[o][C.from].stoptime=Math.floor(Date.now()/1e3)):console.log("WARINNG!!! translate.translateRequest[uuid][data.from] is not object");var w="";typeof C.from<"u"&&C.from!=null&&(w=C.from);var N="";typeof C.to<"u"&&C.to!=null?N=C.to:N=t.to,t.waitingExecute.isAllExecuteFinish(o,w,N),console.log("=======ERROR START======="),console.log(b[C.from]),console.log("response : "+C.info),console.log("=======ERROR END  =======");return}if(typeof t.nodeQueue[o]>"u"){console.log(" translate.js  translate.js  translate.js ");return}let z=new t.renderTask;for(var xe=0;xe<x[C.from].length;xe++){var ye=C.from,X=C.text[xe];if(X!=null){X.toLowerCase().indexOf(b[C.from][xe].toLowerCase())>-1&&(X=b[C.from][xe]);var de=x[C.from][xe],Oe=t.nodeQueue[o].list[ye][de].cacheHash,Pe="";try{Pe=t.nodeQueue[o].list[ye][de].original}catch(Qe){console.log("uuid:"+o+", originalWord:"+Pe+", lang:"+ye+", hash:"+de+", text:"+X+", queue:"+t.nodeQueue[o]),console.log(Qe);continue}for(var Fe=0;Fe<t.nodeQueue[o].list[ye][de].nodes.length;Fe++)z.add(t.nodeQueue[o].list[ye][de].nodes[Fe].node,Pe,t.nodeQueue[o].list[ye][de].nodes[Fe].beforeText+X+t.nodeQueue[o].list[ye][de].nodes[Fe].afterText,t.nodeQueue[o].list[ye][de].nodes[Fe].attribute);t.storage.set("hash_"+C.to+"_"+Oe,X),t.office.fullExtract.isUse&&t.office.fullExtract.set(de,Pe,C.to,X)}}z.execute(),t.translateRequest[o][ye].result=1,t.translateRequest[o][ye].executeFinish=1,t.translateRequest[o][ye].stoptime=Math.floor(Date.now()/1e3),setTimeout(function(){t.waitingExecute.isAllExecuteFinish(o,C.from,C.to)},10)},function(C){t.translateRequest[o][C.data.from].executeFinish=1,t.translateRequest[o][C.data.from].stoptime=Math.floor(Date.now()/1e3),t.translateRequest[o][C.data.from].result=3,t.waitingExecute.isAllExecuteFinish(o,C.data.from,t.to)})}}},translateRequest:{},nodeHistory:{},element:{tagAttribute:{},nodeAnalyse:{get:function(n,o){return t.element.nodeAnalyse.analyse(n,"","",o)},set:function(n,o,s,l){return t.element.nodeAnalyse.analyse(n,o,s,l)},analyse:function(n,o,s,l){var r=new Array;r.node=n,r.text="";var u=t.element.getNodeName(n);if(l!=null&&typeof l=="string"&&l.length>0){var d;if(u=="INPUT"&&l.toLowerCase()=="value"?d=n.value:d=n[l],r.text=d,typeof o<"u"&&o.length>0){if(typeof d<"u"){var c=t.util.textReplace(d,o,s,t.to);u=="INPUT"&&l.toLowerCase()=="value"?n.value=c:n[l]=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}var f=n.getAttribute(l);if(f!=null&&typeof f<"u"){var c=t.util.textReplace(f,o,s,t.to);n.setAttribute(l,c),c.indexOf(s)>-1?r.resultText=c:r.resultText=""}}return r}if(u=="#text"&&typeof n.parentNode<"u"){var m=t.element.getNodeName(n.parentNode);m=="TEXTAREA"&&(u="TEXTAREA",n=n.parentNode)}if(u=="INPUT"||u=="TEXTAREA"){if(n.attributes==null||typeof n.attributes>"u")return r.text="",r;if(u=="INPUT"&&typeof n.attributes.type<"u"&&typeof n.attributes.type.nodeValue!=null&&(n.attributes.type.nodeValue.toLowerCase()=="button"||n.attributes.type.nodeValue.toLowerCase()=="submit")){var g=n.attributes.value;if(g!=null&&typeof g<"u"&&typeof g.nodeValue<"u"&&g.nodeValue.length>0){if(typeof o<"u"&&o.length>0){var c=t.util.textReplace(g.nodeValue,o,s,t.to);g.nodeValue=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}return r.text=g.nodeValue,r.node=g,r}}if(typeof n.attributes.placeholder<"u"){if(typeof o<"u"&&o.length>0){var c=t.util.textReplace(n.attributes.placeholder.nodeValue,o,s,t.to);n.attributes.placeholder.nodeValue=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}return r.text=n.attributes.placeholder.nodeValue,r.node=n.attributes.placeholder,r}return r.text="",r}if(u=="META"){if(typeof n.name<"u"&&n.name!=null){var v=n.name.toLowerCase(),y=n.getAttribute("property"),b="";if(typeof y<"u"&&y!=null&&y.length>0&&(b=y.toLowerCase()),v=="keywords"||v=="description"||v=="sharetitle"||b=="og:title"||b=="og:description"||b=="og:site_name"||b=="og:novel:latest_chapter_name"){if(typeof o<"u"&&o!=null&&o.length>0){var c=t.util.textReplace(n.content,o,s,t.to);n.content=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}return r.text=n.content,r}}return r.text="",r}if(u=="IMG"){if(typeof n.alt>"u"||n.alt==null)return r.text="",r;if(typeof o<"u"&&o.length>0){var c=t.util.textReplace(n.alt,o,s,t.to);n.alt=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}return r.text=n.alt,r}if(n.nodeValue==null||typeof n.nodeValue>"u")r.text="";else if(n.nodeValue.trim().length==0)r.text="";else{if(typeof o<"u"&&o!=null&&o.length>0){var c=t.util.textReplace(n.nodeValue,o,s,t.to);n.nodeValue=c,c.indexOf(s)>-1?r.resultText=c:r.resultText=""}r.text=n.nodeValue}return r}},getNodeName:function(n){return n==null||typeof n>"u"||n.nodeName==null||typeof n.nodeName>"u"?"":(n.nodeName,typeof n.nodeName=="string"?n.nodeName:typeof n.tagName=="string"&&n.tagName.length>0?n.tagName:(console.log("warn : get nodeName is null, this node ignore translate. node : "),console.log(n),""))},whileNodes:function(n,o){if(!(o==null||typeof o>"u")){(typeof t.nodeQueue[n]>"u"||t.nodeQueue[n]==null)&&(t.nodeQueue[n]=new Array,t.nodeQueue[n].expireTime=Date.now()+120*1e3,t.nodeQueue[n].list=new Array),typeof o=="object"&&typeof o.title=="string"&&o.title.length>0&&(t.ignore.isIgnore(o)||t.addNodeToQueue(n,o,o.title,"title"));var s=t.element.getNodeName(o).toLowerCase();if(typeof t.element.tagAttribute[s]<"u"){for(var l in t.element.tagAttribute[s].attribute)if(t.element.tagAttribute[s].attribute.hasOwnProperty(l)&&!(typeof t.element.tagAttribute[s].condition<"u"&&!t.element.tagAttribute[s].condition(o))){var r=t.element.tagAttribute[s].attribute[l];if(s=="input"&&r.toLowerCase()=="value")u=o.value;else{var u=o.getAttribute(r);if((typeof u>"u"||u==null)&&(u=o[r]),typeof u>"u"||u==null)continue}t.ignore.isIgnore(o)||t.addNodeToQueue(n,o,u,r)}}var d=o.childNodes;if(!(d==null||typeof d>"u"))if(d.length>0)for(var c=0;c<d.length;c++)t.element.whileNodes(n,d[c]);else t.element.findNode(n,o)}},findNode:function(n,o){if(!(o==null||typeof o>"u")&&o.parentNode!=null){var s=t.element.getNodeName(o.parentNode);if(s!=""&&!(t.ignore.tag.indexOf(s.toLowerCase())>-1)&&!t.ignore.isIgnore(o)){var l=t.element.nodeAnalyse.get(o);l.text.length>0&&t.addNodeToQueue(n,l.node,l.text)}}}},addNodeToQueue:function(n,o,s,l){if(!(o==null||s==null||s.length==0)){var r=t.element.getNodeName(o);if(r.toLowerCase()!="#comment"){if(t.util.hash(s),t.util.findTag(s)){if(o.parentNode==null)return;var u=t.element.getNodeName(o.parentNode);if(u=="SCRIPT"||u=="STYLE")return}var d=new Array;d.push(s);for(var c=0;c<t.ignore.textRegex.length;c++)for(var f=t.ignore.textRegex[c],m=0;m<d.length;m++){var s=d[m],g=s.match(f)||[];t.ignore.text=t.ignore.text.concat(g)}for(var v=0;v<t.ignore.text.length;v++)t.ignore.text[v].trim().length!=0&&(d=t.addNodeToQueueTextAnalysis(n,o,d,l,t.ignore.text[v],t.ignore.text[v]));if(typeof t.temp_nomenclature>"u"&&(t.temp_nomenclature=new Array),typeof t.temp_nomenclature[t.language.getLocal()]>"u"&&(y=new Array),typeof t.nomenclature.data[t.language.getLocal()]<"u"&&typeof t.nomenclature.data[t.language.getLocal()][t.to]<"u"){var y;for(var b in t.nomenclature.data[t.language.getLocal()][t.to])if(t.nomenclature.data[t.language.getLocal()][t.to].hasOwnProperty(b)){var x=t.nomenclature.data[t.language.getLocal()][t.to][b];d=t.addNodeToQueueTextAnalysis(n,o,d,l,b,x),typeof y<"u"&&y.push(b)}typeof t.temp_nomenclature[t.language.getLocal()]>"u"&&(t.temp_nomenclature[t.language.getLocal()]=y)}for(var m=0;m<d.length;m++)d[m].trim().length!=0&&(t.ignore.text.indexOf(d[m].trim())>-1||typeof t.temp_nomenclature[t.language.getLocal()]<"u"&&t.temp_nomenclature[t.language.getLocal()].indexOf(d[m].trim())>-1||t.addNodeToQueueAnalysis(n,o,d[m],l))}}},addNodeToQueueTextAnalysis:function(n,o,s,l,r,u){for(var d=new Array,c=0;c<s.length;c++){var f=s[c];if(f.trim()!=u.trim()){var m=f.indexOf(r);if(m>-1){if(r!=u){var g=m-u.length;g<0&&(g=0);var v=m+u.length;v>f.length&&(v=f.length);var y=f.substring(g,v);if(y.indexOf(u)>-1)continue}r!=u&&t.element.nodeAnalyse.set(o,r,u,l);for(var b=f.split(r),x=0;x<b.length;x++){var L=b[x];L.trim().length!=0&&(s.push(L),d.push(f))}}}}if(d.length>0)for(var U=0;U<d.length;U++){let S=s.indexOf(d[U]);S>-1&&s.splice(S,1)}return s},addNodeToQueueAnalysis:function(n,o,s,l){var r=t.language.recognition(s),u=r.languageArray;typeof u[t.to]<"u"&&delete u[t.to];var d=t.whole.isWhole(o);if(d){var c=r.languageName;t.addNodeQueueItem(n,o,s,l,c,"","")}else for(var c in u)if(u.hasOwnProperty(c)){for(var f=0;f<u[c].list.length;f++)if(!(typeof u[c].list[f]>"u"||typeof u[c].list[f].text>"u")){var m=u[c].list[f].text,g=u[c].list[f].beforeText,v=u[c].list[f].afterText;t.addNodeQueueItem(n,o,m,l,c,g,v)}}},addNodeQueueItem:function(n,o,s,l,r,u,d){(t.nodeQueue[n].list[r]==null||typeof t.nodeQueue[n].list[r]>"u")&&(t.nodeQueue[n].list[r]=new Array);var c=t.util.hash(s);(t.nodeQueue[n].list[r][c]==null||typeof t.nodeQueue[n].list[r][c]>"u")&&(t.nodeQueue[n].list[r][c]=new Array,t.nodeQueue[n].list[r][c].nodes=new Array,t.nodeQueue[n].list[r][c].original=s,t.nodeQueue[n].list[r][c].translateText=s);var f=!1;if(typeof o.isSameNode<"u"){for(var m=0;m<t.nodeQueue[n].list[r][c].nodes.length;m++)if(o.isSameNode(t.nodeQueue[n].list[r][c].nodes[m].node)){f=!0;continue}}if(!f){var g=t.nodeQueue[n].list[r][c].nodes.length;t.nodeQueue[n].list[r][c].nodes[g]=new Array,t.nodeQueue[n].list[r][c].nodes[g].node=o,t.nodeQueue[n].list[r][c].nodes[g].attribute=l,t.nodeQueue[n].list[r][c].nodes[g].beforeText=u,t.nodeQueue[n].list[r][c].nodes[g].afterText=d}},whole:{isEnableAll:!1,enableAll:function(){t.whole.isEnableAll=!0},class:[],tag:[],id:[],executeTip:function(){t.whole.class.length==0&&t.whole.tag.length==0&&t.whole.id.length==0||console.log(" translate.whole  http://translate.zvo.cn/42557.html "),t.whole.tag.indexOf("html")>-1&&console.log(" translate.whole.tag  html  body ")},isWhole:function(n){if(t.whole.isEnableAll)return!0;if(t.whole.class.length==0&&t.whole.tag.length==0&&t.whole.id.length==0&&t.whole.isEnableAll==!1||n==null||typeof n>"u")return!1;for(var o=n,s=100;s-- >0;){if(o==null||typeof o>"u")return!1;var l=t.element.getNodeName(o).toLowerCase();if(l.length>0){if(l=="html"||l=="#document")return!1;if(t.whole.tag.indexOf(l)>-1)return!0}if(o.className!=null){var r=o.className;if(r==null||typeof r!="string")continue;r=r.trim().split(" ");for(var u=0;u<r.length;u++)if(r[u]!=null&&r[u].trim().length>0&&t.whole.class.indexOf(r[u])>-1)return!0}if(o.id!=null&&typeof o.id<"u"&&t.whole.id.indexOf(o.id)>-1)return!0;o=o.parentElement}return!1}},language:{englishVarietys:["french","italian","deutsch","portuguese"],local:"",translateLocal:!1,translateLanguagesRange:[],setLocal:function(n){t.useVersion="v2",t.language.local=n},getLocal:function(){return(t.language.local==null||t.language.local.length<1)&&t.language.autoRecognitionLocalLanguage(),t.language.local},getCurrent:function(){var n=t.storage.get("to");return n!=null&&typeof n<"u"&&n.length>0?n:t.language.getLocal()},setDefaultTo:function(n){var o=t.storage.get("to");o!=null&&typeof o<"u"&&o.length>0||(t.storage.set("to",n),t.to=n)},clearCacheLanguage:function(){typeof t.language.setUrlParamControl_use<"u"&&t.language.setUrlParamControl_use&&(console.log(""),console.log("translate.language.setUrlParamControl(...)  URL  http://translate.zvo.cn/4075.html"),console.log("translate.language.clearCacheLanguage()  http://translate.zvo.cn/4080.html"),console.log(" translate.language.setUrlParamControl(...) url translate.language.clearCacheLanguage()  translate.language.setUrlParamControl(...) url translate.language.clearCacheLanguage() URL")),t.to="",t.storage.set("to","")},setUrlParamControl:function(n){t.language.setUrlParamControl_use=!0,(typeof n>"u"||n.length<1)&&(n="language");var o=t.util.getUrlParam(n);typeof o>"u"||o==""||o=="null"||o=="undefined"||(t.storage.set("to",o),t.to=o)},getTranslateAreaText:function(){var n="",o=document.createElement("div");if(t.documents!=null&&typeof t.documents<"u"&&t.documents.length>0)for(var s=0;s<t.documents.length;s++){var l=t.documents[s];typeof l<"u"&&l!=null&&typeof l.innerText<"u"&&l.innerText!=null&&l.innerText.length>0&&o.appendChild(l.cloneNode(!0))}else typeof document.head<"u"&&o.appendChild(document.head.cloneNode(!0)),typeof document.body<"u"&&o.appendChild(document.body.cloneNode(!0));for(var r=0;r<t.ignore.tag.length;r++)for(var u=t.ignore.tag[r],d=o.querySelectorAll(u),c=Array.prototype.slice.call(d),f=0;f<c.length;f++){var m=c[f];m.parentNode&&m.parentNode.removeChild(m)}if(n=o.innerText,n==null||typeof n>"u"||n.length<1){t.language.local="chinese_simplified";return}return n=n.replace(/\s/g,""),n},autoRecognitionLocalLanguage:function(){if(t.language.local!=null&&t.language.local.length>2)return t.language.local;var n=t.language.getTranslateAreaText();t.language.local="chinese_simplified";var o=t.language.recognition(n);return t.language.local=o.languageName,t.language.local},get:function(n){for(var o=new Array,s=new Array,l=[],r=[],u=0;u<n.length;u++){var d=n.charAt(u),c=t.language.getCharLanguage(d);c==""&&(c="unidentification");var f=t.language.analyse(c,s,l,r,d);s=f.langStrs,typeof l.language<"u"&&(r.language=l.language,r.charstr=l.charstr,r.storage_language=l.storage_language),l.language=f.storage_language,l.charstr=d,l.storage_language=f.storage_language,o.push(c)}return typeof s.unidentification<"u"&&delete s.unidentification,typeof s.specialCharacter<"u"&&delete s.specialCharacter,typeof s.number<"u"&&delete s.number,s},recognitionAlgorithm:function(n,o,s,l){if(typeof s.english<"u"&&typeof s.romance<"u"&&o.languageName=="english"&&s.romance/s.english>.008&&(typeof t.language.local<"u"&&t.language.local.length>1&&t.language.englishVarietys.indexOf(t.language.local)>-1&&(o.languageName=t.language.local),o.languageName=="english")){var r=t.language.romanceSentenceAnaly(n);r.length==0?console.log("     "+n+"  https://translate.zvo.cn/4030.html"):o.languageName=r}if(typeof s.japanese<"u"&&o.languageName!="japanese"&&s.japanese/l>.08&&(o.languageName="japanese"),(typeof s.chinese_simplified<"u"||typeof s.chinese_traditional<"u")&&typeof s.english<"u"&&o.languageName=="english"){var u=0;typeof s.chinese_simplified<"u"&&(u=u+s.chinese_simplified),typeof s.chinese_traditional<"u"&&(u=u+s.chinese_traditional),u/s.english>.05&&(o.languageName="chinese_simplified")}return typeof s.chinese_simplified<"u"&&typeof s.chinese_traditional<"u"&&o.languageName=="chinese_simplified"&&s.chinese_traditional/s.chinese_simplified>.03&&(o.languageName="chinese_traditional"),o},recognition:function(n){var o=t.language.get(n),s=[],l=[],r=0;for(var u in o)if(o.hasOwnProperty(u)&&typeof o[u]=="object"){for(var d=0,c=0;c<o[u].length;c++)d=d+o[u][c].text.length;r=r+d,s[u]=d,l[u]=d}var f="",m=0;for(var g in s)s.hasOwnProperty(g)&&s[g]>m&&(f=g,m=s[g]);var v={};for(var g in o)o.hasOwnProperty(g)&&(v[g]={},v[g].number=l[g],v[g].list=o[g]);var y={languageName:f,languageArray:v};return t.language.recognitionAlgorithm(n,y,s,r)},getCharLanguage:function(n){if(n==null||typeof n>"u")return"";if(this.russian(n))return"russian";if(this.english(n))return"english";if(this.romance(n))return"romance";if(this.specialCharacter(n))return"specialCharacter";if(this.number(n))return"number";var o=this.chinese(n);return o=="simplified"?"chinese_simplified":o=="traditional"?"chinese_traditional":this.japanese(n)?"japanese":this.korean(n)?"korean":this.greek(n)?"greek":this.thai(n)?"thai":this.arabic(n)?"arabic":this.romanian(n)?"romanian":this.hebrew(n)?"hebrew":""},analyse:function(n,o,s,l,r){typeof o[n]>"u"&&(o[n]=new Array);var u=0;typeof s.storage_language>"u"||(t.language.connector(r)&&(n=s.storage_language),s.storage_language==n?u=o[n].length-1:u=o[n].length),typeof o[n][u]>"u"&&(o[n][u]=new Array,o[n][u].beforeText="",o[n][u].afterText="",o[n][u].text=""),o[n][u].text=o[n][u].text+r,t.language.wordBlankConnector(t.language.getLocal())==!1&&t.language.wordBlankConnector(t.to)&&s.storage_language!=null&&typeof s.storage_language<"u"&&s.storage_language.length>0&&s.storage_language!="specialCharacter"&&(t.language.wordBlankConnector(s.storage_language)==!1&&t.language.wordBlankConnector(n)?o[s.storage_language][o[s.storage_language].length-1].afterText=" ":s.storage_language=="english"&&n!="english"&&(o[n][u].beforeText=" "));var d=new Array;return d.langStrs=o,d.storage_language=n,d},connector:function(n){return!!(/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(n)||/.*[\u0030-\u0039]+.*$/.test(n)||/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(n)||/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(n))},wordBlankConnector:function(n){if(n==null||typeof n>"u")return!0;switch(n.trim().toLowerCase()){case"chinese_simplified":return!1;case"chinese_traditional":return!1;case"korean":return!1;case"japanese":return!1}return!0},chinese_traditional_dict:"",chinese:function(n){return/.*[\u4e00-\u9fa5]+.*$/.test(n)?this.chinese_traditional_dict.indexOf(n)>-1?"traditional":"simplified":""},japanese:function(n){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(n)},korean:function(n){return!!/.*[\uAC00-\uD7AF]+.*$/.test(n)},russian:function(n){return!!/^[--]$/.test(n)},thai:function(n){return!!/^[\u0E01-\u0E59]$/.test(n)},arabic:function(n){return/^[\u0600-\u06FF\u0750-\u077F]$/.test(n)},romanian:function(n){return/^[\u00C0-\u00FF\u0100-\u017F\u0218-\u021B]$/.test(n)},greek:function(n){return!!/^[\u0391-\u03A9\u03B1-\u03C9]$/.test(n)},hebrew:function(n){return/^[\u0590-\u05FF]$/.test(n)},number:function(n){return!!/.*[\u0030-\u0039]+.*$/.test(n)},english:function(n){return/.*[\u0041-\u005a]+.*$/.test(n)?!0:!!/.*[\u0061-\u007a]+.*$/.test(n)},romance_dict:["","","","","","","","","","","","",""],romance:function(n){return this.romance_dict.indexOf(n)>-1},romanceSentenceAnaly:function(n){const o={french:{score:0,chars:["","","","","",""]},spanish:{score:0,chars:["","",""],pairs:["ll"]},italian:{score:0,chars:["",""],pairs:["cc","ss"]},portuguese:{score:0,chars:["",""]}};for(let r=0;r<n.length;r++){const u=n[r].toLowerCase();if(Object.keys(o).forEach(d=>{o[d].chars.includes(u)&&(o[d].score+=1)}),r<n.length-1){const d=n.slice(r,r+2).toLowerCase();Object.keys(o).forEach(c=>{const f=o[c].pairs;f&&f.includes(d)&&(o[c].score+=2)})}}let s="",l=-1;return Object.keys(o).forEach(r=>{o[r].score>l&&(l=o[r].score,s=r)}),s||""},specialCharacter:function(n){return!!(/.*[\u2460-\u24E9]+.*$/.test(n)||/.*[\u2500-\u25FF]+.*$/.test(n)||/.*[\u3200-\u33FF]+.*$/.test(n)||/.*[\uFF00-\uFF5E]+.*$/.test(n)||/.*[\u2000-\u22FF]+.*$/.test(n)||/.*[\u3001-\u3036]+.*$/.test(n)||/.*[\u0020-\u002F]+.*$/.test(n)||/.*[\u003B\u003B\u003C\u003D\u003E\u003F\u005B\u005C\u005D\u005E\u005F\u0060\u007B\u007C\u007D\u007E]+.*$/.test(n)||/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(n)||/.*[\u2000-\u200B]+.*$/.test(n)||/.*[\u2C60-\u2C77]+.*$/.test(n))},textTranslateReplace:function(n,o,s,l){return t.util.textReplace(n,o,s,l)}},executeByLocalLanguage:function(){var n=t.util.browserDefaultLanguage();if(typeof n<"u"&&n.length>0){t.changeLanguage(n);return}typeof t.request.api.ip!="string"||t.request.api.ip==null||t.request.api.ip.length<1||t.request.post(t.request.api.ip,{},function(o){o.result==0?(console.log("==== ERROR  ===="),console.log(o.info),console.log("==== ERROR END ====")):(t.storage.set("to",o.language),t.to=o.language,t.selectLanguageTag,t.execute())},null)},util:{textReplace:function(n,o,s,l){if(n==o)return s;let r=0,u=30;for(;n.indexOf(o,r)>-1&&u-- >0;){let d=""+s,c=""+o;if(t.language.wordBlankConnector(l)){let m=n.indexOf(o,r);if(m+1<n.length){let g=n.charAt(m+o.length);//.test(g)?(d=d+". ",c=o+"")://.test(g)?(d=d+", ",c=o+"")://.test(g)?(d=d+": ",c=o+""):[" ",`
`,"	","]","|","_","-","/"].indexOf(g)!==-1||d.length>0&&d.charAt(d.length-1)==" "||(d=d+" ")}if(m>0){let g=n.charAt(m-1);//.test(g)?(d=". "+d,c=""+c)://.test(g)?(d=", "+d,c=""+c)://.test(g)?(d=": "+d,c=""+c):[" ",`
`,"	","[","|","_","-","/"].indexOf(g)!==-1||d.length>0&&d.charAt(0)==" "||(d=" "+d)}}let f=t.util.replaceFromIndex(n,r,c,d);f.replaceEndIndex<1?console.log("while indexOf text:"+n+" , translateOriginal:"+o):(r=f.replaceEndIndex,n=f.text)}return n},replaceFromIndex:function(n,o,s,l){const r=n.slice(0,o),u=n.slice(o),d=u.indexOf(s);if(d>-1){const c=u.replace(s,l);return{text:r+c,replaceEndIndex:o+d+l.length}}else return{text:r+replacedAfter,replaceEndIndex:0}},uuid:function(){var n=new Date().getTime();window.performance&&typeof window.performance.now=="function"&&(n+=performance.now());var o="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(s=="x"?l:l&3|8).toString(16)});return o},findTag:function(n){var o=/<[^>]+>/g;return o.test(n)},arrayFindMaxNumber:function(n){for(var o={},s=[],l=0,r=0,u=n.length;r<u;r++)o[n[r]]?o[n[r]]++:o[n[r]]=1,o[n[r]]>l&&(l=o[n[r]]);for(var d in o)o.hasOwnProperty(d)&&o[d]===l&&s.push(d);return s},hash:function(n){if(n==null||typeof n>"u")return n;var o=0,s,l;if(n.length===0)return o;for(s=0;s<n.length;s++)l=n.charCodeAt(s),o=(o<<5)-o+l,o|=0;return o+""},charReplace:function(n){return n==null?"":(n=n.trim(),n=n.replace(/\t|\n|\v|\r|\f/g,""),n)},regExp:{pattern:function(n){return n=n.replace(/\\/g,"\\\\"),n=n.replace(/\"/g,'\\"'),n=n.replace(/\?/g,"\\?"),n=n.replace(/\$/g,"\\$"),n=n.replace(/\(/g,"\\("),n=n.replace(/\)/g,"\\)"),n=n.replace(/\|/g,"\\|"),n=n.replace(/\+/g,"\\+"),n=n.replace(/\*/g,"\\*"),n=n.replace(/\[/g,"\\["),n=n.replace(/\]/g,"\\]"),n=n.replace(/\^/g,"\\^"),n=n.replace(/\{/g,"\\{"),n=n.replace(/\}/g,"\\}"),n},resultText:function(n){return n}},getUrlParam:function(n){var o=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(o);return s!=null?unescape(s[2]):""},synchronizesLoadJs:function(n){var o=null;if(window.ActiveXObject)try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch{o=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(o=new XMLHttpRequest);if(o.open("GET",n,!1),o.send(null),o.readyState==4)if(o.status>=200&&o.status<300||o.status==0||o.status==304){var s=document.getElementsByTagName("HTML")[0],l=document.createElement("script");l.language="javascript",l.type="text/javascript";try{l.appendChild(document.createTextNode(o.responseText))}catch{l.text=o.responseText}return s.appendChild(l),!0}else return!1;else return!1},loadMsgJs:function(){typeof msg<"u"||t.util.synchronizesLoadJs("https://res.zvo.cn/msg/msg.js")},objSort:function(n){var o=Array.from(Object.keys(n));o.sort(function(r,u){return u.length-r.length});var s=new Array;for(var l of o)s[l]=n[l];return s},versionStringToInt:function(n){var o=n.split("."),s=0;return s=parseInt(o[0])*1e3*1e3+s,s=parseInt(o[1])*1e3+s,s=parseInt(o[2])+s,s},split:function(n,o,s){let l=o,r=[];if(JSON.stringify(n).length<=o)r.push(n);else{let u=JSON.stringify(n).trim().substring(1,JSON.stringify(n).length-1);if(JSON.stringify(n).length-o<=2){o=o-4;let d=u.substring(0,u.lastIndexOf('","')+1),c=u.substring(u.lastIndexOf('","')+2);r.push(JSON.parse("["+d+"]")),r.push(JSON.parse("["+c+"]"))}else{o=o-2;let d=0;for(;d-u.length<0;){let c="";d+o-u.length>=0?c=u.substring(d):c=u.substring(d,d+o);let f=c.length,m=1;c.endsWith('"')?c.endsWith('","')?f-=2:c.startsWith('"')||(f=c.lastIndexOf('","')+1):c.endsWith('",')?f-=1:(f=c.lastIndexOf('","')+1,f<=0&&(c.startsWith('"')?f=c.length-1:f=c.length-2,c.endsWith('"')||(m=0)));let g="";f-c.length>0||f-0==0?(g=c,f=f+g.length):g=c.substring(0,f),!g.startsWith('"')&&!g.startsWith(',"')&&(g='"'+g),g.endsWith('"')||(g=g+'"'),d+=f+m,g="["+g+"]";try{r.push(JSON.parse(g))}catch{d=d-(f+m)+1}}}}return s&&s>0&&(r=t.util._splitMaxSize(r,l,s)),r},_splitMaxSize:function(n,o,s){let l=[],r=[];if(n.forEach(function(u,d){if(u=r.concat(u),u.length>s){let f=u.slice(0,s),m=u.slice(s),g=1;for(;JSON.stringify(f).length>o&&(f=u.slice(0,s-g),m=u.slice(s-g),g++,!(g>=u.length+1)););l.push(f),r.length=0,r=m}else{let f=u,m=[],g=1;for(;JSON.stringify(f).length>o&&(f=u.slice(0,s-g),m=u.slice(s-g),g++,!(g>=u.length+1)););l.push(f),r.length=0,r=m}}),r.length>0){let u=[];u.push(r);let d=t.util._splitMaxSize(u,o,s);l=l.concat(d)}return l},browserLanguage:{zh:"chinese_simplified","zh-CN":"chinese_simplified","zh-TW":"chinese_traditional","zh-HK":"chinese_traditional",co:"corsican",gn:"guarani",rw:"kinyarwanda",ha:"hausa",no:"norwegian",nl:"dutch",yo:"yoruba",en:"english","en-US":"english",kok:"gongen",la:"latin",ne:"nepali",fr:"french",cs:"czech",haw:"hawaiian",ka:"georgian",ru:"russian",fa:"persian",bho:"bhojpuri",hi:"hindi",be:"belarusian",sw:"swahili",is:"icelandic",yi:"yiddish",tw:"twi",ga:"irish",gu:"gujarati",km:"khmer",sk:"slovak",he:"hebrew",kn:"kannada",hu:"hungarian",ta:"tamil",ar:"arabic",bn:"bengali",az:"azerbaijani",sm:"samoan",af:"afrikaans",id:"indonesian",da:"danish",sn:"shona",bm:"bambara",lt:"lithuanian",vi:"vietnamese",mt:"maltese",tk:"turkmen",as:"assamese",ca:"catalan",si:"singapore",ceb:"cebuano",gd:"scottish-gaelic",sa:"sanskrit",pl:"polish",gl:"galician",lv:"latvian",uk:"ukrainian",tt:"tatar",cy:"welsh",ja:"japanese",fil:"filipino",ay:"aymara",lo:"lao",te:"telugu",ro:"romanian",ht:"haitian_creole",doi:"dogrid",sv:"swedish",mai:"maithili",th:"thai",hy:"armenian",my:"burmese",ps:"pashto",hmn:"hmong",dv:"dhivehi",lb:"luxembourgish",sd:"sindhi",ku:"kurdish",tr:"turkish",mk:"macedonian",bg:"bulgarian",ms:"malay",lg:"luganda",mr:"marathi",et:"estonian",ml:"malayalam",de:"deutsch",sl:"slovene",ur:"urdu",pt:"portuguese",ig:"igbo",ckb:"kurdish_sorani",om:"oromo",el:"greek",es:"spanish",fy:"frisian",so:"somali",am:"amharic",ny:"nyanja",pa:"punjabi",eu:"basque",it:"italian",sq:"albanian",ko:"korean",tg:"tajik",fi:"finnish",ky:"kyrgyz",ee:"ewe",hr:"croatian",kri:"creole",qu:"quechua",bs:"bosnian",mi:"maori"},browserDefaultLanguage:function(){var n=navigator.language||navigator.userLanguage;if(typeof n=="string"&&n.length>0){var o=t.util.browserLanguage[n];if(typeof o>"u")console.log("browser default language : "+n+", translate.js current translate channel not support this language ");else return o}return""},urlSplitByText:function(n){const o=/(https?:\/\/[\w\-._~:\/?#[\]@!$&'()*+;=%]+(?=[\s\u4e00-\u9fa5,!?]|$))/gi,s=n.split(o);let l={};for(let r=0;r<s.length;r++)r%2===0?s[r]!==""&&(l[s[r]]="0"):l[s[r]]="1";return l},getElementPosition:function(n){const o=n.getBoundingClientRect(),s=window.scrollX||document.documentElement.scrollLeft,l=window.scrollY||document.documentElement.scrollTop,r=o.left+s,u=o.top+l,d=o.right-o.left,c=o.bottom-o.top,f=r+d,m=u+c;return{startX:r,startY:u,endX:f,endY:m,width:d,height:c}}},service:{name:"translate.service",use:function(n){if(typeof t.enterprise<"u"&&t.enterprise.isUse==!0){console.log(" translate.enterprise.use(); (https://translate.zvo.cn/4087.html) ,  translate.service.use('"+n+"'); (https://translate.zvo.cn/4081.html) ");return}if(typeof n=="string"&&(t.service.name=n,n!="translate.service")){if(t.whole.enableAll(),n.toLowerCase()=="giteeai"){t.request.api.host=["https://giteeai.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn:1000/","https://api.translate.zvo.cn:1000/"];return}if(n.toLowerCase()=="siliconflow"){t.request.api.host=["https://siliconflow.zvo.cn/","https://america.api.translate.zvo.cn:1414/","https://deutsch.enterprise.api.translate.zvo.cn:1414/"];return}}},edge:{api:{auth:"https://edge.microsoft.com/translate/auth",translate:"https://api.cognitive.microsofttranslator.com/translate?from={from}&to={to}&api-version=3.0&includeSentenceLength=true"},language:{json:[{id:"ukrainian",name:"",serviceId:"uk"},{id:"norwegian",name:"Norge",serviceId:"no"},{id:"welsh",name:"Iaith Weleg",serviceId:"cy"},{id:"dutch",name:"nederlands",serviceId:"nl"},{id:"japanese",name:"",serviceId:"ja"},{id:"filipino",name:"Pilipino",serviceId:"fil"},{id:"english",name:"English",serviceId:"en"},{id:"lao",name:"",serviceId:"lo"},{id:"telugu",name:"Name",serviceId:"te"},{id:"romanian",name:"Romn",serviceId:"ro"},{id:"nepali",name:"Name",serviceId:"ne"},{id:"french",name:"Franais",serviceId:"fr"},{id:"haitian_creole",name:"Kreyl ayisyen",serviceId:"ht"},{id:"czech",name:"esk",serviceId:"cs"},{id:"swedish",name:"Svenska",serviceId:"sv"},{id:"russian",name:" ",serviceId:"ru"},{id:"malagasy",name:"Malagasy",serviceId:"mg"},{id:"burmese",name:"",serviceId:"my"},{id:"pashto",name:"Name",serviceId:"ps"},{id:"thai",name:"",serviceId:"th"},{id:"armenian",name:"",serviceId:"hy"},{id:"chinese_simplified",name:"",serviceId:"zh-CHS"},{id:"persian",name:"Persian",serviceId:"fa"},{id:"chinese_traditional",name:"",serviceId:"zh-CHT"},{id:"kurdish",name:"Kurd",serviceId:"ku"},{id:"turkish",name:"Trke",serviceId:"tr"},{id:"hindi",name:"",serviceId:"hi"},{id:"bulgarian",name:"",serviceId:"bg"},{id:"malay",name:"Malay",serviceId:"ms"},{id:"swahili",name:"Kiswahili",serviceId:"sw"},{id:"oriya",name:"",serviceId:"or"},{id:"icelandic",name:"slandName",serviceId:"is"},{id:"irish",name:"ris",serviceId:"ga"},{id:"khmer",name:"Name",serviceId:"km"},{id:"gujarati",name:"",serviceId:"gu"},{id:"slovak",name:"Slovensk",serviceId:"sk"},{id:"kannada",name:"Name",serviceId:"kn"},{id:"hebrew",name:"",serviceId:"he"},{id:"hungarian",name:"magyar",serviceId:"hu"},{id:"marathi",name:"Name",serviceId:"mr"},{id:"tamil",name:"",serviceId:"ta"},{id:"estonian",name:"eesti keel",serviceId:"et"},{id:"malayalam",name:"",serviceId:"ml"},{id:"inuktitut",name:"",serviceId:"iu"},{id:"arabic",name:"",serviceId:"ar"},{id:"deutsch",name:"Deutsch",serviceId:"de"},{id:"slovene",name:"slovenina",serviceId:"sl"},{id:"bengali",name:"",serviceId:"bn"},{id:"urdu",name:"",serviceId:"ur"},{id:"azerbaijani",name:"azerbaijani",serviceId:"az"},{id:"portuguese",name:"portugus",serviceId:"pt"},{id:"samoan",name:"lifiava",serviceId:"sm"},{id:"afrikaans",name:"afrikaans",serviceId:"af"},{id:"tongan",name:"",serviceId:"to"},{id:"greek",name:"",serviceId:"el"},{id:"indonesian",name:"IndonesiaName",serviceId:"id"},{id:"spanish",name:"Espaol",serviceId:"es"},{id:"danish",name:"dansk",serviceId:"da"},{id:"amharic",name:"amharic",serviceId:"am"},{id:"punjabi",name:"Name",serviceId:"pa"},{id:"albanian",name:"albanian",serviceId:"sq"},{id:"lithuanian",name:"Lietuva",serviceId:"lt"},{id:"italian",name:"italiano",serviceId:"it"},{id:"vietnamese",name:"Ting Vit",serviceId:"vi"},{id:"korean",name:"",serviceId:"ko"},{id:"maltese",name:"Malti",serviceId:"mt"},{id:"finnish",name:"suomi",serviceId:"fi"},{id:"catalan",name:"catal",serviceId:"ca"},{id:"croatian",name:"hrvatski",serviceId:"hr"},{id:"bosnian",name:"bosnian",serviceId:"bs-Latn"},{id:"polish",name:"Polski",serviceId:"pl"},{id:"latvian",name:"latvieu",serviceId:"lv"},{id:"maori",name:"Maori",serviceId:"mi"}],getMap:function(){if(typeof t.service.edge.language.map>"u"){t.service.edge.language.map=new Array;for(var n=0;n<t.service.edge.language.json.length;n++){var o=t.service.edge.language.json[n];t.service.edge.language.map[o.id]=o.serviceId}}return t.service.edge.language.map}},translate:function(n,o,s,l){var r=JSON.parse(decodeURIComponent(o.text));let u=t.util.split(r,4e4,900);t.request.send(t.service.edge.api.auth,{},{},function(d){var c={from:o.from+"",to:o.to,text:o.text},f=o.from;f!="auto"&&(f=="romance"?f="fr":f=t.service.edge.language.getMap()[o.from]);for(var m=t.service.edge.language.getMap()[o.to],g=t.service.edge.api.translate.replace("{from}",f).replace("{to}",m),v=0;v<u.length;v++){for(var y=[],b=0;b<u[v].length;b++)y.push({Text:u[v][b]});t.request.send(g,JSON.stringify(y),c,function(x){var L={};L.info="SUCCESS",L.result=1,L.from=o.from,L.to=o.to,L.text=[];for(var U=0;U<x.length;U++)L.text.push(x[U].translations[0].text);if(u.length>1){for(var S=-1,R=0;R<u.length;R++)if(u[R].length-L.text.length==0){S=R;break}S<0&&(console.log("------ERROR--------"),console.log("currentIndex-1  http://translate.zvo.cn/43006.html "));for(var V=0;V<S;V++)for(var j=u[V].length,H=0;H<j;H++)L.text.unshift(null);for(var q=u.length-1;q>S;q--)for(var _e=u[q].length,H=0;H<_e;H++)L.text.push(null)}s(L)},"post",!0,{Authorization:"Bearer "+d,"Content-Type":"application/json"},l,!0)}},"get",!0,{"content-type":"application/x-www-form-urlencoded"},function(d){console.log("---------error--------"),console.log("edge translate service error, http code : "+d.status+", response text : "+d.responseText)},!0)}}},request:{api:{host:["https://api.translate.zvo.cn/","https://america.api.translate.zvo.cn/"],language:"language.json",translate:"translate.json",ip:"ip.json",connectTest:"connectTest.json",init:"init.json"},appendParams:{},appendHeaders:{},response:function(n){},speedDetectionControl:{hostMasterNodeCutTime:2e3,hostQueue:[],hostQueueIndex:-1,disableTime:1e6,setCurrentHost:function(n){t.storage.set("speedDetectionControl_hostQueue",""),t.request.api.host=n,t.request.speedDetectionControl.checkHostQueue=new Array,t.request.speedDetectionControl.checkResponseSpeed_Storage(n,0)},getHostQueue:function(){if(t.request.speedDetectionControl.hostQueue.length==0){var n=t.storage.get("speedDetectionControl_hostQueue");if(n==null||typeof n>"u"||n==""){typeof t.request.api.host=="string"&&(t.request.api.host=[""+t.request.api.host]),t.request.speedDetectionControl.hostQueue=[];for(var o=0;o<t.request.api.host.length;o++){var s=t.request.api.host[o];t.request.speedDetectionControl.hostQueue[o]={host:s,time:0}}}else t.request.speedDetectionControl.hostQueue=JSON.parse(n);var l=t.storage.get("speedDetectionControl_lasttime");(l==null||typeof l>"u")&&(l=0);var r=6e4;new Date().getTime()-l>r&&t.request.speedDetectionControl.checkResponseSpeed()}return t.request.speedDetectionControl.hostQueue},checkResponseSpeed_Storage:function(n,o){t.request.speedDetectionControl.checkHostQueue.push({host:n,time:o}),t.request.speedDetectionControl.checkHostQueue.sort((s,l)=>s.time-l.time),t.storage.set("speedDetectionControl_hostQueue",JSON.stringify(t.request.speedDetectionControl.checkHostQueue)),t.storage.set("speedDetectionControl_lasttime",new Date().getTime()),t.request.speedDetectionControl.hostQueue=t.request.speedDetectionControl.checkHostQueue},checkResponseSpeed:function(){var n={"content-type":"application/x-www-form-urlencoded"};if(!(typeof t.request.api.connectTest!="string"||t.request.api.connectTest==null||t.request.api.connectTest.length<1)){t.request.speedDetectionControl.checkHostQueue=[],t.request.speedDetectionControl.checkHostQueueMap=[],typeof t.request.api.host=="string"&&(t.request.api.host=[""+t.request.api.host]);for(var o=0;o<t.request.api.host.length;o++){var s=t.request.api.host[o];t.request.speedDetectionControl.checkHostQueueMap[s]={start:new Date().getTime()};try{t.request.send(s+t.request.api.connectTest,{host:s},{host:s},function(l){var r=l.info,u=t.request.speedDetectionControl.checkHostQueueMap[r],d=new Date().getTime()-u.start;t.request.api.host[0]==r&&(d=d-t.request.speedDetectionControl.hostMasterNodeCutTime,d<0&&(d=0)),t.request.speedDetectionControl.checkResponseSpeed_Storage(r,d)},"post",!0,n,function(l){var r=l.requestURL.replace(t.request.api.connectTest,"");t.request.speedDetectionControl.checkResponseSpeed_Storage(r,t.request.speedDetectionControl.disableTime)},!1)}catch(l){console.log(l)}}}},getHostQueueIndex:function(){if(t.request.speedDetectionControl.hostQueueIndex<0){var n=t.storage.get("speedDetectionControl_hostQueueIndex");typeof n>"u"||n==null?(t.request.speedDetectionControl.hostQueueIndex=0,t.storage.set("speedDetectionControl_hostQueueIndex",0)):t.request.speedDetectionControl.hostQueueIndex=n}return t.request.speedDetectionControl.hostQueueIndex},getHost:function(){var n=t.request.speedDetectionControl.getHostQueue(),o=t.request.speedDetectionControl.getHostQueueIndex();return n.length>o||(console.log("index"+o),o=n.length-1),n[o].host}},getUrl:function(n){var o=t.request.speedDetectionControl.getHost(),s=o+n+"?v="+t.version;return s},post:function(n,o,s,l){var r={"content-type":"application/x-www-form-urlencoded"};if(!(typeof o>"u")){if(typeof t.enterprise<"u"&&t.enterprise.automaticAdaptationService(),t.request.getUrl(n),t.service.name=="client.edge"){if(n==t.request.api.translate){t.service.edge.translate(n,o,s,l);return}if(n==t.request.api.language){var u={};u.info="SUCCESS",u.result=1,u.list=t.service.edge.language.json,s(u);return}}this.send(n,o,o,s,"post",!0,r,l,!0)}},send:function(n,o,s,l,r,u,d,c,f){var m="";if((o==null||typeof o>"u")&&(o={}),typeof o=="string")m=o;else{o.browserDefaultLanguage=t.util.browserDefaultLanguage();for(var g in t.request.appendParams)t.request.appendParams.hasOwnProperty(g)&&(o[g]=t.request.appendParams[g]);typeof t.enterprise<"u"&&typeof t.enterprise.key<"u"&&typeof t.enterprise.key=="string"&&t.enterprise.key.length>0&&(o.key=t.enterprise.key);for(var v in o)o.hasOwnProperty(v)&&(m.length>0&&(m=m+"&"),m=m+v+"="+o[v])}n.indexOf("https://")==0||n.indexOf("http://")==0||(n=t.request.getUrl(n));var y=null;try{y=new XMLHttpRequest}catch{y=new ActiveXObject("Microsoft.XMLHTTP")}if(y.data=s,y.open(r,n,u),d!=null)for(var v in d)d.hasOwnProperty(v)&&y.setRequestHeader(v,d[v]);for(var b in t.request.appendHeaders)t.request.appendHeaders.hasOwnProperty(b)&&y.setRequestHeader(b,t.request.appendHeaders[b]);return t.service.name=="translate.service"&&y.setRequestHeader("currentpage",window.location.href+""),y.send(m),y.onreadystatechange=function(){if(y.readyState==4)if(t.request.response(y),y.status==200){var x=null;if(!(typeof y.responseText>"u"||y.responseText==null)){if(y.responseText.indexOf("{")>-1&&y.responseText.indexOf("}")>-1)try{x=JSON.parse(y.responseText)}catch(L){console.log(L)}}x==null?l(y.responseText):l(x)}else f&&(n.indexOf(t.request.api.connectTest)>-1||(t.service.name=="translate.service"&&console.log(`----- translate.js  -----

 3.16.0js https://cdn.staticfile.net/translate.js/3.16.0/translate.js  client.edge   https://translate.zvo.cn/4081.html  
 ,  600   http://translate.zvo.cn/4087.html 
12Ghttps://translate.zvo.cn/391129.html
-------------`),console.log("------- translate.js service api response error --------"),console.log("    http code : "+y.status),console.log("    response : "+y.response),console.log("    request url : "+n),console.log("    request data : "+JSON.stringify(o)),console.log("    request method : "+r),console.log("---------------------- end ----------------------"))),y.requestURL=n,c!=null&&c(y)},y},translateText:function(n,o){var s=new Array,l=t.language.getLocal(),r=t.language.getCurrent();if(typeof n=="string")s[0]=n;else{var u=Object.prototype.toString.call(n);if(u=="[object Array]")s=n;else if(u=="[object Object]")typeof n.texts>"u"&&console.log("translate.request.translateText  obj.texts   https://translate.zvo.cn/4077.html"),typeof n.texts=="string"?s=[n.texts]:s=n.texts,typeof n.from=="string"&&n.from.length>0&&(l=n.from),typeof n.to=="string"&&n.to.length>0&&(r=n.to);else{console.log("translate.request.translateText  https://translate.zvo.cn/4077.html");return}}for(var d=new Array,c=[],f={},m=0;m<s.length;m++){var g=t.util.hash(s[m]),v=t.storage.get("hash_"+r+"_"+g);v!=null&&v.length>0?d[m]=v:(d[m]="",c.push(s[m]),f[g]=m)}if(c.length==0){var b={from:l,to:r,text:d,result:1};o(b);return}if(!(typeof t.request.api.translate!="string"||t.request.api.translate==null||t.request.api.translate.length<1)){var y=t.request.api.translate,b={from:l,to:r,text:encodeURIComponent(JSON.stringify(c))};t.request.post(y,b,function(x){x.result==0&&(console.log("=======ERROR START======="),console.log("from : "+x.from),console.log("to : "+x.to),console.log("translate text array : "+s),console.log("response : "+x.info),console.log("=======ERROR END  ======="));for(var L=0;L<x.text.length;L++){var U=t.util.hash(c[L]);t.storage.set("hash_"+r+"_"+U,x.text[L]),t.office.fullExtract.isUse&&t.office.fullExtract.set(U,c[L],b.to,x.text[L]),d[f[U]]=x.text[L]}x.text=d,o(x)},null)}},listener:{minIntervalTime:800,lasttime:0,executetime:0,delayExecuteTime:200,addExecute:function(){var n=Date.now();t.request.listener.lasttime==0?(t.request.listener.executetime=n,t.request.listener.lasttime=1):t.request.listener.executetime>1||(n<t.request.listener.lasttime+t.request.listener.minIntervalTime?t.request.listener.executetime=t.request.listener.lasttime+t.request.listener.minIntervalTime:t.request.listener.executetime=n)},trigger:function(n){return!0},start:function(){if(typeof t.request.listener.isStart<"u")return;if(t.request.listener.isStart=!0,setInterval(function(){var r=Date.now();if(t.request.listener.executetime>1&&r>t.request.listener.executetime+t.request.listener.delayExecuteTime){t.request.listener.executetime=0,t.request.listener.lasttime=r;try{t.execute()}catch(u){console.log(u)}}},100),typeof PerformanceObserver>"u"){console.log(" translate.request.listener.start()  PerformanceObserver  translate.request.listener.start() ");return}const n=new PerformanceObserver(r=>{for(var u=!1,d=0;d<r.getEntries().length;d++){var c=r.getEntries()[d];if(c.initiatorType==="fetch"||c.initiatorType==="xmlhttprequest"){var f=c.name;typeof t.request.api.host=="string"&&(t.request.api.host=[t.request.api.host]);for(var m=!1,g=0;g<t.request.api.host.length;g++)if(f.indexOf(t.request.api.host[g])>-1){m=!0;break}if(typeof t.service.edge<"u"&&f.indexOf(t.service.edge.api.auth)>-1&&(m=!0),f.indexOf(".microsofttranslator.com/translate")>-1&&(m=!0),m||!t.request.listener.trigger())continue;u=!0;break}}u&&t.request.listener.addExecute()});var o=PerformanceObserver.supportedEntryTypes;if(o){for(var s=!1,l=0;l<o.length;l++)if(o[l]==="resource"){s=!0;break}if(s)try{n.observe({entryTypes:["resource"]});return}catch{console.log("PerformanceObserver entryTypes  type ")}}try{n.observe({type:"resource",buffered:!0}),console.log(" PerformanceObserver type")}catch{console.log(" PerformanceObserver , translate.request.listener.start() ")}}}},storage:{IndexedDB:{db:null,initDB:function(){const n=this;return new Promise((o,s)=>{const l="translate.js",r="kvStore",d=indexedDB.open(l,1);d.onupgradeneeded=function(c){const f=c.target.result;f.objectStoreNames.contains(r)||f.createObjectStore(r,{keyPath:"key"})},d.onsuccess=function(c){n.db=c.target.result,o()},d.onerror=function(c){s("IndexedDB ")}})},set:async function(n,o){return this.db||await this.initDB(),new Promise((s,l)=>{const u=this.db.transaction("kvStore","readwrite").objectStore("kvStore"),d={key:n,value:o},c=u.put(d);c.onsuccess=()=>s(),c.onerror=()=>l("")})},get:async function(n){return this.db||await this.initDB(),new Promise((o,s)=>{const u=this.db.transaction("kvStore","readonly").objectStore("kvStore").get(n);u.onsuccess=()=>{const d=u.result;o(d?d.value:void 0)},u.onerror=()=>s("")})},list:async function(n=""){return this.db||await this.initDB(),new Promise((o,s)=>{const u=this.db.transaction("kvStore","readonly").objectStore("kvStore").openCursor(),d=[],c="^"+n.replace(/\*/g,".*")+"$",f=new RegExp(c);u.onsuccess=m=>{const g=m.target.result;g?(f.test(g.key)&&d.push({key:g.key,value:g.value.value}),g.continue()):o(d)},u.onerror=()=>s("")})}},set:function(n,o){localStorage.setItem(n,o)},get:function(n){return localStorage.getItem(n)}},images:{queues:[],add:function(n){for(var o in n)n.hasOwnProperty(o)&&(t.images.queues[o]=n[o])},execute:function(){if(!(Object.keys(t.images.queues).length<1)){for(var n=document.getElementsByTagName("img"),o=0;o<n.length;o++){var s=n[o];if(!(typeof s.src>"u"||s.src==null||s.src.length==0)){var l=s.getAttribute("src");for(var r in t.images.queues){var u=r,d=t.images.queues[r];u==l&&(d=d.replace(new RegExp("{language}","g"),t.to),s.src=d)}}}for(var c=document.getElementsByTagName("*"),o=0;o<c.length;o++){var f=c[o],m=window.getComputedStyle(f,null),g=m.backgroundImage;if(g!="none"){var v=t.images.gainCssBackgroundUrl(g);if(typeof t.images.queues[v]<"u"){var d=t.images.queues[v];d=d.replace(new RegExp("{language}","g"),t.to),f.style.backgroundImage='url("'+d+'")'}}}}},gainCssBackgroundUrl:function(n){var o=n.indexOf('"'),s=n.lastIndexOf('"');if(o!=-1&&s!=-1){var l=n.substring(o+1,s);return l}return n}},reset:function(){var n=t.language.getCurrent(),o="";for(var s in t.nodeQueue)t.nodeQueue.hasOwnProperty(s)&&(o=s);if(o==""){console.log(" translate.reset(); ");return}for(var l in t.nodeQueue[o].list)if(t.nodeQueue[o].list.hasOwnProperty(l)){for(var r in t.nodeQueue[o].list[l])if(t.nodeQueue[o].list[l].hasOwnProperty(r)){var u=t.nodeQueue[o].list[l][r];for(var d in u.nodes)if(u.nodes.hasOwnProperty(d)){var c=t.storage.get("hash_"+n+"_"+r);if(!(typeof c>"u")&&c!=null&&c.length!=0&&!(typeof u.nodes[d].node>"u")){var f=typeof u.nodes[d].node.attribute>"u"?null:u.nodes[d].node.attribute,m=t.element.nodeAnalyse.analyse(u.nodes[d].node,"","",f);t.element.nodeAnalyse.analyse(u.nodes[d].node,m.text,u.original,f)}}}}t.storage.set("to",""),t.to=null,t.selectLanguageTag.render()},selectionTranslate:{selectionX:0,selectionY:0,callTranslate:function(n){let o=window.getSelection();if(o.anchorOffset==o.focusOffset)return;let s=window.getSelection().toString();if(typeof t.request.api.translate!="string"||t.request.api.translate==null||t.request.api.translate.length<1){console.log(" translate ");return}var l=t.request.api.translate,r={from:t.language.getLocal(),to:t.to,text:encodeURIComponent(JSON.stringify([s]))};t.request.post(l,r,function(u){if(u.result==0)return;let d=document.querySelector("#translateTooltip");d.innerText=u.text[0],d.style.top=selectionY+20+"px",d.style.left=selectionX+50+"px",d.style.display=""},null)},start:function(){let n=document.createElement("span");n.innerText="",n.setAttribute("id","translateTooltip"),n.setAttribute("style","background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:999;top:150%;left:50%; "),document.body.appendChild(n),document.addEventListener("mousedown",o=>{selectionX=o.pageX,selectionY=o.pageY},!1),document.addEventListener("mouseup",t.selectionTranslate.callTranslate,!1),document.addEventListener("click",o=>{document.querySelector("#translateTooltip").style.display="none"},!1)}},enterprise:{isUse:!1,use:function(){if(t.enterprise.isUse=!0,t.request.speedDetectionControl.hostMasterNodeCutTime=300,t.request.api.host=["https://america-enterprise-api-translate.zvo.cn/","https://beijing.enterprise.api.translate.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn/","https://america.api.translate.zvo.cn:666/","https://api.translate.zvo.cn:666/","https://api.translate.zvo.cn:888/"],t.service.name=="client.edge"){t.service.name="translate.service",console.log(" translate.enterprise.use(); (https://translate.zvo.cn/4087.html) ,  translate.service.use('client.edge'); (https://translate.zvo.cn/4081.html) ");return}},automaticAdaptationService:function(){if(t.enterprise.isUse){var n=t.request.speedDetectionControl.getHostQueue();n.length>0&&n[0].time+1>t.request.speedDetectionControl.disableTime&&(t.service.name="client.edge")}},key:""},init:function(){if(!(typeof t.init_execute<"u")&&(t.init_execute="",!(typeof t.request.api.init!="string"||t.request.api.init==null||t.request.api.init.length<1)))try{t.request.send(t.request.api.init,{},{},function(n){if(n.result==0){console.log("translate.js init "+n.info);return}else if(n.result==1){var o=t.util.versionStringToInt(n.version),s=t.util.versionStringToInt(t.version.replace("v",""));o>s&&console.log("Tip : translate.js find new version : "+n.version)}},"post",!0,null,function(n){},!1)}catch{}},progress:{style:`
			/* CSS */
			/*  */
			.translate_api_in_progress {
			  position: relative;
			  overflow: hidden; /*  */
			}

			/*  */
			.translate_api_in_progress::after {
			  content: '';
			  position: absolute;
			  top: 0;
			  left: 0;
			  width: 100%;
			  height: 100%;
			  background: rgba(255, 255, 255, 1); /*  */
			  z-index: 2;
			}

			/*  */
			.translate_api_in_progress::before {
			  content: '';
			  position: absolute;
			  top: 50%;
			  left: 0;
			  width: 100%;
			  height:100%; /*  */
			  background: linear-gradient(
			    90deg,
			    transparent 0%,
			    #e8e8e8 25%,  /*  */
			    #d0d0d0 50%,  /*  */
			    #e8e8e8 75%,  /*  */
			    transparent 100%
			  );
			  background-size: 200% 100%;
			  animation: translate_api_in_progress_horizontal-loader 3.5s linear infinite;
			  z-index: 3;
			  transform: translateY(-50%);
			}

			@keyframes translate_api_in_progress_horizontal-loader {
			  0% {
			    background-position: 200% 0;
			  }
			  100% {
			    background-position: -200% 0;
			  }
			}
		`,api:{isTip:!0,setUITip:function(n){t.progress.api.isTip=n},removeChildClass:function(n,o){var s=n.childNodes;if(!(s==null||typeof s>"u")){if(s.length>0)for(var l=0;l<s.length;l++)t.progress.api.removeChildClass(s[l],o+1)}o!=1&&(typeof n>"u"||typeof n.className=="string"&&(n.className.indexOf("translate_api_in_progress")<-1||(n.className=n.className.replace(/translate_api_in_progress/g,""))))},startUITip:function(){const n=document.createElement("style");n.textContent=t.progress.style,document.head.appendChild(n),t.progress.api.isTip&&(t.listener.execute.renderStartByApi.push(function(o,s,l){for(var r in t.nodeQueue[o].list[s])if(t.nodeQueue[o].list[s].hasOwnProperty(r)){for(var u in t.nodeQueue[o].list[s][r].nodes)if(t.nodeQueue[o].list[s][r].nodes.hasOwnProperty(u)){var d=t.nodeQueue[o].list[s][r].nodes[u].node;if(!(typeof d>"u"||typeof d.parentNode>"u")){var c=d.parentNode;if(c!=null){var f=d.parentNode;if(!(f!=null&&typeof f.className<"u"&&f.className!=null&&c.className.indexOf("translate_api_in_progress")>-1))if(t.progress.api.removeChildClass(c,1),typeof c.className>"u"||c.className==null||c.className=="")c.className=" translate_api_in_progress";else{if(c.className.indexOf("translate_api_in_progress")>-1)continue;c.className=c.className+" translate_api_in_progress"}}}}}}),t.listener.execute.renderFinishByApi.push(function(o,s,l){for(var r in t.nodeQueue[o].list[s])if(t.nodeQueue[o].list[s].hasOwnProperty(r)){for(var u in t.nodeQueue[o].list[s][r].nodes)if(t.nodeQueue[o].list[s][r].nodes.hasOwnProperty(u)){var d=t.nodeQueue[o].list[s][r].nodes[u].node,c=d.parentNode;if(c!=null){var f=c.className;typeof f>"u"||f==null||f==""||f.indexOf("translate_api_in_progress")<-1||(c.className=f.replace(/translate_api_in_progress/g,""))}}}}))}}},js:{transString:function(n,o,s,l){let r;try{r=JSON.parse(n)}catch(u){l(u);return}t.js.transObject(r,o,s,l)},transObject:function(n,o,s,l){let r=t.js.find(n);var u=new Array;for(const c in r)u.push(c);var d={from:"auto",to:o,texts:u};t.request.translateText(d,function(c){if(typeof c.result>"u"||c.result==0){l("network connect failure");return}if(c.result==0){l(c.info);return}const f=c.text;f&&f.length===u.length?u.forEach((m,g)=>{const v=f[g],y=r[m];y&&y.length>0&&y.forEach(b=>{t.js.setValueByPath(n,b,v)})}):console.error(""),s(n)})},setValueByPath:function(n,o,s){const l=o.replace(/\[(\d+)\]/g,".$1").split(".");let r=n;for(let u=0;u<l.length-1;u++)r=r[l[u]];r[l[l.length-1]]=s},find:function(n,o=""){let s={};if(typeof n=="object"&&n!==null)if(Array.isArray(n))n.forEach((l,r)=>{const u=o?`${o}[${r}]`:`[${r}]`,d=t.js.find(l,u);for(const[c,f]of Object.entries(d))s[c]||(s[c]=[]),s[c]=s[c].concat(f)});else for(const l in n){const r=o?`${o}.${l}`:l;if(typeof n[l]=="object"&&n[l]!==null){const u=t.js.find(n[l],r);for(const[d,c]of Object.entries(u))s[d]||(s[d]=[]),s[d]=s[d].concat(c)}else typeof n[l]=="string"&&(typeof s[n[l]]>"u"&&(s[n[l]]=[]),s[n[l]].push(r))}else typeof n=="string"&&(typeof s[n]>"u"&&(s[n]=[]),s[n].push(o));return s}},network:{originalOpen:XMLHttpRequest.prototype.open,originalSend:XMLHttpRequest.prototype.send,setRequestHeaderOriginal:XMLHttpRequest.prototype.setRequestHeader,rules:[{url:/https:\/\/www\.guanleiming\.com\/a\/b\/.html/,methods:["GET","POST"],params:["a","b1"]}],getRuleMatch:function(n,o){for(let s=0;s<t.network.rules.length;s++){const l=t.network.rules[s];if(typeof l.url>"u"&&l.url==""){console.log("WARINNG : translate.network.rule find url is null:"),console.log(l);continue}if(!(!l.url.test(n)||!l.methods.includes(o.toUpperCase())))return l}return null},use:function(){XMLHttpRequest.prototype.open=function(...n){return t.network.hookOpen.apply(this,n)},XMLHttpRequest.prototype.send=function(...n){return t.network.hookSend.apply(this,n)},XMLHttpRequest.prototype.setRequestHeader=function(...n){return t.network.setRequestHeader.apply(this,n)},t.network.fetch.use()},_translateText(n){return t.language.getLocal()==t.language.getCurrent()||typeof n=="string"&&n.length>0&&t.language.recognition(n).languageName==t.language.getLocal()?new Promise((o,s)=>{const l={from:"auto",to:t.language.getLocal(),text:[n]};o(l)}):new Promise((o,s)=>{const l={from:"auto",to:t.language.getLocal(),texts:[n]};t.request.translateText(l,function(r){r.result===1?o(r):s(r)})})},setRequestHeader:function(n,o){return this._requestContext&&(this._requestContext.headers=this._requestContext.headers||{},this._requestContext.headers[n]=o),t.network.setRequestHeaderOriginal.call(this,n,o)},RequestHandler:{async handleGet(n,o){typeof o.params>"u"&&typeof o.params.length>"u"&&o.params.length<1&&(console.log("WARINNG: rule not find params , rule : "),console.log(o),o.params=[]);try{const r=new URL(n,window.location.origin),u=r.searchParams;for(var s=0;s<o.params.length;s++){var l=o.params[s];if(u.has(l)){const d=u.get(l),c=await t.network._translateText(d);typeof c>"u"?console.log("WARINNG: translateResultData is undefined"):typeof c.result>"u"?console.log("WARINNG: translateResultData.result is undefined"):c.result!=1?console.log("WARINNG: translateResultData.result failure : "+c.info):u.set(l,decodeURIComponent(c.text[0]))}}return r.toString()}catch(r){return console.warn("GET:",r),n}},async handleForm(n,o){try{const s=new URLSearchParams(n),l={...s};for(const r of o.params)if(s.has(r)){const u=s.get(r),d=await t.network._translateText(u);l[r]=d}return new URLSearchParams(l).toString()}catch(s){return console.warn(":",s),n}},async handleJson(n,o){try{const l={...JSON.parse(n)};for(const r of o.params)if(l.hasOwnProperty(r)){const u=l[r];l[r]=await t.network._translateText(u)}return JSON.stringify(l)}catch(s){return console.warn("JSON:",s),n}}},_requestContext:null,hookOpen(n,o,s,l,r){return this._requestContext={method:n.toUpperCase(),originalUrl:o,async:s,user:l,password:r,matchedRule:t.network.getRuleMatch(o,n)},t.network.originalOpen.call(this,n,o,s,l,r)},hookSend(n){const o=this._requestContext;if(!o||!o.matchedRule)return t.network.originalSend.call(this,n);const s=async()=>{let l=n;const r=o.method;try{const d=await t.network.RequestHandler.handleGet(o.originalUrl,o.matchedRule);if(t.network.originalOpen.call(this,r,d,o.async,o.user,o.password),o.headers)for(const c in o.headers)t.network.setRequestHeaderOriginal.call(this,c,o.headers[c]);if(r==="POST"&&typeof n<"u"&&n!=null&&n.length<2e3){var u=!1;if(n.trim().indexOf("[")==0||n.trim().indexOf("{")==0)try{l=await t.network.RequestHandler.handleJson(n,o.matchedRule),u=!0}catch{u=!1}if(!u)try{l=await t.network.RequestHandler.handleForm(n,o.matchedRule)}catch{}}}catch(d){console.warn(":",d)}t.network.originalSend.call(this,l)};o.async!==!1?s.call(this):(console.warn(""),t.network.originalSend.call(this,n))},fetch:{originalFetch:window.fetch,use:function(){const n=this;window.fetch=function(...o){return n.hookFetch.apply(n,o)}},hookFetch:async function(n,o){const s=new Request(n,o),l=s.url,r=s.method,u=t.network.getRuleMatch(l,r);if(!u)return this.originalFetch.call(window,s);const d={method:r,url:l,headers:{},rule:u,isModified:!1};s.headers.forEach((f,m)=>{d.headers[m]=f}),this._requestContext=d;try{const f=await t.network.RequestHandler.handleGet(l,u);if(r==="GET"){const m=new Request(f,{method:r,headers:new Headers(d.headers),mode:s.mode,credentials:s.credentials,cache:s.cache,redirect:s.redirect,referrer:s.referrer,referrerPolicy:s.referrerPolicy});return this.originalFetch.call(window,m)}if(r==="POST"){let m=null;s.body&&(m=await s.clone().text());const g=s.headers.get("Content-Type");let v=m;if(typeof m<"u"&&m!=null&&m.length<2e3){var c=!1;if(m.trim().indexOf("[")==0||m.trim().indexOf("{")==0)try{v=await t.network.RequestHandler.handleJson(m,u),c=!0}catch{c=!1}if(!c)try{v=await t.network.RequestHandler.handleForm(m,u)}catch{}}const y=new Request(f,{method:r,headers:new Headers(d.headers),body:v,mode:s.mode,credentials:s.credentials,cache:s.cache,redirect:s.redirect,referrer:s.referrer,referrerPolicy:s.referrerPolicy});return this.originalFetch.call(window,y)}return this.originalFetch.call(window,s)}catch(f){return console.warn("fetch :",f),this.originalFetch.call(window,s)}},_requestContext:null}},visual:{getRects:function(n){return n.map(o=>{if(!o)return null;let s;if(o.nodeType===Node.TEXT_NODE){const l=document.createRange();l.selectNodeContents(o);const r=l.getClientRects();s=r.length>0?r[0]:null}else o.nodeType===Node.ELEMENT_NODE&&(s=o.getBoundingClientRect());return s?{node:o,left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}:null})},coordinateSort:function(n){return n.filter(s=>s!==null).sort((s,l)=>Math.abs(s.top-l.top)<5?s.left-l.left:s.top-l.top)},afterAdjacent:function(n){var o=t.visual.coordinateSort(n);const s=[];return t.visual.groupRectsByLine(o).forEach(r=>{for(let u=0;u<r.length;u++)for(let d=u+1;d<r.length;d++){const c=r[u],f=r[d];if(!t.visual.areHorizontallyAdjacent(c,f))break;s.push({before:c,after:f})}}),s},groupRectsByLine:function(n){const o=[];let s=[];return n.forEach(l=>{if(s.length===0)s.push(l);else{const r=s[s.length-1];Math.abs(l.top-r.top)<5?s.push(l):(o.push(s),s=[l])}}),s.length>0&&o.push(s),o},areHorizontallyAdjacent:function(n,o){const s=Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top),l=o.left-n.right;return s>0&&Math.abs(l)<1},afterAddSpace:function(n){const o=[];return n.forEach(s=>{const{before:l,after:r}=s,u=l.node,d=r.node,c=window.getComputedStyle(u.nodeType===Node.TEXT_NODE?u.parentElement:u),f=window.getComputedStyle(d.nodeType===Node.TEXT_NODE?d.parentElement:d),m=parseFloat(c.marginRight)>0||parseFloat(c.paddingRight)>0,g=parseFloat(f.marginLeft)>0||parseFloat(f.paddingLeft)>0;!m&&!g&&typeof u.textContent=="string"&&typeof d.textContent=="string"&&(/\s$/.test(u.textContent)||/^\s/.test(d.textContent)||o.push(u))}),o},adjustTranslationSpaces:function(n){if(!t.language.wordBlankConnector(t.to))return;const o=t.visual.getRects(n),s=t.visual.afterAdjacent(o);t.visual.afterAddSpace(s).forEach(r=>{if(r.nodeType===Node.TEXT_NODE)r.textContent=r.textContent+"";else if(r.nodeType===Node.ELEMENT_NODE){const u=r.lastChild;u&&u.nodeType===Node.TEXT_NODE&&(u.textContent=u.textContent+"")}})},adjustTranslationSpacesByNodequeueUuid:function(n){var o=[];for(var s in t.nodeQueue[n].list)if(t.nodeQueue[n].list.hasOwnProperty(s)&&!(s.length<1)){for(var l in t.nodeQueue[n].list[s])if(t.nodeQueue[n].list[s].hasOwnProperty(l)){for(var r in t.nodeQueue[n].list[s][l].nodes)if(t.nodeQueue[n].list[s][l].nodes.hasOwnProperty(r)){var u=t.nodeQueue[n].list[s][l].nodes[r].node;o.push(u)}}}t.visual.adjustTranslationSpaces(o)},adjustTranslationSpacesByLastNodequeueUuid:function(o){var o="";for(var s in t.nodeQueue){o=s;break}typeof o=="string"&&o.length>1&&t.visual.adjustTranslationSpacesByNodequeueUuid(o)},hideText:{style:`
				/*  -  */
		        html.translatejs-text-hidden p, html.translatejs-text-hidden div,
		        html.translatejs-text-hidden h1, html.translatejs-text-hidden h2, html.translatejs-text-hidden h3,
		        html.translatejs-text-hidden h4, html.translatejs-text-hidden h5, html.translatejs-text-hidden h6,
		        html.translatejs-text-hidden span, html.translatejs-text-hidden a, html.translatejs-text-hidden b,
		        html.translatejs-text-hidden strong, html.translatejs-text-hidden i, html.translatejs-text-hidden em,
		        html.translatejs-text-hidden mark,
		        html.translatejs-text-hidden blockquote, html.translatejs-text-hidden ul, html.translatejs-text-hidden ol,
		        html.translatejs-text-hidden li, html.translatejs-text-hidden table, html.translatejs-text-hidden th,
		        html.translatejs-text-hidden td, html.translatejs-text-hidden label, html.translatejs-text-hidden button,
		        html.translatejs-text-hidden input, html.translatejs-text-hidden select, html.translatejs-text-hidden textarea {
		            color: transparent !important;
		            text-shadow: none !important;
		        }

		        /*  */
		        html.translatejs-text-hidden ::placeholder {
		            color: transparent !important;
		        }

		        /*  */
		        img, video, iframe, canvas, svg,
		        object, embed, picture, source {
		            color: initial !important;
		        }

		        /*  */
		        .ignore-hidden {
		            color: inherit !important;
		        }
			`,hide:function(){const n=document.createElement("style");n.textContent=t.visual.hideText.style,document.head.appendChild(n),document.documentElement.classList.add("translatejs-text-hidden")},show:function(){document.documentElement.classList.remove("translatejs-text-hidden")}},webPageLoadTranslateBeforeHiddenText:function(){typeof document.body>"u"||document.body==null||console.log(" translate.visual.webPageLoadTranslateBeforeHiddenText()  head "),t.language.local==""&&console.log(" translate.visual.webPageLoadTranslateBeforeHiddenText()  http://translate.zvo.cn/4066.html  "),(t.language.local==""||t.language.local!=t.language.getCurrent())&&(t.visual.hideText.hide(),t.lifecycle.execute.renderFinish.push(function(n,o){t.visual.hideText.show()}))}}},a={index:function(n){var o=n.parentElement;if(o==null)return"";var s;if(typeof n.tagName>"u")s=o.childNodes;else{s=[];for(var l=o.childNodes,r=0;r<l.length;r++)l[r].tagName===n.tagName&&s.push(l[r])}var u=Array.prototype.indexOf.call(s,n);return n.nodeName+""+(u+1)},uuid:function(n){for(var o="",s=n;s!=null;){var l=a.index(s);l!=""&&(o!=""&&(o="_"+o),o=l+o),s=s.parentElement}return o}};console.log(`------ translate.js ------
Two lines of js html automatic translation, page without change, no language configuration file, no API Key, SEO friendly! Open warehouse : https://github.com/xnx3/translate 
jshtml API KeySEOhttps://gitee.com/mail_osc/translate`),(function(n,o){e.exports?e.exports=o():n.translate=o()})(vT,function(){return t})})(cr)),cr.exports}var yT=_T();const Fs=Zg(yT),jn={getHistory:async()=>await Ie({url:"/prompt/history/get_history",method:"get"}),saveHistory:async e=>await Ie({url:"/prompt/history/add_history",method:"post",data:e}),deleteHistory:async e=>await Ie({url:"/prompt/history/delete_history",method:"post",data:{id_index:e}}),batchDeleteHistory:async e=>await Ie({url:"/prompt/history/batch_delete_history",method:"post",data:{id_index:e}}),getFavorite:async()=>await Ie({url:"/prompt/collect_history/get_collect_history",method:"get"}),addFavorite:async e=>await Ie({url:"/prompt/collect_history/add_collect_history",method:"post",data:e}),editFavorite:async e=>await Ie({url:"/prompt/collect_history/edit_collect_history",method:"post",data:e}),deleteFavorite:async e=>await Ie({url:"/prompt/collect_history/delete_collect_history",method:"post",data:{id_index:e}}),batchDeleteFavorite:async e=>await Ie({url:"/prompt/collect_history/batch_delete_collect_history",method:"post",data:{id_indices:e}})},bT={class:"lora-manager-top-bar"},wT=["placeholder"],xT=["title"],TT=["title"],ST={class:"checkbox-container"},kT=["onClick"],CT=["onClick"],ET={key:0,class:"loading-indicator"},LT={key:1,class:"empty-list"},$T=["onClick","onMouseover"],AT=["src","alt","title"],IT={key:0,class:"loading-more"},MT={key:1,class:"no-more-data"},jt="weilin_prompt_ui_",tm=_t({__name:"lora_index",props:{loraManager:{type:String,default:"look"}},setup(e,{expose:t}){const{t:a}=vt(),n=_(!1),o=_(!1),s=_(!1),l=_(!1),r=_("all"),u=_(""),d=_(null),c=_(""),f=_(null),m=_(!1),g=_(""),v=_(100),y=_(0),b=_(),x=_(!1),L=_(!1),U=_(),S=_(localStorage.getItem("weilin_prompt_ui_showHoverInfo")),R=_(localStorage.getItem("weilin_prompt_ui_clickAddTag"));(S.value===null||S.value===void 0||S.value==="")&&(localStorage.setItem("weilin_prompt_ui_showHoverInfo",!0),S.value=!0),(R.value===null||R.value===void 0||R.value==="")&&(localStorage.setItem("weilin_prompt_ui_clickAddTag",!1),R.value=!1);const V=e;Xe(S,w=>{localStorage.setItem("weilin_prompt_ui_showHoverInfo",w)}),Xe(R,w=>{localStorage.setItem("weilin_prompt_ui_clickAddTag",w)});const j=_(1),H=_(50),q=et(()=>{if(r.value==="all"){const w=W.value;if(w){const N=Object.values(w);return Math.ceil(N.length/H.value)}}else{const w=W.value[u.value];if(w){const N=Object.values(w);return Math.ceil(N.length/H.value)}return 1}}),_e=()=>{x.value=!0,L.value=!0},re=(w,N)=>{if(!S.value||S.value=="false"||(L.value=!0,g.value===w&&m.value))return;const xe=N.currentTarget.getBoundingClientRect(),ye=window.innerHeight,X=450;let de={left:xe.left+(xe.width-X)/2,top:xe.top+xe.height+10};de.top+310>ye&&(de.top=xe.top-310),de.left=Math.max(10,Math.min(de.left,window.innerWidth-X-10)),de.top=Math.max(10,Math.min(de.top,ye-310)),v.value=de.left,y.value=de.top,m.value=!0,g.value=w,Ge(()=>{U.value.refresh()})},O=()=>{L.value=!1,setTimeout(()=>{!x.value&&!L.value&&(m.value=!1,g.value="",x.value=!1)},200)},Y=()=>{m.value=!1,g.value="",x.value=!1},Z=_([]),W=_([]),ne=_(""),ae=_(0),F=(w,N)=>{ae.value=w,ne.value=N},P=async()=>{try{const w=await Ln.getLoraFolderList();Z.value=w.data}catch(w){console.error("Failed to get folder list:",w),K({type:"error",str:"message.loadFailed"})}},J=()=>{if(!f.value||s.value||l.value)return;const w=f.value;w.scrollHeight-w.scrollTop-w.clientHeight<100&&te()},le=_(!1);let G=null;const ie=()=>{G&&clearTimeout(G),G=setTimeout(()=>{c.value.length>0?(le.value=!0,M()):(le.value=!1,B())},300)},oe=w=>{var N;return(N=w.local_info)!=null&&N.name&&w.local_info.name!==""&&w.local_info.name.length>0?w.local_info.name:w.name},be=_(),ce=w=>{V.loraManager==="addLora"?we(w):V.loraManager==="prompt_inner"&&R.value?C(w):be.value.open(w)},M=async()=>{try{const w=await Ln.searchLoraGetFolderList(c.value);if(W.value=w.data,W.value.length>0){j.value=1;const N=Object.values(W.value),z=(j.value-1)*50,xe=z+50,ye=N.slice(z,xe);ee(ye)}}catch(w){console.error("Failed to get folder list:",w),K({type:"error",str:"message.loadFailed"})}},Q=_([]),se=w=>{if(w==="all"){Q.value=[],r.value=w,u.value="/",W.value=Z.value[w];const N=W.value;if(N){l.value=!1,j.value=1;const z=Object.values(N),xe=(j.value-1)*50,ye=xe+50,X=z.slice(xe,ye);ee(X)}}else{Q.value=[],r.value=w,u.value="/",W.value=Z.value[w];const N=W.value["/"];if(N){l.value=!1,j.value=1;const z=Object.values(N),xe=(j.value-1)*50,ye=xe+50,X=z.slice(xe,ye);ee(X)}}},D=w=>{if(w!=u.value){u.value=w,Q.value=[];const N=W.value[u.value];if(N){l.value=!1,j.value=1;const z=Object.values(N),xe=(j.value-1)*50,ye=xe+50,X=z.slice(xe,ye);ee(X)}}},ee=async w=>{const N=await Ln.getLoraRangeList(w);j.value===1?Q.value=N.data.loras:Q.value=Q.value.concat(N.data.loras)},$=async()=>{if(d.value!=null){K({type:"warn",str:"message.isLoading"});return}try{K({type:"success",str:"message.isLoadingPleaseWait"}),await Ln.getAllLoraList(),d.value=setInterval(async()=>{await A()},1e3)}catch(w){console.error("Failed to get all lora list:",w),K({type:"error",str:"message.loadFailed"})}},A=async()=>{try{const w=await Ln.getAllLoraStatus();w.data.isLoading===!1?(clearInterval(d.value),d.value=null,K({type:"success",str:"message.loaddingSuccess"}),await B()):K({type:"warn",str:"message.loaddingPrc",name:w.data.progress})}catch(w){console.error("Failed to get lora status:",w),clearInterval(d.value),d.value=null,K({type:"error",str:"message.loadFailed"})}},B=async()=>{if(!n.value){n.value=!0,j.value=1,l.value=!1,s.value=!1;try{await P(),Ge(()=>{se("all")})}catch(w){console.error("Failed to refresh lora list:",w)}finally{n.value=!1}}},te=async()=>{if(j.value>=q.value){l.value=!0;return}s.value=!0;try{if(j.value++,le.value){if(W.value=res.data,W.value.length>0){const w=Object.values(W.value),N=(j.value-1)*50,z=N+50,xe=w.slice(N,z);ee(xe)}}else if(r.value==="all"){W.value=Z.value[r.value];const w=W.value;if(w){const N=Object.values(w),z=(j.value-1)*50,xe=z+50,ye=N.slice(z,xe);ee(ye)}}else{const w=W.value[u.value];if(w){const N=Object.values(w),z=(j.value-1)*50,xe=z+50,ye=N.slice(z,xe);ee(ye)}}}finally{s.value=!1}},he=()=>{j.value=1,l.value=!1,s.value=!1};Xe([r,u,c],()=>{he()}),rt(()=>{B()});const we=w=>{var N,z,xe,ye,X,de,Oe,Pe,Fe;ae.value===0?window.postMessage({type:"weilin_prompt_ui_selectLora",lora:{name:w.model_name,display_name:oe(w),lora:w.name,weight:(N=w.local_info)!=null&&N.strengthMin?w.local_info.strengthMin:1,text_encoder_weight:(z=w.local_info)!=null&&z.strWeight?w.local_info.strWeight:1,loraWorks:(xe=w.local_info)!=null&&xe.loraWorks?w.local_info.loraWorks:""}},"*"):ae.value===1?window.postMessage({type:"weilin_prompt_ui_selectLora_stack_"+ne.value,lora:{name:w.model_name,display_name:oe(w),lora:w.name,weight:(ye=w.local_info)!=null&&ye.strengthMin?w.local_info.strengthMin:1,text_encoder_weight:(X=w.local_info)!=null&&X.strWeight?w.local_info.strWeight:1,loraWorks:(de=w.local_info)!=null&&de.loraWorks?w.local_info.loraWorks:""}},"*"):ae.value===2&&window.postMessage({type:"weilin_prompt_ui_selectLora_stack_node_"+ne.value,lora:{name:w.model_name,display_name:oe(w),lora:w.name,weight:(Oe=w.local_info)!=null&&Oe.strengthMin?w.local_info.strengthMin:1,text_encoder_weight:(Pe=w.local_info)!=null&&Pe.strWeight?w.local_info.strWeight:1,loraWorks:(Fe=w.local_info)!=null&&Fe.loraWorks?w.local_info.loraWorks:""}},"*")},C=w=>{var N,z,xe;window.postMessage({type:"weilin_prompt_ui_addLoraTag_inner",lora:{tag:`<wlr:${w.model_name}:${(N=w.local_info)!=null&&N.strengthMin?w.local_info.strengthMin:1}:${(z=w.local_info)!=null&&z.strWeight?w.local_info.strWeight:1}>`,loraWorks:(xe=w.local_info)!=null&&xe.loraWorks?w.local_info.loraWorks:""}},"*")};return t({openSetSeed:F}),(w,N)=>(T(),k("div",{class:Le(`${jt}lora-manager`)},[i("div",bT,[ve(i("input",{"onUpdate:modelValue":N[0]||(N[0]=z=>c.value=z),class:Le(`${jt}search-input`),placeholder:p(a)("loraManager.searchPlaceholder"),onInput:ie},null,42,wT),[[Ae,c.value]]),i("button",{class:Le(`${jt}refresh-btn`),onClick:B,title:p(a)("loraManager.refresh")},[(T(),k("svg",{class:Le([`${jt}refresh-icon`,{"is-rotating":n.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},[...N[3]||(N[3]=[i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null,-1)])],2))],10,xT),i("button",{style:{"margin-left":"10px"},class:Le(`${jt}refresh-btn`),onClick:$,title:p(a)("loraManager.cacheAll")},[(T(),k("svg",{class:Le([`${jt}refresh-icon`,{"is-rotating":n.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},[...N[4]||(N[4]=[i("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"},null,-1)])],2))],10,TT),i("div",ST,[i("label",{class:Le(`${jt}checkbox-label`)},[ve(i("input",{type:"checkbox","onUpdate:modelValue":N[1]||(N[1]=z=>S.value=z),class:Le(`${jt}checkbox`)},null,2),[[$t,S.value]]),N[5]||(N[5]=i("span",null,"",-1))],2),e.loraManager=="prompt_inner"?(T(),k("label",{key:0,class:Le(`${jt}checkbox-label`)},[ve(i("input",{type:"checkbox","onUpdate:modelValue":N[2]||(N[2]=z=>R.value=z),class:Le(`${jt}checkbox`)},null,2),[[$t,R.value]]),N[6]||(N[6]=i("span",null,"Tag",-1))],2)):fe("",!0)])]),le.value?fe("",!0):(T(),k("div",{key:0,class:Le(`${jt}category-nav`)},[(T(!0),k(Me,null,je(Object.keys(Z.value),z=>(T(),k("button",{key:z,class:Le([`${jt}category-btn`,{active:r.value===z}]),onClick:xe=>se(z)},h(z==="/"?p(a)("loraManager.root"):z=="all"?p(a)("loraManager.all"):z),11,kT))),128))],2)),r.value!="all"&&!le.value?(T(),k("div",{key:1,class:Le(`${jt}subcategory-nav`)},[(T(!0),k(Me,null,je(Object.keys(W.value),z=>(T(),k("button",{key:z,class:Le([`${jt}category-btn`,{active:u.value===z}]),onClick:xe=>D(z)},h(z==="/"?p(a)("loraManager.root"):z=="all"?p(a)("loraManager.all"):z),11,CT))),128))],2)):fe("",!0),i("div",{class:Le(`${jt}lora-list-container`),ref_key:"scrollContainer",ref:f,onScroll:J},[o.value&&!s.value?(T(),k("div",ET,h(p(a)("loraManager.loading")),1)):Q.value.length===0?(T(),k("div",LT,h(p(a)("loraManager.noResults")),1)):fe("",!0),i("div",{class:Le(`${jt}lora-list`),style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(150px, 1fr))",gap:"12px"}},[(T(!0),k(Me,null,je(Q.value,z=>(T(),k("div",{key:z.file_path,class:Le(`${jt}lora-card`),ref_for:!0,ref_key:"loraCardRef",ref:b,onClick:xe=>ce(z),onMouseover:xe=>re(z.name,xe),onMouseleave:O,style:{display:"flex","flex-direction":"column","min-height":"200px",cursor:"pointer"}},[i("div",{class:Le(`${jt}lora-preview`),style:{flex:"1",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",width:"100%"}},[z.preview?(T(),k("img",{key:0,src:z.preview,alt:z.model_name,title:z.model_name,loading:"lazy",style:{width:"100%",height:"100%","object-fit":"contain","min-height":"150px"}},null,8,AT)):(T(),k("div",{key:1,class:Le(`${jt}no-preview`),style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","min-height":"150px"}},[...N[7]||(N[7]=[i("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[i("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)])],2))],2),i("div",{class:Le(`${jt}lora-name`),style:{padding:"8px","text-align":"center","word-break":"break-word","white-space":"normal",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden","min-height":"40px","max-height":"40px","line-height":"1.2","text-overflow":"ellipsis"}},h(oe(z)),3)],42,$T))),128))],2),i("div",null,[s.value?(T(),k("div",IT,h(p(a)("loraManager.loadingMore")),1)):fe("",!0),!s.value&&l.value?(T(),k("div",MT,h(p(a)("loraManager.noMoreData")),1)):fe("",!0)])],34),We(ur,{ref_key:"loraDetailRef",ref:be},null,512),m.value?(T(),bt(hu,{key:2,ref_key:"loraCardItem",ref:U,fileNmae:g.value,paddingLeft:v.value,paddingTop:y.value,onCardLeave:Y,onCardenter:_e},null,8,["fileNmae","paddingLeft","paddingTop"])):fe("",!0)],2))}},[["__scopeId","data-v-e5643d0b"]]),RT={class:"tag-manager"},OT={class:"selected-categories-container"},NT={class:"selected-categories-header"},DT={class:"selected-categories-content"},PT={key:0,class:"selected-category-section"},FT={class:"section-title"},BT={class:"selected-items"},UT={class:"category-name"},HT=["onClick"],VT={key:1,class:"selected-category-section"},jT={class:"section-title"},WT={class:"selected-items"},zT={class:"category-name"},qT={class:"subcategory-name"},GT=["onClick"],QT={key:2,class:"no-selected"},YT={class:"category-tabs"},KT={class:"tabs-wrapper primary-tabs"},JT={class:"tabs-scroll"},XT=["onClick"],ZT={class:"tab-text"},eS=["onClick","title"],tS={key:0,class:"tabs-wrapper group-tabs"},nS={class:"tabs-scroll"},oS=["onClick"],aS={class:"tab-text"},sS=["onClick","disabled","title"],lS=_t({__name:"tag_group_select",emits:["sureSelect"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=a,s=_([]),l=_(null),r=_(null),u=_([]),d=_(!1),c=_([]),f=_(!1),m=_(0),g=et(()=>c.value.filter(Y=>!Y.sub)),v=et(()=>c.value.filter(Y=>Y.sub)),y=Y=>c.value.findIndex(Z=>Z.group.p_uuid===Y.group.p_uuid&&!Z.sub),b=Y=>c.value.findIndex(Z=>Z.group.p_uuid===Y.group.p_uuid&&Z.sub&&Z.sub.g_uuid===Y.sub.g_uuid),x=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh_select"},"*")},L=async()=>{try{const Y=await Mt.getTagsGroupList();if(s.value=Y.info,r.value){const Z=s.value.flatMap(W=>W.groups).find(W=>W.p_uuid===r.value.p_uuid);Z?r.value=Z:r.value=null}if(l.value){const Z=s.value.find(W=>W.p_uuid===l.value.p_uuid);Z?l.value=Z:l.value=null}}catch(Y){console.error(":",Y)}},U=Y=>{if(!Y||Y==="transparent")return"var(--primary-text)";let Z,W,ne,ae=1;if(Y.startsWith("rgba")){const P=Y.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);P&&([,Z,W,ne,ae]=P.map(Number))}else if(Y.startsWith("rgb")){const P=Y.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);P&&([,Z,W,ne]=P.map(Number))}return ae<.5?"var(--primary-text)":(Z*299+W*587+ne*114)/1e3>128?"#000000":"#ffffff"};rt(()=>{window.addEventListener("message",re)}),Oo(()=>{window.removeEventListener("message",re)});const S=Y=>{l.value=Y,r.value=null,d.value=!1,u.value=[]},R=Y=>{V(l.value)||(r.value=Y,d.value=!1,u.value=[])},V=Y=>Y?c.value.some(Z=>Z.group.p_uuid===Y.p_uuid&&!Z.sub):!1,j=Y=>{const Z=c.value.findIndex(W=>W.group.p_uuid===Y.p_uuid&&!W.sub);Z!==-1?c.value.splice(Z,1):(c.value=c.value.filter(W=>W.group.p_uuid!==Y.p_uuid),c.value.push({group:{p_uuid:Y.p_uuid,name:Y.name},sub:null}))},H=(Y,Z)=>{if(V(Y))return;const W=c.value.findIndex(ne=>ne.group.p_uuid===Y.p_uuid&&ne.sub&&ne.sub.g_uuid===Z.g_uuid);if(W!==-1)c.value.splice(W,1);else{const ne=c.value.findIndex(ae=>ae.group.p_uuid===Y.p_uuid&&!ae.sub);ne!==-1&&c.value.splice(ne,1),c.value.push({group:{p_uuid:Y.p_uuid,name:Y.name},sub:Z?{g_uuid:Z.g_uuid,name:Z.name}:null})}},q=Y=>{c.value.splice(Y,1)},_e=()=>{c.value=[]},re=Y=>{Y.data.type==="weilin_prompt_ui_tag_manager_refresh_select"&&L()},O=()=>{if(c.value.length===0){K({type:"warn",str:"message.pleaseSelectGroup"});return}o("sureSelect",{data:c.value,index:m.value}),f.value=!1};return t({open:(Y,Z)=>{x(),m.value=Y,c.value=Z,f.value=!0}}),(Y,Z)=>(T(),bt(Ia,{modelValue:f.value,"onUpdate:modelValue":Z[1]||(Z[1]=W=>f.value=W),title:p(n)("importDialog.selectTitle")},{footer:ut(()=>[i("button",{onClick:Z[0]||(Z[0]=W=>f.value=!1)},h(p(n)("promptBox.settings.close")),1),i("button",{onClick:O},h(p(n)("importDialog.sureSelect")),1)]),default:ut(()=>[i("div",RT,[i("div",OT,[i("div",NT,[i("span",null,h(p(n)("importDialog.selectedCategories")),1),c.value.length>0?(T(),k("button",{key:0,class:"clear-all-btn",onClick:_e},h(p(n)("importDialog.clearAll")),1)):fe("",!0)]),i("div",DT,[g.value.length>0?(T(),k("div",PT,[i("div",FT,h(p(n)("importDialog.primaryCategories")),1),i("div",BT,[(T(!0),k(Me,null,je(g.value,(W,ne)=>(T(),k("div",{key:"primary-"+ne,class:"selected-item"},[i("span",UT,h(W.group.name),1),i("button",{class:"remove-selected-btn",onClick:ae=>q(y(W))},"",8,HT)]))),128))])])):fe("",!0),v.value.length>0?(T(),k("div",VT,[i("div",jT,h(p(n)("importDialog.subCategories")),1),i("div",WT,[(T(!0),k(Me,null,je(v.value,(W,ne)=>(T(),k("div",{key:"sub-"+ne,class:"selected-item"},[i("span",zT,h(W.group.name),1),Z[2]||(Z[2]=i("span",{class:"separator"},">",-1)),i("span",qT,h(W.sub.name),1),i("button",{class:"remove-selected-btn",onClick:ae=>q(b(W))},"",8,GT)]))),128))])])):fe("",!0),c.value.length===0?(T(),k("div",QT,h(p(n)("importDialog.noSelectedCategories")),1)):fe("",!0)])]),i("div",YT,[i("div",KT,[i("div",JT,[(T(!0),k(Me,null,je(s.value,(W,ne)=>{var ae,F,P;return T(),k("div",{key:"Tabss-"+ne,class:Le(["tab-item",{active:((ae=l.value)==null?void 0:ae.p_uuid)===W.p_uuid}]),style:dt({backgroundColor:((F=l.value)==null?void 0:F.p_uuid)===W.p_uuid?"var(--weilin-prompt-ui-primary-bg)":W.color,color:((P=l.value)==null?void 0:P.p_uuid)===W.p_uuid?"var(--weilin-prompt-ui-primary-text)":U(W.color)}),onClick:J=>S(W)},[i("span",ZT,h(W.name),1),i("button",{class:"select-tab-btn",onClick:Je(J=>j(W),["stop"]),title:p(n)("importDialog.selectCategory")},[...Z[3]||(Z[3]=[i("svg",{viewBox:"0 0 24 24",width:"28",height:"28"},[i("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})],-1)])],8,eS)],14,XT)}),128))])]),l.value?(T(),k("div",tS,[i("div",nS,[(T(!0),k(Me,null,je(l.value.groups,(W,ne)=>{var ae,F,P;return T(),k("div",{key:"TabsSw-"+ne,class:Le(["tab-item",{active:((ae=r.value)==null?void 0:ae.g_uuid)===W.g_uuid,disabled:V(l.value)}]),style:dt({backgroundColor:((F=r.value)==null?void 0:F.g_uuid)===W.g_uuid?"var(--weilin-prompt-ui-primary-bg)":W.color,color:((P=r.value)==null?void 0:P.g_uuid)===W.g_uuid?"var(--weilin-prompt-ui-primary-text)":U(W.color),opacity:V(l.value)?"0.5":"1",cursor:V(l.value)?"not-allowed":"pointer"}),onClick:J=>V(l.value)?null:R(W)},[i("span",aS,h(W.name),1),V(l.value)?fe("",!0):(T(),k("button",{key:0,class:"select-tab-btn",onClick:Je(J=>H(l.value,W),["stop"]),disabled:V(l.value),title:p(n)("importDialog.selectSubcategory")},[...Z[4]||(Z[4]=[i("svg",{viewBox:"0 0 24 24",width:"28",height:"28"},[i("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})],-1)])],8,sS))],14,oS)}),128))])])):fe("",!0)])])]),_:1},8,["modelValue","title"]))}},[["__scopeId","data-v-7c9863cd"]]),vn={getTemplateList:async()=>await Ie({url:"/random_template/get_template_list",method:"post"}),getTemplateData:async e=>await Ie({url:"/random_template/get_template_data",method:"post",data:{name:e}}),saveTemplateData:async e=>await Ie({url:"/random_template/save_template",method:"post",data:{data:e}}),updateTemplateData:async(e,t)=>await Ie({url:"/random_template/update_template",method:"post",data:{name:e,data:t}}),deleteTemplateData:async e=>await Ie({url:"/random_template/delete_template",method:"post",data:{name:e}}),getRandomTemplateApple:async()=>await Ie({url:"/get/setting/get_random_template_setting",method:"post"}),updateRandomTemplateApple:async e=>await Ie({url:"/update/setting/update_random_template_setting",method:"post",data:{path:e}}),goRandomTemplate:async()=>await Ie({url:"/random_template/go_random_template",method:"post"}),goRandomTemplatePath:async e=>await Ie({url:"/random_template/go_random_template_path",method:"post",data:{name:e}})},rS={class:"random-rule-container"},iS={class:"settings-section template-section"},uS={class:"section-header"},cS={class:"template-controls"},dS={class:"template-select-group"},fS={class:"template-select-with-apply"},pS={value:""},gS=["value"],mS=["disabled"],hS={class:"template-bottom-buttons"},vS=["disabled"],_S=["disabled"],yS={key:0,class:"template-name-input"},bS=["placeholder"],wS={class:"template-actions"},xS={key:0},TS={class:"settings-section"},SS={class:"section-header"},kS={class:"rules-reminder"},CS={class:"rules-list"},ES={class:"rule-header"},LS=["onClick"],$S={class:"rule-content"},AS={class:"form-group"},IS={class:"range-inputs"},MS=["onUpdate:modelValue"],RS=["onUpdate:modelValue"],OS={class:"form-group"},NS=["onUpdate:modelValue"],DS={value:"category"},PS={value:"specific"},FS={key:0,class:"form-group"},BS={class:"selected-categories-container"},US={class:"selected-categories-header"},HS={class:"selected-categories-content"},VS={key:0,class:"selected-category-section"},jS={class:"section-title"},WS={class:"selected-items"},zS={class:"category-name"},qS={key:1,class:"selected-category-section"},GS={class:"section-title"},QS={class:"selected-items"},YS={class:"category-name"},KS={class:"subcategory-name"},JS={key:2,class:"no-selected"},XS=["onClick"],ZS={key:1,class:"form-group"},ek={class:"tags-input-container"},tk=["onClick"],nk=["onUpdate:modelValue","onKeydown","placeholder"],ok=["onClick"],ak={class:"actions-section"},sk=["disabled"],nm="weilin_tools_",lk=_t({__name:"random_setting",emits:["close","update","generateRandomTags"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(!1),s=_(null),l=_(!1),r=_(""),u=_(""),d={randomRuleSetting:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},c={file_name:"new_random_template",rules:[{range:{min:1,max:3},type:"category",categoryId:1,specificTags:[],tagGroupList:[],tagInput:""},{range:{min:4,max:6},type:"category",categoryId:2,specificTags:[],tagGroupList:[],tagInput:""}]},f=_({});async function m(){try{r.value=="prompt_global"?await vn.getRandomTemplateApple().then(async se=>{se.data==""?f.value=c:await vn.getTemplateData(se.data).then(async D=>{W.value=se.data,f.value=D.data,l.value=!0}).catch(D=>{console.error(":",D),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})}).catch(se=>{console.error(se),K({type:"warn",str:"message.networkError"})}):u.value==""?f.value=c:await vn.getTemplateData(u.value).then(async se=>{W.value=u.value,f.value=se.data,l.value=!0}).catch(se=>{console.error(":",se),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})}catch(se){K({type:"warn",str:"message.networkError"}),console.error("Error loading random tag settings:",se)}}function g(){try{const se=JSON.parse(JSON.stringify(f.value));se.rules&&se.rules.forEach(D=>{delete D.tagInput}),vn.updateTemplateData(W.value,se).then(async D=>{await vn.getTemplateData(D.path_name).then(async ee=>{f.value=ee.data,K({type:"success",str:"randomUtils.templateSaved"})}).catch(ee=>{console.error(":",ee),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})}).catch(D=>{console.error(":",D),K({type:"warn",str:"randomUtils.errorSavingTemplate"})})}catch(se){console.error("Error saving random tag settings:",se),K({type:"warn",str:"randomUtils.errorSavingSettings"})}}function v(){f.value.rules.push({range:{min:f.value.rules.length>0?f.value.rules[f.value.rules.length-1].range.max+1:1,max:f.value.rules.length>0?f.value.rules[f.value.rules.length-1].range.max+3:3},type:"category",categoryId:1,specificTags:[],tagGroupList:[],tagInput:""})}function y(se){f.value.rules.splice(se,1)}function b(se){se.tagInput&&se.tagInput.trim()&&(se.specificTags.push(se.tagInput.trim()),se.tagInput="")}function x(se,D){se.specificTags.splice(D,1)}function L(){}const S=_((()=>{try{const se=localStorage.getItem(`${nm}randomRuleSettingState`);if(se){const D=JSON.parse(se),ee={...d};return D.randomRuleSetting&&(ee.randomRuleSetting={...d.randomRuleSetting,...D.randomRuleSetting}),ee}}catch(se){console.error("Error loading window states:",se)}return{...d}})());Xe(S,se=>{try{localStorage.setItem(`${nm}randomRuleSettingState`,JSON.stringify(se))}catch(D){console.error("Error saving window states:",D)}},{deep:!0});const R=se=>{o.value=!1},V=(se,D)=>{S.value[se]&&(S.value[se].position={...D})},j=(se,D)=>{S.value[se]&&(S.value[se].size={...D})},H=se=>{o.value=!0,r.value=se,He.registerWindow("randomRuleSetting"),Ge(()=>{He.setActiveWindow("randomRuleSetting"),se=="prompt_global"?P(1):M()})},q=(se,D)=>{s.value.open(se,D)},_e=()=>void 0,re=se=>!se||!Array.isArray(se)||se.length<=0?[]:se.filter(D=>!D.sub),O=se=>!se||!Array.isArray(se)||se.length<=0?[]:se.filter(D=>D.sub),Y=se=>{se&&se.data&&Array.isArray(se.data)?f.value.rules[se.index].tagGroupList=se.data:f.value.rules[se.index].tagGroupList=[]},Z=_([]),W=_(""),ne=_(""),ae=_(!1),F=_(!1);async function P(se=0){try{await vn.getTemplateList().then(D=>{Z.value=D.data,se==1&&m()}).catch(D=>{console.error(D),K({type:"warn",str:"message.networkError"})})}catch(D){K({type:"warn",str:"message.networkError"}),console.error("RandomTemplate:",D)}}function J(){ae.value=!0,ne.value=""}function le(){ae.value=!1,ne.value=""}function G(){if(!W.value){K.warm(n("randomUtils.pleaseChooseTemplate"));return}r.value=="prompt_global"?vn.updateRandomTemplateApple(W.value).then(se=>{K({type:"success",str:"randomUtils.templateApplied"})}).catch(se=>{console.error(":",se),K({type:"warn",str:"randomUtils.errorApplyingTemplate"})}):(window.postMessage({type:"weilin_prompt_ui_prompt_inner_update_node_tag_template_id",data:W.value},"*"),K({type:"success",str:"randomUtils.templateApplied"}))}function ie(){W.value&&vn.deleteTemplateData(W.value).then(()=>{K({type:"success",str:"randomUtils.templateDeleted"}),P(),W.value=""}).catch(se=>{console.error(":",se),K({type:"warn",str:"randomUtils.errorDeletingTemplate"})})}function oe(){if(!W.value)return;const se=Z.value.find(D=>D.path_name===W.value);se&&(ae.value=!0,ne.value=se.file_name,F.value=!0)}function be(){if(!ne.value.trim()){K({type:"warn",str:"randomUtils.templateNameRequired"});return}if(f.value.file_name=ne.value.trim(),F.value){const se=Z.value.find(D=>D.path_name===W.value);if(se){se.file_name=ne.value.trim();const D=JSON.parse(JSON.stringify(f.value));D.rules&&D.rules.forEach(ee=>{delete ee.tagInput}),vn.updateTemplateData(se.path_name,D).then(async ee=>{K({type:"success",str:"randomUtils.templateSaved"}),await P().then(async()=>{await vn.getTemplateData(ee.path_name).then(async $=>{W.value=ee.path_name,f.value=$.data,K({type:"success",str:"randomUtils.templateSaved"})}).catch($=>{console.error(":",$),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})})}).catch(ee=>{console.error(":",ee),K({type:"warn",str:"randomUtils.errorSavingTemplate"})})}}else{f.value=c,f.value.file_name=ne.value.trim();const se=JSON.parse(JSON.stringify(f.value));se.rules&&se.rules.forEach(D=>{delete D.tagInput}),vn.saveTemplateData(se).then(async D=>{await P().then(async()=>{await vn.getTemplateData(D.path_name).then(async ee=>{W.value=D.path_name,f.value=ee.data,K({type:"success",str:"randomUtils.templateSaved"})}).catch(ee=>{console.error(":",ee),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})})}).catch(D=>{console.error(":",D),K({type:"warn",str:"randomUtils.errorSavingTemplate"})})}ae.value=!1,ne.value="",F.value=!1}const ce=async se=>{if(se.target.value!="")try{await vn.getTemplateData(se.target.value).then(async D=>{W.value=D.path_name,f.value=D.data,l.value=!0}).catch(D=>{console.error(":",D),K({type:"warn",str:"randomUtils.errorLoadingTemplate"})})}catch(D){K({type:"warn",str:"message.networkError"}),console.error("Error loading random tag settings:",D)}},M=()=>{window.postMessage({type:"weilin_prompt_ui_prompt_inner_get_node_tag_template_id"},"*")},Q=se=>{se.data.type==="weilin_prompt_ui_prompt_inner_get_node_tag_template_id_response"&&(u.value=se.data.data,P(1))};return rt(()=>{window.addEventListener("message",Q)}),Rn(()=>{He.unregisterWindow("randomRuleSetting"),window.removeEventListener("message",Q)}),t({open:H,getRandomTags:_e}),(se,D)=>(T(),k(Me,null,[o.value?(T(),bt(En,{key:0,title:p(n)("randomUtils.title"),position:S.value.randomRuleSetting.position,size:S.value.randomRuleSetting.size,"z-index":p(He).getZIndex("randomRuleSetting"),"onUpdate:position":D[2]||(D[2]=ee=>V("randomRuleSetting",ee)),"onUpdate:size":D[3]||(D[3]=ee=>j("randomRuleSetting",ee)),onActive:D[4]||(D[4]=ee=>p(He).setActiveWindow("randomRuleSetting")),onClose:D[5]||(D[5]=ee=>R())},{default:ut(()=>[i("div",rS,[i("div",iS,[i("div",uS,[i("h3",null,h(p(n)("randomUtils.ruleTemplates")),1)]),i("div",cS,[i("div",dS,[i("div",fS,[ve(i("select",{"onUpdate:modelValue":D[0]||(D[0]=ee=>W.value=ee),onChange:ce,class:"form-select template-select"},[i("option",pS,h(p(n)("randomUtils.selectTemplate")),1),(T(!0),k(Me,null,je(Z.value,(ee,$)=>(T(),k("option",{key:$,value:ee.path_name},h(ee.file_name),9,gS))),128))],544),[[zt,W.value]]),i("button",{class:"apply-template-btn",onClick:G,disabled:!W.value},h(p(n)("randomUtils.applyTemplate")),9,mS)]),i("div",hS,[i("button",{class:"new-template-btn",onClick:J},h(p(n)("randomUtils.newTemplate")),1),i("button",{class:"edit-template-btn",onClick:oe,disabled:!W.value},h(p(n)("randomUtils.editTemplate")),9,vS),i("button",{class:"delete-template-btn",onClick:ie,disabled:!W.value},h(p(n)("randomUtils.deleteTemplate")),9,_S)])]),ae.value?(T(),k("div",yS,[ve(i("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=ee=>ne.value=ee),class:"form-input",placeholder:p(n)("randomUtils.templateNamePlaceholder")},null,8,bS),[[Ae,ne.value]]),i("div",wS,[i("button",{class:"save-template-btn",onClick:be},h(p(n)("randomUtils.save")),1),i("button",{class:"cancel-template-btn",onClick:le},h(p(n)("randomUtils.cancel")),1)])])):fe("",!0)])]),W.value&&l.value?(T(),k("div",xS,[i("div",TS,[i("div",SS,[i("h3",null,h(p(n)("randomUtils.rules")),1),i("button",{class:"add-rule-btn",onClick:v},[D[6]||(D[6]=i("span",null,"+",-1)),ze(" "+h(p(n)("randomUtils.addRule")),1)])]),i("div",kS,[i("p",null,h(p(n)("randomUtils.rulesReminder")),1)]),i("div",CS,[(T(!0),k(Me,null,je(f.value.rules,(ee,$)=>(T(),k("div",{key:$,class:"rule-item"},[i("div",ES,[i("h4",null,h(p(n)("randomUtils.rule"))+" #"+h($+1),1),i("button",{class:"delete-rule-btn",onClick:A=>y($)},"",8,LS)]),i("div",$S,[i("div",AS,[i("label",null,h(p(n)("randomUtils.range")),1),i("div",IS,[ve(i("input",{type:"number","onUpdate:modelValue":A=>ee.range.min=A,min:"1",class:"form-input range-input"},null,8,MS),[[Ae,ee.range.min,void 0,{number:!0}]]),D[7]||(D[7]=i("span",null,"-",-1)),ve(i("input",{type:"number","onUpdate:modelValue":A=>ee.range.max=A,min:"1",class:"form-input range-input"},null,8,RS),[[Ae,ee.range.max,void 0,{number:!0}]])])]),i("div",OS,[i("label",null,h(p(n)("randomUtils.tagType")),1),ve(i("select",{"onUpdate:modelValue":A=>ee.type=A,class:"form-select"},[i("option",DS,h(p(n)("randomUtils.category")),1),i("option",PS,h(p(n)("randomUtils.specificTags")),1)],8,NS),[[zt,ee.type]])]),ee.type==="category"?(T(),k("div",FS,[i("div",BS,[i("div",US,[i("span",null,h(p(n)("importDialog.selectedCategories")),1)]),i("div",HS,[re(ee.tagGroupList).length>0?(T(),k("div",VS,[i("div",jS,h(p(n)("importDialog.primaryCategories")),1),i("div",WS,[(T(!0),k(Me,null,je(re(ee.tagGroupList),(A,B)=>(T(),k("div",{key:"primary-"+B,class:"selected-item"},[i("span",zS,h(A.group.name),1)]))),128))])])):fe("",!0),O(ee.tagGroupList).length>0?(T(),k("div",qS,[i("div",GS,h(p(n)("importDialog.subCategories")),1),i("div",QS,[(T(!0),k(Me,null,je(O(ee.tagGroupList),(A,B)=>(T(),k("div",{key:"sub-"+B,class:"selected-item"},[i("span",YS,h(A.group.name),1),D[8]||(D[8]=i("span",{class:"separator"},">",-1)),i("span",KS,h(A.sub.name),1)]))),128))])])):fe("",!0),!ee.tagGroupList||ee.tagGroupList.length===0?(T(),k("div",JS,h(p(n)("importDialog.noSelectedCategories")),1)):fe("",!0)])]),i("button",{class:"add-tag-btn",onClick:A=>q($,ee.tagGroupList)},h(p(n)("randomUtils.selectTagGroup")),9,XS)])):fe("",!0),ee.type==="specific"?(T(),k("div",ZS,[i("label",null,h(p(n)("randomUtils.specificTags")),1),i("div",ek,[(T(!0),k(Me,null,je(ee.specificTags,(A,B)=>(T(),k("div",{key:B,class:"tag-chip"},[ze(h(A)+" ",1),i("button",{class:"remove-tag-btn",onClick:te=>x(ee,B)},"",8,tk)]))),128)),ve(i("input",{type:"text","onUpdate:modelValue":A=>ee.tagInput=A,onKeydown:ln(Je(A=>b(ee),["prevent"]),["enter"]),class:"tag-input",placeholder:p(n)("randomUtils.addTagPlaceholder")},null,40,nk),[[Ae,ee.tagInput]])]),i("button",{class:"add-tag-btn",onClick:A=>b(ee)},h(p(n)("randomUtils.addTag")),9,ok)])):fe("",!0)])]))),128))])])])):fe("",!0)]),i("div",ak,[i("button",{class:"save-btn",onClick:g,disabled:!W.value},h(p(n)("common.save")),9,sk)])]),_:1},8,["title","position","size","z-index"])):fe("",!0),We(lS,{ref_key:"tagGroupSelectItem",ref:s,onSureSelect:Y},null,512)],64))}},[["__scopeId","data-v-61460fd3"]]);function Pa(e){let t=e.length;for(;--t>=0;)e[t]=0}const rk=3,ik=258,om=29,uk=256+1+om,am=30,ck=512,dk=new Array((uk+2)*2);Pa(dk);const fk=new Array(am*2);Pa(fk);const pk=new Array(ck);Pa(pk);const gk=new Array(ik-rk+1);Pa(gk);const mk=new Array(om);Pa(mk);const hk=new Array(am);Pa(hk);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const vu=new Uint8Array(256);for(let e=0;e<256;e++)vu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;vu[254]=vu[254]=1;const vk={class:"tag-manager"},_k={class:"form-group"},yk={class:"select-group-item"},bk=["value","placeholder"],wk={class:"form-group"},xk=["placeholder"],Tk={class:"form-group"},Sk=["placeholder"],kk={class:"form-group"},Ck={class:"color-picker"},Ek={class:"color-controls"},Lk={class:"alpha-control"},$k={class:"alpha-value"},Ak=_t({__name:"favour",emits:["sureSelect"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(null),s=_(!1),l=_({text:"",desc:"",id_index:"",color:"rgba(255, 123, 2, .4)"}),r=_({group:{id_index:0,name:"",color:"",create_time:0,p_uuid:""},sub:{id_index:0,name:"",color:"",create_time:0,g_uuid:"",p_uuid:""}}),u=_({hex:"#ff7b02",alpha:40}),d=et(()=>f(u.value.hex,u.value.alpha)),c=()=>{const b=f(u.value.hex,u.value.alpha);l.value.color=b},f=(b,x)=>{const L=parseInt(b.slice(1,3),16),U=parseInt(b.slice(3,5),16),S=parseInt(b.slice(5,7),16);return`rgba(${L}, ${U}, ${S}, ${x/100})`},m=()=>{o.value.open()},g=()=>{if(!l.value.text||!l.value.desc||!r.value.sub.id_index||!r.value.sub.g_uuid){K({type:"warn",str:"tagManager.textRequired"});return}Mt.addNewTags({id_index:r.value.sub.id_index,g_uuid:r.value.sub.g_uuid,text:l.value.text,desc:l.value.desc,color:l.value.color?l.value.color:"rgba(255, 123, 2, .4)"}).then(b=>{window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.addSuccess"}),v()}).catch(b=>{K({type:"warn",str:"message.networkError"})})},v=()=>{l.value={id_index:"",text:"",desc:"",color:"rgba(255, 123, 2, .4)"},s.value=!1},y=b=>{r.value=b,l.value.id_index=b.sub.id_index};return t({open:(b,x)=>{l.value={id_index:"",text:"",desc:"",color:"rgba(255, 123, 2, .4)"},l.value.text=b,l.value.desc=x,s.value=!0}}),(b,x)=>(T(),k(Me,null,[We(Ia,{modelValue:s.value,"onUpdate:modelValue":x[5]||(x[5]=L=>s.value=L),title:p(n)("tagManager.addTag")},{footer:ut(()=>[i("button",{onClick:x[4]||(x[4]=L=>s.value=!1)},h(p(n)("common.cancel")),1),i("button",{onClick:g},h(p(n)("common.confirm")),1)]),default:ut(()=>[i("div",vk,[i("div",_k,[i("label",null,h(p(n)("importDialog.selectGroup")),1),i("div",yk,[i("input",{type:"text",value:l.value.id_index!=""?r.value.group.name+" -> "+r.value.sub.name:"",readonly:"",placeholder:p(n)("importDialog.selectGroup")},null,8,bk),i("button",{class:"add-tag-btn",style:{"margin-left":"10px","min-width":"fit-content"},onClick:m},h(p(n)("importDialog.selectGroup")),1)])]),i("div",wk,[i("label",null,h(p(n)("tagManager.text")),1),ve(i("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=L=>l.value.desc=L),placeholder:p(n)("tagManager.textPlaceholder")},null,8,xk),[[Ae,l.value.desc]])]),i("div",Tk,[i("label",null,h(p(n)("tagManager.description")),1),ve(i("textarea",{"onUpdate:modelValue":x[1]||(x[1]=L=>l.value.text=L),placeholder:p(n)("tagManager.descriptionPlaceholder"),rows:"4"},"            ",8,Sk),[[Ae,l.value.text]])]),i("div",kk,[i("label",null,h(p(n)("tagManager.backgroundColor")),1),i("div",Ck,[i("div",{class:"color-preview",style:dt({backgroundColor:d.value})},null,4),i("div",Ek,[ve(i("input",{type:"color","onUpdate:modelValue":x[2]||(x[2]=L=>u.value.hex=L),onInput:c,class:"color-input"},null,544),[[Ae,u.value.hex]]),i("div",Lk,[ve(i("input",{type:"range","onUpdate:modelValue":x[3]||(x[3]=L=>u.value.alpha=L),min:"0",max:"100",onInput:c,class:"alpha-slider"},null,544),[[Ae,u.value.alpha,void 0,{number:!0}]]),i("span",$k,h(u.value.alpha)+"%",1)])])])])])]),_:1},8,["modelValue","title"]),We(Vp,{ref_key:"tagGroupSelectItem",ref:o,onSureSelect:y},null,512)],64))}},[["__scopeId","data-v-08abaad1"]]),Ik={class:"weilin_prompt_ui_prompt-box"},Mk={key:0,class:"weilin-toast",role:"status","aria-live":"polite"},Rk={class:"center-container"},Ok={class:"action-item"},Nk=["title"],Dk={class:"action-text"},Pk={class:"action-item"},Fk=["title"],Bk={class:"action-text"},Uk={class:"action-item"},Hk={class:"action-text"},Vk={class:"action-item"},jk=["title"],Wk={class:"action-text"},zk={class:"action-item"},qk=["title"],Gk={class:"action-text"},Qk={class:"action-item"},Yk=["title"],Kk={class:"action-text"},Jk={key:0,class:"action-item"},Xk=["title"],Zk={class:"action-text"},eC={class:"action-item"},tC=["title"],nC={class:"action-text"},oC={class:"action-item"},aC=["title"],sC={class:"action-text"},lC={class:"action-item"},rC=["title"],iC={class:"action-text"},uC={class:"action-item"},cC=["title"],dC={class:"action-text"},fC={class:"action-item"},pC=["title"],gC={class:"action-text"},mC={class:"action-item"},hC=["title"],vC={class:"action-text"},_C={class:"action-item"},yC=["title"],bC={class:"action-text"},wC={class:"action-item weilin-comfyui-toolbar-right"},xC=["disabled"],TC=["placeholder"],SC={class:"token-counter"},kC=["onClick"],CC={class:"tag"},EC={class:"desc"},LC={class:"prompt-input-translate-area"},$C={style:{display:"flex","align-items":"center"}},AC=["placeholder"],IC=["title"],MC={style:{"margin-left":"5px"},class:"action-text"},RC=["title"],OC={class:"action-text"},NC=["title"],DC={class:"action-text"},PC=["title"],FC={class:"action-text"},BC=["title"],UC={class:"action-text"},HC=["title"],VC={class:"action-text"},jC={key:0,class:"tokens-container"},WC=["draggable","onDragstart","onDragover","onDrop","onDblclick"],zC={key:0,class:"newline-token"},qC=["title"],GC=["onMouseenter","onMouseleave"],QC=["title"],YC=["title","onMouseenter","onMouseleave"],KC={style:{"margin-left":"5px"}},JC=["onMouseenter","onMouseleave"],XC=["onClick"],ZC=["value","onInput","onBlur","onKeyup"],eE=["onClick","title"],tE={key:4,class:"translation-result"},nE=["onClick","title"],oE={class:"translated-text"},aE={key:0,class:"line-break"},sE={class:"tag-tips-content"},lE=["innerHTML"],rE={key:0,class:"weight-control"},iE={class:"weight-label"},uE={key:1,class:"lora-weight-controls"},cE={class:"weight-control"},dE={class:"weight-label"},fE={class:"weight-control"},pE={class:"weight-label"},gE=["title"],mE=["title"],hE={key:2,class:"bracket-btn-group"},vE={class:"bracket-btn-container"},_E={class:"vertical-btn-group"},yE=["title"],bE=["title"],wE={class:"bracket-btn-container"},xE={class:"vertical-btn-group"},TE=["title"],SE=["title"],kE={class:"bracket-btn-container"},CE={class:"vertical-btn-group"},EE=["title"],LE=["title"],$E=["title"],AE={class:"tag-manager-section"},IE={class:"weilin-comfyui-selection-actions-content"},ME={class:"weilin-comfyui-selection-actions-count"},RE={class:"header-left"},OE={class:"section-title"},NE={class:"header-right"},DE={class:"lora-manager-container"},PE={class:"tag-manager-section"},FE={class:"header-left"},BE={class:"section-title"},UE={class:"header-right"},HE={class:"tag-manager-container"},VE="weilin_prompt_ui_",Bs="weilin-selection-box",jE=16,sm="weilin_prompt_ui_sidebar_visible",WE="weilin_prompt_ui_main_labels_v1",zE=50,qE=_t({__name:"prompt_index",props:{promptManager:{type:String,default:"prompt_global"},hasPromptLoraStack:{type:Boolean,default:!1}},setup(e,{expose:t}){const a=_(null),{t:n}=vt(),o=_(),s=_(),l=_({top:0,left:0}),r=_(0),u=e,d=_(null),c=_(""),f=_([]),m={},g=_(null),v=_(!1),y=_({top:"0px",left:"0px"}),b=_(!1),x=_(null),L=_(null),U=_(null),S=_([]),R=_(!1),V=_(!1),j=_([]),H=_(0),q=_(null),_e=_(localStorage.getItem("weilin_prompt_ui_auto_box_width")||450),re=_(localStorage.getItem("weilin_prompt_ui_auto_box_height")||350),O=_(""),Y=_(!1),Z=_({x:0,y:0}),W=_({x:0,y:0}),ne=_([]),ae=_(null),F=_(!1),P=_(!1),J=_(!1),le=_({top:"0px",left:"0px"}),G=_(!1),ie=_(!1),oe=_(0),be=_(!1),ce=_({top:"0px",left:"0px"}),M=_(localStorage.getItem("weilin_prompt_ui_show_delete_button")!=="false"),Q=()=>{localStorage.setItem("weilin_prompt_ui_show_delete_button",String(M.value))},se=()=>{M.value=!M.value,Q()},D=I=>{I.key==="weilin_prompt_ui_show_delete_button"&&(M.value=I.newValue!=="false")};rt(()=>{window.addEventListener("storage",D),window.addEventListener("storage",xe)}),Rn(()=>{window.removeEventListener("storage",D),window.removeEventListener("storage",xe)});const ee=_(null),$=_(null),A=_(""),B=_(0),te=_(!0),he=_(localStorage.getItem("weilin_function_toggles_clearAll")!=="false"),we=_(localStorage.getItem("weilin_function_toggles_deleteButton")!=="false"),C=_(localStorage.getItem("weilin_function_toggles_randomTag")!=="false"),w=_(localStorage.getItem("weilin_function_toggles_randomTagSettings")!=="false"),N=_(localStorage.getItem("weilin_function_toggles_translateTag")!=="false"),z=_(localStorage.getItem("weilin_function_toggles_clearDisabled")!=="false");Xe([he,we,C,w,N,z],([I,E,ue,me,Ne,Te])=>{localStorage.setItem("weilin_function_toggles_clearAll",String(I)),localStorage.setItem("weilin_function_toggles_deleteButton",String(E)),localStorage.setItem("weilin_function_toggles_randomTag",String(ue)),localStorage.setItem("weilin_function_toggles_randomTagSettings",String(me)),localStorage.setItem("weilin_function_toggles_translateTag",String(Ne)),localStorage.setItem("weilin_function_toggles_clearDisabled",String(Te))});const xe=I=>{I.key==="weilin_function_toggles_clearAll"?he.value=I.newValue!=="false":I.key==="weilin_function_toggles_deleteButton"?we.value=I.newValue!=="false":I.key==="weilin_function_toggles_randomTag"?C.value=I.newValue!=="false":I.key==="weilin_function_toggles_randomTagSettings"?w.value=I.newValue!=="false":I.key==="weilin_function_toggles_translateTag"?N.value=I.newValue!=="false":I.key==="weilin_function_toggles_clearDisabled"&&(z.value=I.newValue!=="false")},ye=()=>{te.value=!te.value};Xe(te,I=>{localStorage.setItem(sm,String(I))}),rt(()=>{const I=localStorage.getItem(sm);te.value=I!=="false"});const X=()=>(B.value++,`token_${B.value}_${Date.now()}`),de=()=>{R.value=!R.value},Oe=()=>{R.value=!1},Pe=_(null),Fe=_(null),Qe=_(!1),st=`weilin_prompt_ui_last_main_label_id_${u.promptManager||"default"}`,yt=et(()=>{const I=te.value?280:0;return`calc(100% - ${(R.value?300:0)+I}px)`});let Rt=!1;const Wn=I=>{if(!I){Fe.value=null,c.value="",Ge(()=>{s.value&&(s.value.value="",Co({target:s.value}))}),Qe.value=!1;return}Fe.value=I.id,Rt=!0,c.value=I.content||"",Ge(()=>{s.value&&(s.value.value=c.value,Co({target:s.value}))}),Qe.value=!1};Xe(c,I=>{if(Rt){Rt=!1;return}Qe.value=!0}),Xe(f,()=>{Rt||(Qe.value=!0)},{deep:!0}),Xe(Fe,I=>{try{localStorage.setItem(st,I||"")}catch{}});function Qo(){try{const I=localStorage.getItem(st);if(!I)return;const E=localStorage.getItem(WE),ue=E?JSON.parse(E):[],me=Array.isArray(ue)?ue.find(Ne=>Ne&&Ne.id===I):null;if(!me)return;Fe.value=I,Rt=!0,c.value=me.content||"",Ge(()=>{s.value&&(s.value.value=c.value,Co({target:s.value})),Rt=!1}),Qe.value=!1}catch{}}rt(()=>{Qo();const I=()=>{try{localStorage.setItem(st,Fe.value||"")}catch{}};window.addEventListener("beforeunload",I),Oo(()=>window.removeEventListener("beforeunload",I))});function Qt(){var I;Fe.value&&(I=Pe.value)!=null&&I.updateSelectedContent&&(Pe.value.updateSelectedContent(c.value),Qe.value=!1,ko())}const Jt=_(!1);let Dn=null;function ko(){Jt.value=!0,Dn&&clearTimeout(Dn),Dn=setTimeout(()=>{Jt.value=!1},1600)}Oo(()=>{Dn&&clearTimeout(Dn)});const Us=()=>{x.value.open()},Ft=_(1),fa=()=>{if(g.value===null)return;let E=f.value[g.value].text;if(!wu(E)){K({type:"warn",str:"message.noFinishKuo"});return}const ue=$e=>$e.startsWith("(")&&$e.endsWith(")")&&!$e.slice(1,-1).includes("(")&&!$e.slice(1,-1).includes(")")&&!$e.slice(1,-1).includes("[")&&!$e.slice(1,-1).includes("]")&&!$e.slice(1,-1).includes("{")&&!$e.slice(1,-1).includes("}")&&!$e.slice(1,-1).includes("<")&&!$e.slice(1,-1).includes(">");let me=E;const Ne=/:(-?\d+(\.\d+)?)$/.test(E),Te=E.match(/^\((.*?):(-?\d+(\.\d+)?)\)$/);if(Ne||Te)Ft.value===1?E.startsWith("(")&&E.endsWith(")")?me=E.slice(1,-1).replace(/:(\d+(\.\d+)?)$/,""):me=E.replace(/:(\d+(\.\d+)?)$/,""):Te?me=`(${Te[1]}:${Ft.value})`:me=E.replace(/:(-?\d+(\.\d+)?)$/,`:${Ft.value}`);else{const $e=E.match(/^([^_]+)_(\([^)]+\))$/);if($e&&!E.includes("\\(")&&!E.includes("\\)")){const[,Re,nt]=$e;Ft.value===1?me=E:me=`(${Re} ${nt}:${Ft.value})`}else E.includes("\\(")&&E.includes("\\)")&&!/[\(\)\[\]\{\}<>]/.test(E.replace(/\\[\(\)\[\]\{\}<>]/g,""))?Ft.value===1?me=E:E.startsWith("(")&&E.endsWith(")")?me=E.replace(/\)$/,`:${Ft.value})`):me=`(${E}:${Ft.value})`:/[\(\[\{\<\)\]\}\>]/.test(E)?Ft.value===1&&ue(E)?me=E.slice(1,-1):Ft.value===1?me=E:E.startsWith("(")&&E.endsWith(")")?me=E.replace(/\)$/,`:${Ft.value})`):me=`(${E}:${Ft.value})`:Ft.value===1?me=E:me=`(${E}:${Ft.value})`}f.value[g.value].text=me,$n()},Be=_(.5),Ce=_(.5);Xe(g,I=>{var E;if(I!==null&&((E=f.value[I])!=null&&E.isLoraTag)){const me=f.value[I].text.match(/<wlr:([^:]+):([^:]+):([^>]+)>/);me&&(Be.value=parseFloat(me[2]),Ce.value=parseFloat(me[3]))}});const Ee=()=>{var I;if(g.value!==null&&((I=f.value[g.value])!=null&&I.isLoraTag)){const E=f.value[g.value],ue=E.text.match(/<wlr:([^:]+):([^:]+):([^>]+)>/);if(ue){const Ne=`<wlr:${ue[1]}:${Be.value}:${Ce.value}>`;E.text=Ne,$n()}}},Ct=I=>{if(g.value===null)return;let ue=f.value[g.value].text;const me={"(":")","[":"]","{":"}","<":">"}[I];ue=`${I}${ue}${me}`,f.value[g.value].text=ue,Pn()},Sn=I=>{if(g.value===null)return;let ue=f.value[g.value].text;const me={"(":")","[":"]","{":"}","<":">"};ue.startsWith(I)&&ue.endsWith(me[I])&&(ue=ue.slice(1,-1),f.value[g.value].text=ue,Pn())},wu=I=>{const E=[],ue={"(":")","[":"]","{":"}","<":">"};for(let me of I)if(ue[me])E.push(me);else if(Object.values(ue).includes(me)&&(E.length===0||ue[E.pop()]!==me))return!1;return E.length===0};Ac(()=>{for(const I in m)delete m[I]}),_(!0),_(!1);const xu=I=>/[\p{L}]/u.test(I),Hs=I=>{const E=I.match(/([^:]+):[\d.]+/);return E?E[1]:I};let Ha=null;const Va=async()=>{Ha&&clearTimeout(Ha),Ha=setTimeout(async()=>{if(!s.value)return;const I=s.value,E=I.selectionStart;await Ge();const ue=I.value.substring(0,E),me=document.createElement("div");me.style.position="absolute",me.style.top="0",me.style.left="0",me.style.visibility="hidden",me.style.whiteSpace="pre-wrap",me.style.wordWrap="break-word",me.style.width=window.getComputedStyle(I).width,me.style.font=window.getComputedStyle(I).font,me.style.padding=window.getComputedStyle(I).padding;const Ne=document.createTextNode(ue),Te=document.createElement("span");Te.textContent="|",me.appendChild(Ne),me.appendChild(Te),I.parentNode.appendChild(me);const $e=Te.getBoundingClientRect(),Re=I.parentNode.getBoundingClientRect();let nt=$e.top-Re.top+$e.height,pt=$e.left-Re.left;if(await Ge(),o.value){const It=o.value.offsetWidth,Gn=I.offsetWidth,Xt=I.getBoundingClientRect().left-Re.left;pt+It>Xt+Gn&&(pt=Xt+Gn-It),pt<Xt&&(pt=Xt),pt=Math.max(0,Math.min(pt,Re.width-It))}I.parentNode.removeChild(me),l.value={top:nt,left:pt},Ha=null},50)},gr=_(null),Co=I=>{if(!(I!=null&&I.target)||!s.value)return;const E=I.target.value,ue=I.target.selectionStart,me=I.target.selectionEnd,Ne={comma:{enabled:localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false",pattern://g,replace:","},period:{enabled:localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false",pattern://g,replace:"."},bracket:{enabled:localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false",patterns:[{pattern://g,replace:"["},{pattern://g,replace:"]"},{pattern://g,replace:"("},{pattern://g,replace:")"}]},angleBracket:{enabled:localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false",patterns:[{pattern://g,replace:"<"},{pattern://g,replace:">"}]}};let Te=E.substring(0,ue),$e=E;Object.values(Ne).forEach(Ze=>{Ze.enabled&&(Ze.pattern?(Te=Te.replace(Ze.pattern,Ze.replace),$e=$e.replace(Ze.pattern,Ze.replace)):Ze.patterns&&Ze.patterns.forEach(({pattern:Et,replace:xt})=>{Te=Te.replace(Et,xt),$e=$e.replace(Et,xt)}))}),c.value=$e;const Re=Te.length,nt=me-ue,pt=Re+nt;Ge(()=>{s.value&&(s.value.setSelectionRange(Re,pt),s.value.focus())});const It=$e.substring(0,Re),Gn=localStorage.getItem("weilin_prompt_ui_comma_close_autocomplete")==="true",Xt=Re>0?It[Re-1]:"";if((Xt===","||Xt===" ")&&Gn){V.value=!1,ee.value&&clearTimeout(ee.value),ee.value=setTimeout(()=>{var Qs;const Ze=((Qs=s.value)==null?void 0:Qs.selectionStart)||0,xt=(c.value||"").substring(0,Ze);let dn=Ze;for(;dn>0&&!/[,\s]/.test(xt[dn-1]);)dn--;const Gs=xt.substring(dn,Ze).trim();Gs&&xm(Gs),pa()},300),r.value=ja(c.value);return}let gt=Re;for(;gt>0&&!/[,\s]/.test(It[gt-1]);)gt--;const ot=It.substring(gt,Re).trim();ee.value&&clearTimeout(ee.value),ee.value=setTimeout(()=>{ot&&xm(ot),pa()},300),r.value=ja(c.value)},ja=I=>I?I.trim().split(/\s+/).length:0,Yt=async()=>{let I=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",E=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",ue=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",me=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true";localStorage.getItem("weilin_prompt_ui_underscore_to_bracket"),localStorage.getItem("weilin_prompt_ui_comma_conversion")||(localStorage.setItem("weilin_prompt_ui_comma_conversion","true"),I=!0),localStorage.getItem("weilin_prompt_ui_period_conversion")||(localStorage.setItem("weilin_prompt_ui_period_conversion","true"),E=!0),localStorage.getItem("weilin_prompt_ui_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_bracket_conversion","true"),ue=!0),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion","true"),me=!0),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")||localStorage.setItem("weilin_prompt_ui_underscore_to_bracket","false"),I&&(c.value=c.value.replace(//g,",")),E&&(c.value=c.value.replace(//g,".")),ue&&(c.value=c.value.replace(//g,"[").replace(//g,"]").replace(//g,"(").replace(//g,")")),me&&(c.value=c.value.replace(//g,"<").replace(//g,">"));const Ne=c.value;let Te=[];const $e=f.value.map((lt,gt)=>({token:lt,originalIndex:gt,currentIndex:gt})).filter(({token:lt})=>lt.isHidden);Te=((lt,gt=0)=>{let ot=[],Ze=gt,Et="",xt=[];for(;Ze<lt.length;){const dn=lt[Ze];if(dn===`
`){Et.trim()&&(ot.push(Et.trim()),Et=""),ot.push(`
`),Ze++;continue}xt.length===0&&dn===","?(Et.trim()&&ot.push(Et.trim()),Et=""):Et+=dn,Ze++}return Et.trim()&&(xt.length===0?ot.push(...Et.split(",").filter(Boolean).map(dn=>dn.trim())):ot.push(Et.trim())),ot})(Ne);const nt=new Map;f.value.forEach((lt,gt)=>{lt.id||(lt.id=X()),nt.set(gt,lt)});const pt=[];Te.forEach(lt=>{if(lt===`
`)pt.push({id:X(),text:`
`,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""});else if(lt.trim()){const gt=lt.trim(),ot=/^<wlr:[^:]+:\d+(\.\d+)?:\d+(\.\d+)?>$/.test(gt);let Ze=!1;for(const[Et,xt]of nt)if(xt.text===gt&&!xt.isHidden&&!pt.includes(xt)){ot&&!xt.isLoraTag&&(xt.isLoraTag=!0),pt.push(xt),nt.delete(Et),Ze=!0;break}if(!Ze){for(const[Et,xt]of nt)if(xt.text===gt&&!pt.includes(xt)){ot&&!xt.isLoraTag&&(xt.isLoraTag=!0),pt.push(xt),nt.delete(Et),Ze=!0;break}}Ze||pt.push({id:X(),text:gt,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:"",isLoraTag:ot})}});const It=new Set;$e.forEach(({token:lt,originalIndex:gt})=>{if(It.has(lt.id)||(It.add(lt.id),pt.some(Et=>Et.id===lt.id)))return;let Ze=gt;for(;Ze>pt.length;)Ze--;Ze<0?pt.push(lt):pt.splice(Ze,0,lt)}),f.value=pt,c.value=f.value.length>0?f.value.reduce((lt,gt,ot)=>{var Qs,Lm;if(gt.isHidden)return lt;if(gt.text===`
`){const Lo=Qa(ot);return Lo!==-1&&f.value[Lo],lt+gt.text}if(lt===""){let Lo=ot+1;for(;Lo<f.value.length&&((Qs=f.value[Lo])!=null&&Qs.isHidden);)Lo++;const SM=Lo>=f.value.length,$m=Lo<f.value.length?f.value[Lo]:null,kM=SM||$m&&$m.text===`
`;return gt.text+(kM?",":"")}let Ze=ot+1;for(;Ze<f.value.length&&((Lm=f.value[Ze])!=null&&Lm.isHidden);)Ze++;const Et=Ze>=f.value.length,xt=Ze<f.value.length?f.value[Ze]:null,dn=xt&&xt.text===`
`||Et,Gs=Qa(ot);return Gs!==-1&&f.value[Gs].text===`
`?lt+gt.text+(dn?",":""):lt+", "+gt.text+(dn?",":"")},""):"",$.value&&clearTimeout($.value),$.value=setTimeout(()=>{Pn()},1e3),pa();const Gn=20;let Xt=0;for(;Xt<f.value.length;){const lt=Math.min(Xt+Gn,f.value.length),gt=[];for(let ot=Xt;ot<lt;ot++)if(f.value[ot].text.length>0&&!f.value[ot].translate){let Ze=f.value[ot].text;const Et=Hs(Ze.trim());gt.push(mn.getTranslateLocal(Et).then(xt=>{const dn=xt;f.value[ot].translate=dn.translated.translate,f.value[ot].color=dn.translated.color}))}await Promise.all(gt),Xt=lt}r.value=ja(c.value)},mr=async()=>{let E=0;const ue=20;for(;E<f.value.length;){let me=[],Ne=[],Te=0;for(let $e=E;$e<f.value.length;$e++){const Re=f.value[$e];if(Re.translate&&/[a-zA-Z]/.test(Re.translate)&&!(typeof Re.text=="string"&&Re.text.startsWith("<wlr"))){const nt=Re.text;if(nt.length>ue){const It=JSON.stringify([{index:Re.id,text:nt,translate:""}]);await Vs(It,[Re.id]),E=$e+1;break}else me.push({index:Re.id,text:nt,translate:""}),Ne.push(Re.id),Te++}if(Te===2)break}if(me.length>0){const $e=JSON.stringify(me);await Vs($e)}E+=Te>0?Te:1}},Vs=async(I,E)=>{let ue=0;for(;ue<2;)try{const me=await mn.translaterText(I,"");if(me&&me.data){const Ne=JSON.parse(me.data);for(let Te=0;Te<Ne.length;Te++){const $e=Ne[Te],Re=f.value.findIndex(nt=>nt.id===$e.index);Re!==-1&&(f.value[Re].translate=$e.translate)}return!0}return!1}catch{if(ue++,ue>=2)return!1}return!1},Eo=_(""),Pn=()=>{const I=c.value.replace(/[\s\t\n]+/g,"");if(S.value.length>0){if(I.length>0){const E=S.value.filter(Ne=>!Ne.hidden);let ue={prompt:c.value,lora:"",temp_prompt:f.value,temp_lora:S.value};E.length>0&&(ue.lora=E);const me=JSON.stringify(ue);Eo.value!=me&&(Eo.value=me,jn.saveHistory({tag:me}))}}else if(Eo.value!=c.value){const E={prompt:c.value,lora:"",temp_prompt:f.value,temp_lora:""},ue=JSON.stringify(E);I.length>0&&jn.saveHistory({tag:ue})}pa(),Rt||(Qe.value=!0)},pa=()=>{if(S.value.length>0){Eo.value=c.value;const I=S.value.filter(me=>!me.hidden);let E={prompt:c.value,lora:"",temp_prompt:f.value,temp_lora:S.value};I.length>0&&(E.lora=I);const ue=JSON.stringify(E);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:ue},"*")}else{Eo.value=c.value;const I={prompt:c.value,lora:"",temp_prompt:f.value,temp_lora:""},E=JSON.stringify(I);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:E},"*")}},js=(I,E)=>{if(F.value)return;lo.value&&(clearTimeout(lo.value),lo.value=null);const ue=E.target.getBoundingClientRect();y.value={top:`${ue.top-50}px`,left:`${ue.left+ue.width/2}px`},g.value=I;const me=f.value[I].text;Ft.value=hr(me),ce.value={top:`${ue.bottom+window.scrollY+ue.height+10}px`,left:`${ue.left+ue.width/2}px`},f.value[I].isLoraTag||(be.value=!0)},hr=I=>{const E=[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"<",close:">"}];for(const me of E)if(I.startsWith(me.open)&&I.endsWith(me.close))return hr(I.slice(1,-1));const ue=I.match(/:(\d+(\.\d+)?)$/);return ue?parseFloat(ue[1]):1},lo=_(null),Wa=I=>{lo.value&&clearTimeout(lo.value),lo.value=setTimeout(()=>{v.value||Tu(),lo.value=null},100),be.value=!1},Ws=()=>{v.value=!1,Wa(g.value),setTimeout(()=>{v.value||(F.value=!1)},100)},Tu=()=>{v.value||(g.value=null)},Su=()=>{if(g.value!==null){const I=g.value;_r(I),g.value=null,v.value=!1}},vr=()=>{if(g.value!==null){const I=g.value;f.value.splice(I+1,0,{id:X(),text:`
`,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),$n()}},_r=I=>{const E=c.value;let ue=f.value[I],me=0,Ne=-1;for(let Te=0;Te<I;Te++){let $e=E.indexOf(f.value[Te].text,me);$e!==-1&&(me=$e+f.value[Te].text.length)}if(ue.text===`
`||ue.text==="	"){for(let Te=me;Te<E.length;Te++)if(E[Te]===ue.text){Ne=Te;break}}else Ne=E.indexOf(ue.text,me);if(Ne!==-1){const Te=ue.text===`
`?" ":"",$e=E.substring(0,Ne)+Te+E.substring(Ne+ue.text.length);c.value=$e}f.value.splice(I,1),c.value=f.value.length>0?f.value.reduce((Te,$e,Re)=>{var lt,gt;if($e.isHidden)return Te;if($e.text===`
`){const ot=Qa(Re);return ot!==-1&&f.value[ot],Te+$e.text}if(Te===""){let ot=Re+1;for(;ot<f.value.length&&((lt=f.value[ot])!=null&&lt.isHidden);)ot++;const Ze=ot>=f.value.length,Et=ot<f.value.length?f.value[ot]:null,xt=Ze||Et&&Et.text===`
`;return $e.text+(xt?",":"")}let nt=Re+1;for(;nt<f.value.length&&((gt=f.value[nt])!=null&&gt.isHidden);)nt++;const pt=nt>=f.value.length,It=nt<f.value.length?f.value[nt]:null,Gn=It&&It.text===`
`||pt,Xt=Qa(Re);return Xt!==-1&&f.value[Xt].text===`
`?Te+$e.text+(Gn?",":""):Te+", "+$e.text+(Gn?",":"")},""):"",Pn(),Qe.value=!0},ge=(I,E)=>{const ue=c.value;let me=0,Ne=-1;for(let $e=0;$e<I;$e++){let Re=ue.indexOf(f.value[$e].text,me);Re!==-1&&(me=Re+f.value[$e].text.length)}const Te=f.value[I].text;if(Ne=ue.indexOf(Te,me),Ne!==-1){const $e=E.target.value,Re=ue.substring(0,Ne)+$e+ue.substring(Ne+Te.length);c.value=Re,f.value[I]={...f.value[I],text:$e},Pn()}},pe=I=>{f.value[I].isPunctuation||(f.value[I].isEditing=!0,setTimeout(()=>{const E=m[I];if(E){E.focus();const ue=E.value.length;E.setSelectionRange(ue,ue),Se(E),E.addEventListener("input",()=>Se(E)),Pn(),Qe.value=!0}}))},Se=I=>{const E=document.createElement("span");E.style.visibility="hidden",E.style.position="absolute",E.style.whiteSpace="pre";const ue=window.getComputedStyle(I);E.style.font=ue.font,E.style.fontSize=ue.fontSize,E.style.fontFamily=ue.fontFamily,E.style.padding=ue.padding,E.style.border=ue.border,E.textContent=I.value||I.placeholder||"",document.body.appendChild(E);const me=E.offsetWidth;I.style.width=`${Math.max(me+4,20)}px`,document.body.removeChild(E)},Ye=I=>{f.value[I].isEditing=!1};Xe(f,I=>{$n()},{deep:!0}),Xe(S,I=>{Pn(),Qe.value=!0},{deep:!0});const Bt=()=>{b.value=!b.value,b.value&&Ge(()=>{var E;const I=L.value.getBoundingClientRect();(E=U.value)==null||E.setPosition(I)})},Kt=()=>{b.value=!1},it=I=>{var E,ue;L.value&&!L.value.contains(I.target)&&U.value&&!U.value.$el.contains(I.target)&&Kt(),(E=o.value)!=null&&E.contains&&((ue=s.value)!=null&&ue.contains)&&!o.value.contains(I.target)&&!s.value.contains(I.target)&&(V.value=!1)},Ut=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openTagManager_prompt"},"*")},yr=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openLoraManager"},"*")},zn=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openHistoryManager"},"*")},za=_(!0),zI=()=>{za.value=!za.value},br=_(!1),qI=()=>{br.value=!br.value};_(null);const GI=()=>{const I=s.value;I&&(I.addEventListener("keyup",qa),I.addEventListener("click",qa),I.addEventListener("input",qa))},qa=()=>{V.value&&Va()},gm=()=>{if(s.value){const I=s.value.style.height||`${s.value.offsetHeight}px`;localStorage.setItem("weilinPromptTextAreaHeight",I)}},QI=()=>{const I=localStorage.getItem("weilinPromptTextAreaHeight");I&&s.value&&(s.value.style.height=I)};rt(()=>{document.addEventListener("click",it),window.addEventListener("message",ym),bm(),GI(),Ge(()=>{QI()}),setTimeout(()=>{ae.value||(ae.value=document.querySelector(".tokens-container")),ae.value?(ae.value.removeEventListener("mousedown",wr),ae.value.removeEventListener("mousemove",xr),ae.value.removeEventListener("mouseup",Yo),ae.value.removeEventListener("mouseleave",Yo),ae.value.addEventListener("mousedown",wr),ae.value.addEventListener("mousemove",xr),ae.value.addEventListener("mouseup",Yo),ae.value.addEventListener("mouseleave",Yo),ae.value.style.userSelect="none",ae.value.style.cursor="default",console.log("")):console.warn("tokens-container")},100)}),Oo(()=>{ae.value&&(ae.value.removeEventListener("mousedown",wr),ae.value.removeEventListener("mousemove",xr),ae.value.removeEventListener("mouseup",Yo),ae.value.removeEventListener("mouseleave",Yo)),Tr()});const wr=I=>{if(I.button===0&&!I.ctrlKey&&!I.metaKey){const E=I.target.closest(".token-item-box, .token-item, .lora-tag-icon, .newline-token, .tab-token, .delete-btn, .weight-control, .bracket-btn, .translate-button, .tag-tips-box, .token-controls"),ue=ae.value;if(ue&&!E){P.value=!1,Y.value=!1,G.value=!1,ie.value=!1,zs(),Tr();const me=ue.getBoundingClientRect();Z.value={x:Math.max(I.clientX,me.left),y:Math.max(I.clientY,me.top)},W.value={x:Math.max(I.clientX,me.left),y:Math.max(I.clientY,me.top)},P.value=!0,console.log("")}}},xr=I=>{if(P.value&&ae.value&&!Y.value&&Math.sqrt(Math.pow(I.clientX-Z.value.x,2)+Math.pow(I.clientY-Z.value.y,2))>3&&(I.preventDefault(),I.stopPropagation(),Y.value=!0,F.value=!0,ne.value=[],mm(),console.log("")),Y.value&&ae.value){I.preventDefault(),I.stopPropagation();const E=ae.value.getBoundingClientRect();W.value={x:Math.min(Math.max(I.clientX,E.left),E.right),y:Math.min(Math.max(I.clientY,E.top),E.bottom)};const ue=5;Math.abs(W.value.x-Z.value.x)<ue&&(W.value.x=Z.value.x+ue),Math.abs(W.value.y-Z.value.y)<ue&&(W.value.y=Z.value.y+ue),(!G.value||Date.now()-oe.value>100)&&(G.value=!0,requestAnimationFrame(()=>{hm(),G.value=!1}));const me=Date.now();!ie.value&&me-oe.value>jE&&(oe.value=me,ie.value=!0,requestAnimationFrame(()=>{YI(),ie.value=!1}))}},Yo=()=>{if(P.value=!1,Y.value){const I=ne.value.length;Y.value=!1,F.value=!1,G.value=!1,ie.value=!1,Tr(),I>0&&KI()}},mm=()=>{try{let I=document.getElementById(Bs);I&&document.body.removeChild(I),I=document.createElement("div"),I.id=Bs,I.style.cssText=`
      position: fixed;
      background-color: rgba(66, 133, 244, 0.4);
      border: 2px dashed #4285f4;
      box-shadow: 0 0 12px rgba(66, 133, 244, 0.6);
      pointer-events: none;
      z-index: 99999;
      transition: none;
      opacity: 1;
      display: block;
    `,document.body.appendChild(I),console.log(""),hm()}catch(I){console.error(":",I),G.value=!1}},hm=()=>{try{let I=document.getElementById(Bs);if(!I&&Y.value&&(mm(),I=document.getElementById(Bs),!I))return;const E=Math.min(Z.value.x,W.value.x),ue=Math.min(Z.value.y,W.value.y),me=Math.abs(W.value.x-Z.value.x),Ne=Math.abs(W.value.y-Z.value.y),Te=5,$e=Math.max(me,Te),Re=Math.max(Ne,Te);I&&(I.style.left=`${E}px`,I.style.top=`${ue}px`,I.style.width=`${$e}px`,I.style.height=`${Re}px`)}catch(I){console.error(":",I),G.value=!1}},Tr=()=>{try{const I=document.getElementById(Bs);I&&document.body.removeChild(I)}catch(I){console.error(":",I)}},YI=()=>{ne.value=[];const I=Math.min(Z.value.x,W.value.x),E=Math.min(Z.value.y,W.value.y),ue=Math.max(Z.value.x,W.value.x),me=Math.max(Z.value.y,W.value.y);document.querySelectorAll(".token-item-box").forEach((Te,$e)=>{if(!Te.querySelector(".token-item, .lora-tag-icon, .newline-token, .tab-token"))return;const nt=Te.getBoundingClientRect();nt.right>=I&&nt.left<=ue&&nt.bottom>=E&&nt.top<=me&&ne.value.push($e)}),vm()},vm=()=>{const I=document.querySelectorAll(".token-item-box"),E=[],ue=[];I.forEach((me,Ne)=>{ne.value.includes(Ne)?E.push(me):ue.push(me)}),E.forEach(me=>{me.classList.add("token-item-box-selected")}),ue.forEach(me=>{me.classList.remove("token-item-box-selected"),me.style.border="",me.style.boxShadow="",me.style.backgroundColor=me.dataset.originalBgColor||""})},KI=()=>{if(ne.value.length>0){const I=Math.min(Z.value.x,W.value.x),E=Math.min(Z.value.y,W.value.y),ue=Math.max(Z.value.x,W.value.x);Math.max(Z.value.y,W.value.y),le.value={top:`${E-50}px`,left:`${(I+ue)/2}px`},J.value=!0,setTimeout(()=>{document.addEventListener("click",ku)},0)}},JI=()=>{if(ne.value.length===0)return;const ue=[...ne.value].sort((me,Ne)=>me-Ne).map(me=>f.value[me].text).join(", ");navigator.clipboard.writeText(ue).then(()=>{const me=document.createElement("div");me.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #4caf50;
      color: white;
      padding: 10px 15px;
      border-radius: 4px;
      z-index: 999999;
    `,me.textContent="",document.body.appendChild(me),setTimeout(()=>{document.body.removeChild(me)},2e3)}),zs()},XI=()=>{ne.value.length!==0&&(ne.value.forEach(I=>{f.value[I]&&!f.value[I].isHidden&&(f.value[I].isHidden=!0,f.value[I].hiddenHint=n("promptBox.hiddenHint"))}),$n(),Pn(),zs())},ZI=()=>{ne.value.length!==0&&(ne.value.forEach(I=>{f.value[I]&&f.value[I].isHidden&&(f.value[I].isHidden=!1,f.value[I].hiddenHint="")}),$n(),Pn(),zs())},eM=()=>{ne.value.length>0&&(confirm(` ${ne.value.length} `)?tM():Sr())},zs=()=>{J.value=!1,document.removeEventListener("click",ku),Sr()},ku=I=>{const E=document.querySelector(".token-controls");E&&!E.contains(I.target)&&zs()},tM=()=>{if(ne.value.length===0)return;[...ne.value].sort((E,ue)=>ue-E).forEach(E=>{f.value.splice(E,1)}),$n(),Pn(),Sr()},Sr=()=>{document.querySelectorAll(".token-item-box-selected").forEach(E=>{E.classList.remove("token-item-box-selected"),E.style.border="",E.style.boxShadow="",E.style.backgroundColor=E.dataset.originalBgColor||""}),ne.value=[],J.value&&(J.value=!1,document.removeEventListener("click",ku))},_m=I=>{if(ne.value.length===0)return;const E=I.target.closest(".token-item-box, .token-item, .token-controls, .delete-btn, .weight-control, .bracket-btn, .translate-button, .tag-tips-box"),ue=ae.value;(I.target===s.value||!E&&(!ue||!ue.contains(I.target)))&&Sr()};rt(()=>{document.addEventListener("click",_m)}),Rn(()=>{document.removeEventListener("click",it),document.removeEventListener("click",_m),gr.value&&clearTimeout(gr.value),window.removeEventListener("message",ym);const I=s.value;I&&(I.removeEventListener("keyup",qa),I.removeEventListener("click",qa),I.removeEventListener("input",qa)),ae.value&&(ae.value.removeEventListener("mousedown",wr),ae.value.removeEventListener("mousemove",xr),ae.value.removeEventListener("mouseup",Yo),ae.value.removeEventListener("mouseleave",Yo)),Tr()});const ym=I=>{if(I.data.type==="weilin_prompt_ui_insertTag"){const E=c.value,ue=I.data.tagText;E===""?c.value=ue:(E.endsWith(" "),c.value=E+", "+ue+","),A.value=c.value,Yt()}else if(I.data.type==="weilin_prompt_ui_user_history_tag"){const E=I.data.tagText;Eo.value=E,Cm(E)}else if(I.data.type!=="weilin_prompt_ui_refresh_all_data"){if(I.data.type==="weilin_prompt_ui_translate_setting")bm();else if(I.data.type==="weilin_prompt_ui_selectLora"){if(I.data.lora.loraWorks!=null&&I.data.lora.loraWorks.length>0){const E=c.value,ue=I.data.lora.loraWorks;E===""?c.value=ue:(E.endsWith(" "),c.value=E+", "+ue+","),A.value=c.value,Yt()}}else if(I.data.type==="weilin_prompt_ui_prompt_inner_get_node_tag_template_id_go_random_response")yM(I.data.data);else if(I.data.type==="weilin_prompt_ui_addLoraTag_inner")if(I.data.lora.loraWorks!=null&&I.data.lora.loraWorks.length>0){const E=c.value,ue=I.data.lora.tag+(I.data.lora.loraWorks===""?"":", "+I.data.lora.loraWorks);E===""?c.value=ue:(E.endsWith(" "),c.value=E+", "+ue+","),A.value=c.value,Yt()}else{const E=c.value,ue=I.data.lora.tag;E===""?c.value=ue:(E.endsWith(" "),c.value=E+", "+ue+","),A.value=c.value,Yt()}}},bm=async()=>{const I=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",E=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified";localStorage.getItem("weilin_prompt_ui_sourceLanguage")||localStorage.setItem("weilin_prompt_ui_sourceLanguage",I),localStorage.getItem("weilin_prompt_ui_targetLanguage")||localStorage.setItem("weilin_prompt_ui_targetLanguage",E),I!=="auto"&&Fs.language.setLocal(I),Fs.language.setDefaultTo(E),await Ge()},nM=(I,E)=>{if(localStorage.getItem("weilin_prompt_ui_translater_setting")=="network")Fs.request.translateText(I,function(ue){if(ue.result>0){const me=ue.text.map(Ne=>Ne.replace(/[\[\]]/g,"")).join(", ");E.translate=me}});else{let ue={index:E.id,text:E.text,translate:""};const me=JSON.stringify(ue);mn.translaterText(me,"").then(Ne=>{if(Ne&&Ne.data){const Te=JSON.parse(Ne.data);E.translate=Te.translate}})}},wm=()=>{if(localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"){var I={from:Fs.language.recognition(O.value).languageName,to:"english",texts:[O.value]};Fs.request.translateText(I,function(ue){if(ue.result>0){const me=ue.text.map(Ne=>Ne.replace(/[\[\]]/g,"")).join(", ");f.value.push({text:me,translate:O.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),O.value="",$n()}})}else{let E={text:O.value,translate:""};const ue=JSON.stringify(E);mn.translaterInputText(ue,"").then(me=>{if(me&&me.data){const Ne=JSON.parse(me.data);f.value.push({text:Ne.translate,translate:O.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),O.value="",$n()}})}},oM=()=>{setTimeout(()=>{V.value||(A.value=c.value,Yt())},100)},xm=I=>{let E=I.replace(/[\[\]{}]/g,"").trim();const me=Hs(E).trim();if(!me){V.value=!1;return}if(me.length>20){V.value=!1;return}try{const Ne=me.toLowerCase();Xi.getAutocomplete(String(Ne)).then(async Te=>{j.value=Te.data,await Va(),setTimeout(()=>{_e.value=localStorage.getItem("weilin_prompt_ui_auto_box_width")||450,re.value=localStorage.getItem("weilin_prompt_ui_auto_box_height")||350,V.value=j.value.length>0,H.value=0},50)})}catch(Ne){console.error("Autocomplete error:",Ne),V.value=!1}},aM=I=>{V.value&&(I.key==="ArrowDown"?(I.preventDefault(),H.value=Math.min(H.value+1,j.value.length-1),Tm()):I.key==="ArrowUp"?(I.preventDefault(),H.value=Math.max(H.value-1,0),Tm()):I.key==="Tab"||I.key==="Enter"?(I.preventDefault(),Sm(H.value,null)):I.key==="Escape"&&(I.preventDefault(),km()))},Tm=()=>{Ge(()=>{if(q.value&&o.value){const I=o.value,E=q.value,ue=I.getBoundingClientRect(),me=E.getBoundingClientRect(),Ne=me.top<ue.top,Te=me.bottom>ue.bottom;Ne?I.scrollTop=I.scrollTop+(me.top-ue.top):Te&&(I.scrollTop=I.scrollTop+(me.bottom-ue.bottom))}})},sM=et(()=>{if(!d.value)return{left:l.value.left};const I=d.value.offsetWidth;_e.value=localStorage.getItem("weilin_prompt_ui_auto_box_width")||450;const E=_e.value;let ue=l.value.left;return ue+E>I&&(ue=I-E),ue<0&&(ue=0),{left:ue}}),Sm=(I,E)=>{if(E&&(E.preventDefault(),E.stopPropagation()),!j.value[I])return;V.value=!1;const ue=s.value.selectionStart,me=s.value.selectionEnd,Ne=c.value;let Te=j.value[I].text;localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false"&&(Te=Te.replace(//g,",")),localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false"&&(Te=Te.replace(//g,".")),localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false"&&(Te=Te.replace(//g,"[").replace(//g,"]").replace(//g,"(").replace(//g,")")),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false"&&(Te=Te.replace(//g,"<").replace(//g,">")),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"&&(Te=Te.replace(/_/g," ")),localStorage.getItem("weilin_prompt_ui_bracket_escape")==="true"&&(Te=Te.replace(/\(([^)]+)\)/g,"\\($1\\)"));let $e=ue,Re=me;for(;$e>0&&!/[,\s]/.test(Ne[$e-1]);)$e--;for(;!1;)Re++;let nt=Ne.substring(0,$e)+Te+", "+Ne.substring(Re);const pt=$e+Te.length+2;c.value=nt,A.value=nt,Yt(),Ge(()=>{s.value&&(s.value.selectionStart=pt,s.value.selectionEnd=pt)})},km=()=>{V.value=!1},Cm=I=>{if(I.length>0)try{const E=JSON.parse(I);if(c.value=E.prompt,A.value=c.value,E.lora&&E.lora!=""&&(S.value=E.lora),E.temp_prompt&&E.temp_prompt!=""){const ue=E.temp_prompt;let me=!1;ue.tokens&&ue.tokens.length>0&&ue.tokens!=""&&(f.value=ue.tokens,me=!0),ue.lora&&ue.lora.length>0&&ue.lora!=""&&(S.value=ue.lora,me=!0),!me&&ue.length>0&&ue!=""&&(f.value=ue)}if(E.temp_lora&&E.temp_lora.length>0&&E.temp_lora!=""){const ue=E.temp_lora;S.value=ue}Yt()}catch{K({type:"warn",str:"promptBox.settings.errorPrompt"})}},kr=_(!1),qs=_(null),qn=_([]);let Ga=null,Ko=null;const lM=(I,E=!1)=>{kr.value=!0,qs.value=null,qn.value=[],E&&ne.value.length>1&&ne.value.includes(I)?qn.value=[...ne.value].sort((ue,me)=>ue-me):(ne.value=[],qs.value=I),Ko={originalTokens:[...f.value],draggedItems:qn.value.length>0?qn.value.map(ue=>f.value[ue]):[f.value[I]]}},rM=(I,E)=>{if(F.value){E.preventDefault();return}lM(I,!0),E.dataTransfer.effectAllowed="move"},iM=(I,E,ue)=>{const me=E.filter($e=>$e<ue).length;let Ne=Math.max(0,ue-me);const Te=I.length-E.length;return Ne=Math.min(Ne,Te),Ne},Em=I=>{if(!Ko)return;const E=[...Ko.originalTokens],ue=qn.value.length>0?qn.value:[qs.value],me=ue.map(Te=>Ko.originalTokens[Te]);for(let Te=ue.length-1;Te>=0;Te--){const $e=ue[Te];$e<E.length&&E.splice($e,1)}const Ne=iM(Ko.originalTokens,ue,I);if(Ko.draggedItems.forEach((Te,$e)=>{E.splice(Ne+$e,0,Te)}),f.value=E,$n(),qn.value.length>0&&ne.value.length>0){const Te=[];for(let $e=0;$e<E.length;$e++){const Re=E[$e];me.some(nt=>nt.text===Re.text)&&Te.push($e)}ne.value=Te,setTimeout(()=>{vm()},0)}},uM=(I,E)=>{if(F.value){E.preventDefault();return}E.preventDefault(),kr.value&&(I<0||I>=f.value.length||qn.value.length>0&&qn.value.includes(I)||qn.value.length===0&&qs.value===I||(Ga&&clearTimeout(Ga),Ga=setTimeout(()=>{Em(I)},zE)))},cM=(I,E)=>{E.preventDefault(),Ga&&(clearTimeout(Ga),Ga=null),kr.value&&Ko&&Em(I),kr.value=!1,qs.value=null,qn.value=[],Ko=null},$n=()=>{c.value=f.value.length>0?f.value.reduce((I,E,ue)=>{var nt,pt;if(E.isHidden)return I;if(E.text===`
`){const It=Qa(ue);return It!==-1&&f.value[It],I+E.text}if(I===""){let It=ue+1;for(;It<f.value.length&&((nt=f.value[It])!=null&&nt.isHidden);)It++;const Gn=It>=f.value.length,Xt=It<f.value.length?f.value[It]:null,lt=Gn||Xt&&Xt.text===`
`;return E.text+(lt?",":"")}let me=ue+1;for(;me<f.value.length&&((pt=f.value[me])!=null&&pt.isHidden);)me++;const Ne=me>=f.value.length,Te=me<f.value.length?f.value[me]:null,$e=Te&&Te.text===`
`||Ne,Re=Qa(ue);return Re!==-1&&f.value[Re].text===`
`?I+E.text+($e?",":""):I+", "+E.text+($e?",":"")},""):"",pa(),Rt||(Qe.value=!0)},dM=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*")},fM=()=>{window.open("https://github.com/weilin9999/WeiLin-Comfyui-Tools","_blank")},pM=()=>{window.parent.postMessage({type:"weilin_prompt_ui_open_cloud_window"},"*")},gM=()=>{window.parent.postMessage({type:"weilin_prompt_ui_open_danbooru_manager_window"},"*")},mM=()=>{window.open("https://afdian.com/a/weilin9999","_blank")},Qa=I=>{for(let E=I-1;E>=0;E--)if(!f.value[E].isHidden)return E;return-1},hM=I=>{if(I>=0&&I<f.value.length){if(f.value[I].text===`
`||f.value[I].text==="	")return;f.value[I].isHidden=!f.value[I].isHidden,f.value[I].isHidden?f.value[I].hiddenHint=n("promptBox.hiddenHint"):f.value[I].hiddenHint="",$n()}},vM=()=>{window.open("https://www.bilibili.com/list/288025756/?sid=4690314&spm_id_from=333.1387.0.0&oid=114342431298474&bvid=BV1txdfYxE7X","_blank")},_M=async()=>{if(u.promptManager=="prompt_global")try{await vn.goRandomTemplate().then(I=>{I.code===200?(c.value=I.random_tags,Ge(()=>{Yt()})):K({type:"warn",str:I.info})}).catch(I=>{console.error(I),K({type:"warn",str:"message.networkError"})})}catch(I){K({type:"warn",str:"message.networkError"}),console.error("Error loading random tag settings:",I)}else window.postMessage({type:"weilin_prompt_ui_prompt_inner_get_node_tag_template_id_gorandom"},"*")},yM=async I=>{try{await vn.goRandomTemplatePath(I).then(E=>{E.code===200?(c.value=E.random_tags,Ge(()=>{Yt()})):K({type:"warn",str:E.info})}).catch(E=>{console.error(E),K({type:"warn",str:"message.networkError"})})}catch(E){K({type:"warn",str:"message.networkError"}),console.error("Error loading random tag settings:",E)}},Cu=_(null),bM=I=>{Cu.value&&Cu.value.open(I.text,I.translate)},wM=()=>{a.value.open(u.promptManager)},xM=()=>{c.value="",f.value=[],O.value="",S.value=[],A.value="",$n()},TM=()=>{const I=f.value.filter(E=>!E.isHidden);f.value=I,$n(),K({type:"success",str:n("promptBox.clearDisabledSuccess")||""})};return t({setPromptText:Cm}),(I,E)=>{var ue,me,Ne;return T(),k(Me,null,[i("div",Ik,[We(El,{name:"weilin-fade"},{default:ut(()=>[Jt.value?(T(),k("div",Mk,"")):fe("",!0)]),_:1}),u.promptManager==="prompt"?(T(),bt(oT,{key:0,"is-open":R.value,"selected-loras":S.value,onClose:Oe},null,8,["is-open","selected-loras"])):fe("",!0),te.value?(T(),bt(hT,{key:1,ref_key:"mainLabelManagerRef",ref:Pe,"selected-id":Fe.value,onSelect:Wn},null,8,["selected-id"])):fe("",!0),i("div",{class:Le(`${VE}main-content`),style:dt({width:yt.value})},[i("div",Rk,[i("div",Ok,[i("button",{class:"tag-manager-btn",onClick:ye,title:te.value?"":""},[(T(),k("svg",{class:Le(["weilin-comfyui-sidebar-toggle-icon",{"is-closed":!te.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[...E[16]||(E[16]=[i("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"},null,-1)])],2)),i("span",Dk,h(te.value?"":""),1)],8,Nk)]),i("div",Pk,[i("button",{class:"language-switch-btn",onClick:Je(Bt,["stop"]),ref_key:"langBtnRef",ref:L,title:p(n)("controls.language")},[E[17]||(E[17]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"translate-icon"},[i("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"})],-1)),i("span",Bk,h(p(n)("controls.language")),1)],8,Fk),We(El,{name:"fade"},{default:ut(()=>[b.value?(T(),bt(X_,{key:0,ref_key:"languageSwitcherRef",ref:U,onClose:Kt},null,512)):fe("",!0)]),_:1})]),i("div",Uk,[We(P4,{title:p(n)("controls.switchTheme")},{default:ut(({isDark:Te})=>[i("span",Hk,h(p(n)(Te?"controls.darkMode":"controls.lightMode")),1)]),_:1},8,["title"])]),i("div",Vk,[i("button",{class:"settings-btn",onClick:Us,title:p(n)("controls.settings")},[E[18]||(E[18]=i("svg",{class:"settings-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})],-1)),i("span",Wk,h(p(n)("controls.settings")),1)],8,jk)]),i("div",zk,[i("button",{class:"tag-manager-btn",onClick:Ut,title:p(n)("controls.tagManager")},[E[19]||(E[19]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon"},[i("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),i("span",Gk,h(p(n)("controls.tagManager")),1)],8,qk)]),i("div",Qk,[i("button",{class:"tag-manager-btn",onClick:gM,title:p(n)("controls.danbooruManager")},[E[20]||(E[20]=i("svg",{class:"tag-icon",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),i("span",Kk,h(p(n)("controls.danbooruManager")),1)],8,Yk)]),u.hasPromptLoraStack?(T(),k("div",Jk,[i("button",{class:"tag-manager-btn",onClick:de,title:p(n)("controls.loraStack")},[E[21]||(E[21]=i("svg",{sxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M902.5 485.1c-59-17.5-113.8-3.4-155 27.7V365.1c0-45.2-36.9-82.1-82.1-82.1H511.2c31.1-41.2 45.2-96 27.7-155C522.2 71.6 475 26.1 418 12 303.4-16.5 200.9 69.4 200.9 179.3c0 39.1 13.5 74.7 35.3 103.7H82.1C36.9 283 0 319.9 0 365.1v113.1c0 25.5 27.9 38.8 49.5 25.3 38.8-24.3 87.8-33.6 139.4-19.5 57 15.6 103.4 62.5 118.4 119.7 30.1 115.5-56.2 219.4-166.8 219.4-33.5 0-64.7-9.6-91.1-26.2C27.8 783.4 0 796.8 0 822.2v113.2c0 45.2 36.9 82.1 82.1 82.1h583.3c45.2 0 82.1-36.9 82.1-82.1V787.7c29 21.9 64.6 35.3 103.7 35.3 109.9 0 195.8-102.5 167.3-217.1-14.1-56.9-59.7-104.1-116-120.8z"})],-1)),i("span",Zk,h(p(n)("controls.loraStack")),1)],8,Xk)])):fe("",!0),i("div",eC,[i("button",{class:"tag-manager-btn",onClick:yr,title:p(n)("controls.loraManager")},[E[22]||(E[22]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),i("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),i("span",nC,h(p(n)("controls.loraManager")),1)],8,tC)]),i("div",oC,[i("button",{class:"tag-manager-btn",onClick:zn,title:p(n)("controls.history")},[E[23]||(E[23]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M653.7 85.83c-235.05 0-426.29 191.25-426.29 426.3s191.24 426.3 426.29 426.3c235.06 0 426.3-191.25 426.3-426.3S888.76 85.83 653.7 85.83z m0 779.98c-195.01 0-353.67-158.65-353.67-353.68S458.69 158.45 653.7 158.45c195.02 0 353.68 158.65 353.68 353.68S848.72 865.81 653.7 865.81z"}),i("path",{d:"M866.78 634.19L695.93 533.61V302.59c0-20.06-16.26-36.31-36.31-36.31s-36.31 16.26-36.31 36.31v253.66c0 17.06 11.8 31.26 27.66 35.16l178.98 105.36c17.28 10.17 39.54 4.41 49.71-12.87 10.17-17.28 4.4-39.54-12.88-49.71zM44.76 324.51h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31zM231.18 703.25H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.25-36.31-36.31-36.31zM36.31 550.19h118.8c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H36.31c-20.05 0-36.31 16.26-36.31 36.31 0 20.06 16.26 36.31 36.31 36.31z"})],-1)),i("span",sC,h(p(n)("controls.history")),1)],8,aC)]),i("div",lC,[i("button",{class:"tag-manager-btn",onClick:dM,title:p(n)("controls.aiChat")},[E[24]||(E[24]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),i("path",{d:"M6 14h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"})],-1)),i("span",iC,h(p(n)("controls.aiChat")),1)],8,rC)]),i("div",uC,[i("button",{class:"tag-manager-btn",onClick:fM,title:p(n)("controls.github")},[E[25]||(E[25]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)),i("span",dC,h(p(n)("controls.github")),1)],8,cC)]),i("div",fC,[i("button",{class:"tag-manager-btn",onClick:pM,title:p(n)("controls.shareCloudData")},[E[26]||(E[26]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),i("span",gC,h(p(n)("controls.shareCloudData")),1)],8,pC)]),i("div",mC,[i("button",{class:"tag-manager-btn",onClick:vM,title:p(n)("controls.tutorialVideo")},[E[27]||(E[27]=i("svg",{t:"1745234292993",class:"tag-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1496",width:"128",height:"128"},[i("path",{d:"M204.288 63.488c-8.704 8.192-16.896 20.48-18.944 26.624-3.584 11.776 12.8 62.464 20.48 62.464S235.52 176.128 235.52 184.32c0 16.384-17.92 26.112-47.104 26.112-34.816 0-104.448 27.648-128.512 51.2-9.216 8.704-26.112 33.792-37.888 56.32L0 358.4v469.504l21.504 40.448c24.576 47.616 35.84 59.392 82.944 84.992l40.96 22.528h722.944l40.96-19.968c51.712-24.576 72.704-45.056 95.744-94.72l17.92-38.4v-231.424l0.512-231.424-17.92-36.352c-9.216-20.48-28.16-47.104-42.496-59.904-31.232-30.208-86.528-54.272-122.368-54.272-54.272 0-65.024-22.528-26.624-57.856 20.48-18.432 23.04-25.088 23.04-45.568 0-19.968-3.584-28.16-16.896-41.984-9.216-9.216-22.528-16.896-29.696-16.896-11.776 0-34.304 9.216-40.448 16.896-1.536 1.536-35.84 35.328-75.776 74.24l-73.216 71.168-83.456-0.512c-45.568 0-88.064-2.56-93.696-4.608-5.632-2.56-38.4-31.232-72.704-65.024C249.856 40.448 235.008 32.256 204.288 63.488z m652.8 262.656c5.12 0.512 19.968 9.216 31.744 20.48l21.504 19.968 1.536 217.088c1.024 197.12 0.512 218.112-8.704 236.032-14.336 27.136-34.816 40.448-65.536 41.984-14.336 0.512-173.568 0.512-353.28 0l-326.144-1.536-45.056-45.056V373.248l20.992-22.528c15.872-17.92 25.6-23.552 41.984-25.088 16.384-1.024 634.88-0.512 680.96 0.512z","p-id":"1497"}),i("path",{d:"M279.04 502.272c-20.48 22.016-20.992 25.088-20.992 66.56 0 39.936 1.024 44.544 17.92 64 29.184 33.28 55.808 32.256 84.48-2.56 11.264-12.8 12.8-22.016 13.312-64 0-47.104-0.512-48.64-19.968-68.096-27.136-27.648-47.616-26.112-74.752 4.096z m393.216-3.584c-18.944 18.944-19.968 20.992-19.968 69.12 0 47.616 0.512 49.664 18.432 67.072 24.576 23.552 35.84 26.624 58.368 13.824 29.184-16.896 39.936-43.52 36.864-90.624-2.56-35.328-4.608-41.984-22.016-59.904-25.088-25.6-45.568-25.6-71.68 0.512z","p-id":"1498"})],-1)),i("span",vC,h(p(n)("controls.tutorialVideo")),1)],8,hC)]),i("div",_C,[i("button",{class:"tag-manager-btn",onClick:mM,title:p(n)("controls.sponsor")},[E[28]||(E[28]=i("svg",{t:"1745823985128",class:"tag-icon",viewBox:"0 0 1322 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},[i("path",{d:"M495.899049 634.906371c-17.304811 0-31.251971 13.947161-31.251971 31.251971S478.594238 697.410314 495.899049 697.410314c17.304811 0 31.251971-13.947161 31.251971-31.251972 0-17.304811-13.947161-31.251971-31.251971-31.251971zM790.855671 728.662285c-17.304811 0-31.251971 13.947161-31.251972 31.251971s13.947161 31.251971 31.251972 31.251972 31.251971-13.947161 31.251971-31.251972c0-17.04653-13.947161-30.993691-31.251971-31.251971z"}),i("path",{d:"M1262.99289 719.622459c-13.430599-8.264984-28.927445-13.430599-44.68257-14.980284 34.867902-84.974368 57.080047-196.293374-18.596215-306.837537-115.193217-168.657333-280.75118-256.73107-491.766556-260.863562-60.179416-1.291404-130.948343 1.549685-205.849762 4.649054-87.040614 3.35765-203.008673 8.006703-281.526023 1.549684 15.755126-8.523265 32.543375-16.788249 47.007098-23.761829 55.530362-27.119479 98.921529-48.04022 84.457807-85.232649-7.748423-21.695583-30.218848-33.059937-67.411277-34.09306C206.624604-1.755689 37.967271 43.443443 7.748423 119.636265c-17.04653 42.874605-19.887618 125.524447 152.902206 198.876182 71.027208 30.218848 271.969635 66.894715 349.453861 74.643138 17.563091 1.549685 34.867902 5.165615 51.397871 11.364353-17.821372 11.622634-35.901025 24.02011-54.238959 36.417586-31.768533-18.079653-83.941245-39.516955-122.683358-13.172318-14.463722 9.298107-23.503549 25.053233-24.02011 42.358044-0.516562 21.179022 12.397476 42.099763 26.861198 58.629731-57.080047 45.715694-103.312302 89.881703-119.84227 123.974762-18.337934 41.841482-25.828075 110.544163 8.523265 177.438879 43.391167 84.974368 138.955046 144.120661 284.625391 176.147474 190.352916 41.583202 354.619476 4.132492 463.355674-53.205835 60.437697-32.026814 103.570583-69.994085 124.233043-103.828864 6.457019 2.066246 12.914038 4.132492 19.629338 6.198738 9.298107 2.841088 18.596214 5.682177 27.37776 8.781546 28.669164 10.072949 60.695977 8.523265 85.232649-3.61593l1.291403-0.774843c17.821372-9.039826 31.510252-25.053233 37.708991-44.166009 15.238565-51.139589-29.444006-79.033911-56.563486-96.08044z m-811.776412-239.684541l-17.30481 12.655757c-5.165615-5.165615-9.814669-11.106072-13.430599-17.563091 6.7153-2.066246 18.337934 0.258281 30.735409 4.907334zM1262.99289 798.139808c-1.291404 3.874211-4.132492 6.97358-9.298107 9.814669-10.33123 5.165615-25.569795 5.423896-39.258675 0.774842-9.298107-3.35765-19.371057-6.457019-29.444006-9.556388-18.596214-5.682177-49.848186-15.238565-55.788643-22.470426-9.814669-12.914038-28.152602-15.755126-41.32492-5.940457s-15.755126 28.152602-5.940458 41.324921c3.615931 4.390773 7.490142 8.264984 12.139196 11.622634-44.940851 62.245662-242.267348 186.220424-521.468844 125.007885-125.782728-27.636041-210.498815-77.742507-244.850155-145.412065-24.794952-48.815063-19.112776-98.921529-7.231861-126.299289 34.09306-71.027208 280.75118-234.518925 438.30244-327.241716 13.947161-8.264984 18.596214-26.344637 10.33123-40.291798s-27.119479-19.629337-40.291797-10.33123c-12.655757 7.490142-55.788643 33.059937-111.060725 68.186119-18.596214-12.655757-50.881309-27.894322-102.537459-33.059936-81.874999-8.264984-270.936512-44.42429-332.149051-70.252366C139.471608 245.418993 40.033517 196.34565 61.987381 141.073568c5.165615-12.914038 29.185725-33.576498 81.100157-53.464116 35.384463-13.430599 72.318611-22.470426 109.769321-27.119479l-11.622634 5.682176c-35.384463 17.304811-73.868296 36.417586-99.954652 59.146293-1.807965-1.033123-3.615931-2.324527-5.165615-3.874211-10.847792-11.622634-29.185725-12.397476-41.06664-1.291404l-0.516562 0.516561c-11.880915 11.106072-12.139195 29.702287-1.033123 41.583202 10.589511 11.106072 26.086356 19.371057 45.715694 25.569795 0.774842 0.258281 1.291404 0.516562 2.066246 0.774842 68.702681 21.179022 190.611197 18.596214 362.367899 11.622634 74.126577-2.841088 144.120661-5.682177 202.492111-4.649054 193.710566 3.874211 339.122631 80.841876 444.75946 235.552049 64.828469 95.047318 41.583202 188.544951 4.390773 269.903388-4.649054-3.615931-9.039826-7.748423-12.655757-12.139195-10.33123-12.397476-28.669164-14.463722-41.324921-4.649054-12.655757 10.072949-14.722003 28.669164-4.649054 41.324921 5.940457 7.490142 36.675867 42.874605 74.643138 39.775236h2.066246c1.291404-0.258281 2.324527 0 3.615931-0.258281 25.828075-4.649054 42.358044-3.615931 57.596608 6.198738 20.40418 12.914038 30.218848 20.40418 28.410883 26.861199z"})],-1)),i("span",bC,h(p(n)("controls.sponsor")),1)],8,yC)]),We(Up,{ref_key:"settingDialog",ref:x},null,512),i("div",wC,[i("button",{class:Le(["update-label-btn",{"is-dirty":Qe.value}]),disabled:!Fe.value||!Qe.value,onClick:Qt},"  ",10,xC)])]),i("div",{style:{position:"relative"},ref_key:"parentCneterBox",ref:d},[ve(i("textarea",{"onUpdate:modelValue":E[0]||(E[0]=Te=>c.value=Te),class:"input-area",onInput:Co,placeholder:p(n)("promptBox.placeholder"),onKeydown:aM,onBlur:oM,rows:"6",ref_key:"inputAreaRef",ref:s,onMouseup:gm,onResize:gm},null,40,TC),[[Ae,c.value]]),i("div",SC,h(r.value)+" tokens ",1),i("div",{class:"autocomplete-container",ref_key:"autocompleteContainerRef",ref:o,style:dt({top:`${l.value.top}px`,left:`${sM.value.left}px`,display:V.value?"block":"none",width:`${_e.value}px`,maxHeight:`${re.value}px`})},[i("button",{class:"close-autocomplete-btn",onClick:Je(km,["stop"])},""),(T(!0),k(Me,null,je(j.value,(Te,$e)=>(T(),k("div",{key:$e,class:Le(["autocomplete-item",{selected:$e===H.value}]),onClick:Je(Re=>Sm($e,Re),["stop"]),ref_for:!0,ref:Re=>{Re&&$e===H.value&&(q.value=Re)}},[i("span",CC,h(Te.text),1),i("span",EC,h(Te.desc),1)],10,kC))),128))],4)],512),i("div",LC,[i("div",$C,[ve(i("input",{type:"text","onUpdate:modelValue":E[1]||(E[1]=Te=>O.value=Te),class:"prompt-input-translate-area-textarea",onKeyup:E[2]||(E[2]=ln(Te=>wm(),["enter"])),placeholder:p(n)("promptBox.translatePlaceholder")},null,40,AC),[[Ae,O.value]]),i("button",{class:"translate-btn",style:{"margin-left":"8px"},onClick:E[3]||(E[3]=Te=>wm())},"  ")]),N.value?(T(),k("button",{key:0,class:"translate-btn",onClick:mr,title:p(n)("promptBox.oneClickTranslate")},[E[29]||(E[29]=i("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[i("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),i("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)),i("span",MC,h(p(n)("promptBox.oneClickTranslate")),1)],8,IC)):fe("",!0),w.value?(T(),k("button",{key:1,class:"translate-btn random-tag-settings-btn",onClick:wM,title:p(n)("promptBox.randomTagSettings")},[E[30]||(E[30]=i("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"utils-item-icon",width:"24",height:"24"},[i("path",{d:"M512 409.6c-56.32 0-102.4 46.08-102.4 102.4s46.08 102.4 102.4 102.4 102.4-46.08 102.4-102.4-46.08-102.4-102.4-102.4z m0 153.6c-28.16 0-51.2-23.04-51.2-51.2s23.04-51.2 51.2-51.2 51.2 23.04 51.2 51.2-23.04 51.2-51.2 51.2z"}),i("path",{d:"M512 204.8c-25.6 0-51.2 2.56-76.8 7.68l-15.36-61.44c-2.56-10.24-10.24-17.92-20.48-20.48-10.24-2.56-20.48 0-28.16 7.68l-76.8 76.8c-5.12 5.12-7.68 12.8-7.68 20.48s2.56 15.36 7.68 20.48l76.8 76.8c5.12 5.12 12.8 7.68 20.48 7.68 2.56 0 5.12 0 7.68-2.56 10.24-2.56 17.92-10.24 20.48-20.48l15.36-61.44c25.6-5.12 51.2-7.68 76.8-7.68 140.8 0 256 115.2 256 256s-115.2 256-256 256-256-115.2-256-256c0-25.6 2.56-51.2 7.68-76.8l61.44-15.36c10.24-2.56 17.92-10.24 20.48-20.48 2.56-10.24 0-20.48-7.68-28.16l-76.8-76.8c-5.12-5.12-12.8-7.68-20.48-7.68s-15.36 2.56-20.48 7.68l-76.8 76.8c-7.68 7.68-10.24 17.92-7.68 28.16 2.56 10.24 10.24 17.92 20.48 20.48l61.44 15.36c-5.12 25.6-7.68 51.2-7.68 76.8 0 168.96 138.24 307.2 307.2 307.2s307.2-138.24 307.2-307.2-138.24-307.2-307.2-307.2z"})],-1)),i("span",OC,h(p(n)("promptBox.randomTagSettings")),1)],8,RC)):fe("",!0),C.value?(T(),k("button",{key:2,class:"translate-btn random-tag-btn",onClick:_M,title:p(n)("promptBox.oneClickRandomTag")},[E[31]||(E[31]=i("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"utils-item-icon",width:"24",height:"24"},[i("path",{d:"M832 512c0-176-144-320-320-320S192 336 192 512s144 320 320 320 320-144 320-320z m-384 0c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m128-128c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m-256 0c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m128-128c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m256 256c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m-256 0c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m-128 128c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z m256 0c0-35.2 28.8-64 64-64s64 28.8 64 64-28.8 64-64 64-64-28.8-64-64z"})],-1)),i("span",DC,h(p(n)("promptBox.oneClickRandomTag")),1)],8,NC)):fe("",!0),we.value?(T(),k("button",{key:3,class:Le(["translate-btn toggle-delete-btn",{active:M.value}]),onClick:se,title:M.value?p(n)("promptBox.hideDeleteButton"):p(n)("promptBox.showDeleteButton")},[E[32]||(E[32]=i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"utils-item-icon",width:"24",height:"24"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"currentColor"})],-1)),i("span",FC,h(M.value?p(n)("promptBox.hideDeleteButton"):p(n)("promptBox.showDeleteButton")),1)],10,PC)):fe("",!0),he.value?(T(),k("button",{key:4,class:"translate-btn clear-all-btn",onClick:xM,title:p(n)("promptBox.oneClickCleanAll")},[E[33]||(E[33]=i("svg",{class:"utils-item-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1605",width:"24",height:"24"},[i("path",{d:"M716.8 338.944H307.2v-102.4a76.8 76.8 0 0 1 76.8-76.8h256a77.312 77.312 0 0 1 76.8 76.8z m-358.4-51.2h307.2v-51.2a26.112 26.112 0 0 0-25.6-25.6h-256a25.6 25.6 0 0 0-25.6 25.6zM702.464 856.576H321.536A65.024 65.024 0 0 1 256 791.04V406.528a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v384.512a14.336 14.336 0 0 0 13.824 14.336h380.928a14.848 14.848 0 0 0 14.336-14.336V406.528a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v384.512a65.536 65.536 0 0 1-65.024 65.536z"}),i("path",{d:"M432.128 678.912a25.6 25.6 0 0 1-25.6-25.6v-220.16a25.6 25.6 0 0 1 25.6-25.6 26.112 26.112 0 0 1 25.6 25.6v220.16a25.6 25.6 0 0 1-25.6 25.6z"}),i("path",{d:"M593.408 678.912a25.6 25.6 0 0 1-25.6-25.6v-220.16a26.112 26.112 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v220.16a25.6 25.6 0 0 1-25.6 25.6z"}),i("path",{d:"M828.416 338.944H196.096a25.6 25.6 0 0 1-25.6-25.6 25.6 25.6 0 0 1 25.6-25.6h632.32a25.6 25.6 0 0 1 25.6 25.6 25.6 25.6 0 0 1-25.6 25.6z"})],-1)),i("span",UC,h(p(n)("promptBox.oneClickCleanAll")),1)],8,BC)):fe("",!0),z.value?(T(),k("button",{key:5,class:"translate-btn clear-disabled-btn",onClick:TM,title:p(n)("promptBox.oneClickClearDisabled")},[E[34]||(E[34]=i("svg",{class:"utils-item-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1605",width:"24",height:"24"},[i("path",{d:"M716.8 338.944H307.2v-102.4a76.8 76.8 0 0 1 76.8-76.8h256a77.312 77.312 0 0 1 76.8 76.8z m-358.4-51.2h307.2v-51.2a26.112 26.112 0 0 0-25.6-25.6h-256a25.6 25.6 0 0 0-25.6 25.6zM702.464 856.576H321.536A65.024 65.024 0 0 1 256 791.04V406.528a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v384.512a14.336 14.336 0 0 0 13.824 14.336h380.928a14.848 14.848 0 0 0 14.336-14.336V406.528a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v384.512a65.536 65.536 0 0 1-65.024 65.536z"}),i("path",{d:"M432.128 678.912a25.6 25.6 0 0 1-25.6-25.6v-220.16a25.6 25.6 0 0 1 25.6-25.6 26.112 26.112 0 0 1 25.6 25.6v220.16a25.6 25.6 0 0 1-25.6 25.6z"}),i("path",{d:"M593.408 678.912a25.6 25.6 0 0 1-25.6-25.6v-220.16a26.112 26.112 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v220.16a25.6 25.6 0 0 1-25.6 25.6z"}),i("path",{d:"M828.416 338.944H196.096a25.6 25.6 0 0 1-25.6-25.6 25.6 25.6 0 0 1 25.6-25.6h632.32a25.6 25.6 0 0 1 25.6 25.6 25.6 25.6 0 0 1-25.6 25.6z"})],-1)),i("span",VC,h(p(n)("promptBox.oneClickClearDisabled")),1)],8,HC)):fe("",!0)]),f.value.length>0?(T(),k("div",jC,[(T(!0),k(Me,null,je(f.value,(Te,$e)=>(T(),k(Me,{key:"tag-item-"+$e},[i("div",{class:Le(["token-item-box",{"token-item-box-disabled":Te.isHidden}]),draggable:!Te.isEditing,onDragstart:Re=>rM($e,Re),onDragover:Je(Re=>uM($e,Re),["prevent"]),onDrop:Re=>cM($e,Re),onDblclick:Re=>hM($e),style:dt({backgroundColor:Te.color})},[Te.text===`
`?(T(),k("div",zC,[i("span",{class:"token-symbol",title:p(n)("promptBox.newline")},"",8,qC)])):Te.text==="	"?(T(),k("div",{key:1,class:"token-item tab-token",onMouseenter:Re=>js($e,Re),onMouseleave:Re=>Wa()},[i("span",{class:"token-symbol",title:p(n)("promptBox.tab")},"",8,QC)],40,GC)):Te.isLoraTag?(T(),k("div",{key:2,class:"lora-tag-icon",title:p(n)("promptBox.loraTag"),onMouseenter:Re=>js($e,Re),onMouseleave:Re=>Wa()},[E[35]||(E[35]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"15",height:"15"},[i("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"})],-1)),i("span",KC,h(Te.text),1)],40,YC)):Te.text&&!Te.isLoraTag?(T(),k("div",{key:3,class:Le(["token-item",{punctuation:Te.isPunctuation}]),onMouseenter:Re=>js($e,Re),onMouseleave:Re=>Wa()},[!Te.isEditing||Te.isPunctuation?(T(),k("span",{key:0,onClick:Re=>!Te.isPunctuation&&pe($e)},h(Te.text),9,XC)):Te.isPunctuation?fe("",!0):(T(),k("input",{key:1,value:Te.text,onInput:Re=>ge($e,Re),onBlur:Re=>Ye($e),onKeyup:ln(Re=>Ye($e),["enter"]),ref_for:!0,ref:Re=>{Re&&(m[$e]=Re)}},null,40,ZC)),M.value?(T(),k("button",{key:2,class:"quick-delete-btn",onClick:Je(Re=>_r($e),["stop"]),title:p(n)("promptBox.delete"),style:{"margin-left":"4px"}},[...E[36]||(E[36]=[i("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"#ff4d4f70"})],-1)])],8,eE)):fe("",!0)],42,JC)):fe("",!0),Te.text!==`
`&&Te.text!=="	"&&!Te.isLoraTag?(T(),k("div",tE,[xu(Te.text)?(T(),k("div",{key:0,onClick:Re=>nM(Te.text,Te),class:"translate-button",title:p(n)("promptBox.translate")},[...E[37]||(E[37]=[i("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[i("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),i("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)])],8,nE)):fe("",!0),i("span",oE,h(Te.translate?Te.translate:""),1)])):fe("",!0)],46,WC),Te.text===`
`?(T(),k("div",aE)):fe("",!0)],64))),128))])):fe("",!0),be.value?(T(),k("div",{key:1,class:"tag-tips-box",style:dt(ce.value)},[i("div",sE,[i("p",{innerHTML:p(n)("promptBox.tagTips")},null,8,lE)])],4)):fe("",!0),ve(i("div",{class:"token-controls",style:dt(y.value),onMouseenter:E[14]||(E[14]=Te=>v.value=!0),onMouseleave:Ws},[(ue=f.value[g.value])!=null&&ue.isLoraTag?fe("",!0):(T(),k("div",rE,[ve(i("input",{type:"number","onUpdate:modelValue":E[4]||(E[4]=Te=>Ft.value=Te),step:"0.1",class:"weight-input",onChange:fa},null,544),[[Ae,Ft.value]]),i("span",iE,h(p(n)("promptBox.weight")),1)])),(me=f.value[g.value])!=null&&me.isLoraTag?(T(),k("div",uE,[i("div",cE,[ve(i("input",{type:"number","onUpdate:modelValue":E[5]||(E[5]=Te=>Be.value=Te),step:"0.1",class:"weight-input",onChange:Ee},null,544),[[Ae,Be.value]]),i("span",dE,h(p(n)("promptBox.modelWeight")),1)]),i("div",fE,[ve(i("input",{type:"number","onUpdate:modelValue":E[6]||(E[6]=Te=>Ce.value=Te),step:"0.1",class:"weight-input",onChange:Ee},null,544),[[Ae,Ce.value]]),i("span",pE,h(p(n)("promptBox.textWeight")),1)])])):fe("",!0),i("button",{class:"favour-btn",onClick:E[7]||(E[7]=Te=>bM(f.value[g.value])),title:p(n)("promptBox.favour")},[...E[38]||(E[38]=[i("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"#FFD700"})],-1)])],8,gE),i("button",{onClick:Su,class:"delete-btn",title:p(n)("promptBox.delete")},[...E[39]||(E[39]=[i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])],8,mE),(Ne=f.value[g.value])!=null&&Ne.isLoraTag?fe("",!0):(T(),k("div",hE,[i("div",vE,[E[40]||(E[40]=i("div",{class:"bracket-btn"}," () ",-1)),i("div",_E,[i("button",{class:"vertical-btn",onClick:E[8]||(E[8]=Te=>Ct("(")),title:p(n)("promptBox.addBracket")}," + ",8,yE),i("button",{class:"vertical-btn",onClick:E[9]||(E[9]=Te=>Sn("(")),title:p(n)("promptBox.removeLayer")}," - ",8,bE)])]),i("div",wE,[E[41]||(E[41]=i("div",{class:"bracket-btn"}," [] ",-1)),i("div",xE,[i("button",{class:"vertical-btn",onClick:E[10]||(E[10]=Te=>Ct("[")),title:p(n)("promptBox.addBracket")}," + ",8,TE),i("button",{class:"vertical-btn",onClick:E[11]||(E[11]=Te=>Sn("[")),title:p(n)("promptBox.removeLayer")}," - ",8,SE)])]),i("div",kE,[E[42]||(E[42]=i("div",{class:"bracket-btn"}," {} ",-1)),i("div",CE,[i("button",{class:"vertical-btn",onClick:E[12]||(E[12]=Te=>Ct("{")),title:p(n)("promptBox.addBracket")}," + ",8,EE),i("button",{class:"vertical-btn",onClick:E[13]||(E[13]=Te=>Sn("{")),title:p(n)("promptBox.removeLayer")}," - ",8,LE)])])])),i("button",{class:"line-token-btn",onClick:vr,title:p(n)("promptBox.addLineToken"),style:{"margin-left":"8px"}},[...E[43]||(E[43]=[i("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M5 19h14v-2H5v2zm0-7h14v-2H5v2zm0-7v2h14V5H5z",fill:"#888"}),i("path",{d:"M7 17v-2h2v2H7zm0-7V8h2v2H7zm0-7V3h2v2H7z",fill:"#4285f4"})],-1)])],8,$E)],36),[[vs,g.value!==null&&f.value[g.value]]]),i("div",AE,[ve(i("div",{class:"token-controls",style:dt(le.value),onMouseenter:E[15]||(E[15]=Te=>v.value=!0),onMouseleave:Ws},[i("div",IE,[i("div",ME," "+h(ne.value.length)+" ",1),i("div",{class:"weilin-comfyui-selection-actions-buttons"},[i("button",{class:"delete-btn copy-btn",onClick:JI,title:""},[...E[44]||(E[44]=[i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})],-1)])]),i("button",{class:"delete-btn",onClick:XI,title:""},[...E[45]||(E[45]=[i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"#ff4d4f","stroke-width":"2"}),i("path",{d:"M8.5 8.5l7 7",stroke:"#ff4d4f","stroke-width":"2","stroke-linecap":"round"})],-1)])]),i("button",{class:"delete-btn enable-btn",onClick:ZI,title:""},[...E[46]||(E[46]=[i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)])]),i("button",{class:"delete-btn",onClick:eM,title:""},[...E[47]||(E[47]=[i("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])])])])],36),[[vs,J.value]]),i("div",{class:"tag-manager-header",onClick:qI},[i("div",RE,[E[48]||(E[48]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[i("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),i("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),i("span",OE,h(p(n)("controls.loraManager")),1)]),i("div",NE,[(T(),k("svg",{class:Le(["collapse-icon",{"is-collapsed":!br.value}]),viewBox:"0 0 24 24"},[...E[49]||(E[49]=[i("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)])],2))])]),ve(i("div",DE,[We(tm,{loraManager:"prompt_inner"})],512),[[vs,br.value]])]),i("div",PE,[i("div",{class:"tag-manager-header",onClick:zI},[i("div",FE,[E[50]||(E[50]=i("svg",{class:"tag-icon",viewBox:"0 0 24 24"},[i("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),i("span",BE,h(p(n)("controls.tagManager")),1)]),i("div",UE,[(T(),k("svg",{class:Le(["collapse-icon",{"is-collapsed":!za.value}]),viewBox:"0 0 24 24"},[...E[51]||(E[51]=[i("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)])],2))])]),ve(i("div",HE,[We(qg)],512),[[vs,za.value]])])],6)]),We(lk,{ref_key:"randomSettingItem",ref:a},null,512),We(Ak,{ref_key:"favourItemRef",ref:Cu},null,512)],64)}}},[["__scopeId","data-v-a96b0c2c"]]),GE={class:"container"},QE={class:"tab-container"},YE={key:0},KE={class:"search-container"},JE=["placeholder"],XE=["title"],ZE=["title","disabled"],eL=["title"],tL={class:"history-list"},nL={class:"action-buttons"},oL=["onClick","title"],aL=["onClick","title"],sL=["onClick","title"],lL=["value"],rL={key:1},iL={class:"search-container"},uL=["placeholder"],cL=["title"],dL=["title"],fL=["title","disabled"],pL=["title"],gL={class:"history-list"},mL={key:0,class:"favor-name"},hL={class:"action-buttons"},vL=["onClick","title"],_L=["onClick","title"],yL=["onClick","title"],bL=["value"],wL={key:2,class:"weilin-tools-dialog-overlay"},xL={class:"weilin-tools-dialog-header"},TL={class:"weilin-tools-dialog-body"},SL={class:"form-group"},kL=["placeholder"],CL={class:"form-group"},EL=["placeholder"],LL={class:"form-group"},$L={class:"color-picker"},AL={class:"color-controls"},IL={class:"alpha-control"},ML={class:"alpha-value"},RL={class:"weilin-tools-dialog-footer"},OL={key:3,class:"weilin-tools-dialog-overlay"},NL={class:"weilin-tools-dialog-header"},DL={class:"weilin-tools-dialog-body"},PL={class:"confirm-message"},FL={class:"weilin-tools-dialog-footer"},BL=_t({__name:"history_index",setup(e){const{t}=vt(),a=_(""),n=_([]),o=_([]),s=_([]),l=_([]),r=_("history"),u=_([]),d=_(!1),c=_(!1),f=_(!1),m=_({hex:"rgba(255, 123, 2, .4)",alpha:100}),g=_({name:"",tag:"",color:"rgba(255, 123, 2, .4)"}),v=_(!1),y=_(0),b=D=>JSON.parse(D).prompt,x=D=>({hex:"#FFFFFF",alpha:0}),L=D=>{const{hex:ee,alpha:$}=x();m.value={hex:ee,alpha:$}},U=()=>{f.value=!1,g.value={id:"",name:"",tag:"",backgroundColor:"transparent"},L(),d.value=!0},S=D=>{const ee=D.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(ee){const[,$,A,B,te]=ee,he=`#${((1<<24)+(parseInt($)<<16)+(parseInt(A)<<8)+parseInt(B)).toString(16).slice(1)}`,we=te?Math.round(parseFloat(te)*100):100;return{hex:he,alpha:we}}return{hex:"#FF7B02",alpha:50}},R=D=>{f.value=!0,g.value={...D},m.value=S(D.color),d.value=!0},V=()=>{const D=ae(m.value.hex,m.value.alpha);g.value.color=D},j=()=>{d.value=!1,g.value={name:"",tag:"",color:"rgba(255, 123, 2, .4)"},f.value=!1},H=_(""),q=_(null),_e=et(()=>{if(!q.value)return"";switch(H.value){case"history":return t("history.deleteHistoryConfirm",{name:q.value.tag});case"favorite":return t("history.deleteFavoriteConfirm",{name:q.value.tag});case"deleteSelected":return t("history.confirmDeleteSelected");case"deleteSelectedFavorite":return t("history.confirmDeleteSelected");default:return""}}),re=D=>{H.value="history",q.value=D,c.value=!0},O=D=>{H.value="favorite",q.value=D,c.value=!0},Y=()=>{v.value=!1,y.value=0,H.value="deleteSelected",q.value=u.value,c.value=!0},Z=()=>{v.value=!1,y.value=0,H.value="deleteSelectedFavorite",q.value=u.value,c.value=!0},W=async()=>{try{switch(H.value){case"history":jn.deleteHistory(q.value.id_index).then(D=>{J(),K({type:"success",str:"message.deleteSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})});break;case"favorite":jn.deleteFavorite(q.value.id_index).then(D=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.deleteSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})});break;case"deleteSelected":jn.batchDeleteHistory(u.value).then(D=>{J(),K({type:"success",str:"message.deleteSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})});break;case"deleteSelectedFavorite":jn.batchDeleteFavorite(q.value).then(D=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.deleteSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})});break}F()}catch{K({type:"warn",str:"message.networkError"})}},ne=D=>{D.target.checked?r.value==="history"?u.value=n.value.map(ee=>ee.id_index):u.value=s.value.map(ee=>ee.id_index):u.value=[]},ae=(D,ee)=>{const $=parseInt(D.slice(1,3),16),A=parseInt(D.slice(3,5),16),B=parseInt(D.slice(5,7),16);return`rgba(${$}, ${A}, ${B}, ${ee/100})`},F=()=>{c.value=!1,H.value="",q.value=null},P=()=>{if(!g.value.tag){K({type:"warn",str:"history.dialog.tag_placeholder"});return}f.value?jn.editFavorite({id_index:g.value.id_index,name:g.value.name,tag:g.value.tag,color:g.value.color}).then(D=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.editSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})}):jn.addFavorite({name:g.value.name,tag:g.value.tag,color:g.value.color}).then(D=>{le(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),K({type:"success",str:"message.addSuccess"})}).catch(D=>{K({type:"warn",str:"message.networkError"})}),j()},J=()=>{jn.getHistory({}).then(D=>{n.value=D.data,o.value=n.value}).catch(D=>{K({type:"warn",str:"message.networkError"})})},le=()=>{jn.getFavorite().then(D=>{s.value=D.data,l.value=s.value}).catch(D=>{K({type:"warn",str:"message.networkError"})})},G=()=>{o.value=n.value.filter(D=>D.tag.includes(a.value))},ie=()=>{l.value=s.value.filter(D=>D.tag.includes(a.value))},oe=()=>{J()},be=()=>{le()},ce=D=>{jn.addFavorite({tag:D.tag}).then(ee=>{ee.code===200?(window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),le(),K({type:"success",str:"message.addFavoriteSuccess"})):K({type:"success",str:"message.addFavoriteIsExist"})}).catch(ee=>{K({type:"warn",str:"message.networkError"})})},M=D=>{window.postMessage({type:"weilin_prompt_ui_user_history_tag",tagText:D.tag},"*")},Q=()=>{u.value=[],v.value=!0},se=()=>{u.value=[],v.value=!1,y.value=0};return rt(()=>{J(),le()}),(D,ee)=>(T(),k("div",GE,[i("h1",null,h(r.value==="history"?p(t)("history.title"):p(t)("history.favorites")),1),i("div",QE,[i("button",{class:Le([{active:r.value==="history"},"tab-button"]),onClick:ee[0]||(ee[0]=$=>r.value="history")},h(p(t)("history.history")),3),i("button",{class:Le([{active:r.value==="favorites"},"tab-button"]),onClick:ee[1]||(ee[1]=$=>r.value="favorites")},h(p(t)("history.favorites")),3)]),r.value==="history"?(T(),k("div",YE,[i("div",KE,[i("button",{class:"refresh-btn",onClick:oe},[...ee[14]||(ee[14]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])]),ve(i("input",{type:"text","onUpdate:modelValue":ee[2]||(ee[2]=$=>a.value=$),placeholder:p(t)("history.search_placeholder"),onInput:G,class:"search-input"},null,40,JE),[[Ae,a.value]]),v.value?ve((T(),k("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[3]||(ee[3]=$=>y.value=$),value:1,class:"tag-checkbox",onChange:ne},null,544)),[[$t,y.value]]):fe("",!0),v.value?fe("",!0):(T(),k("button",{key:1,class:"bulk-delete-btn",onClick:Q,title:p(t)("history.bulk_delete")},[...ee[15]||(ee[15]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)])],8,XE)),v.value?(T(),k("button",{key:2,class:"bulk-delete-btn",onClick:Y,title:p(t)("history.sure_delete"),disabled:u.value.length===0},[...ee[16]||(ee[16]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)])],8,ZE)):fe("",!0),v.value?(T(),k("button",{key:3,class:"bulk-delete-btn",onClick:se,title:p(t)("history.cancel_delete")},[...ee[17]||(ee[17]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),i("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)])],8,eL)):fe("",!0)]),i("ul",tL,[(T(!0),k(Me,null,je(o.value,$=>(T(),k("li",{key:$.id_index,class:"history-item"},[i("span",null,h(b($.tag)),1),i("div",nL,[i("button",{onClick:A=>ce($),class:"favorite-btn",title:p(t)("history.add_to_favorites")},[...ee[18]||(ee[18]=[i("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"favorite-icon"},[i("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)])],8,oL),i("button",{onClick:A=>re($),class:"delete-favorite-btn",title:p(t)("history.delete_history")},[...ee[19]||(ee[19]=[i("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[i("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)])],8,aL),i("button",{onClick:A=>M($),class:"use-btn",title:p(t)("history.use_item")},[...ee[20]||(ee[20]=[i("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[i("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)])],8,sL),v.value?ve((T(),k("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[4]||(ee[4]=A=>u.value=A),value:$.id_index,class:"tag-checkbox"},null,8,lL)),[[$t,u.value]]):fe("",!0)])]))),128))])])):(T(),k("div",rL,[i("div",iL,[i("button",{class:"refresh-btn",onClick:be},[...ee[21]||(ee[21]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])]),ve(i("input",{type:"text","onUpdate:modelValue":ee[5]||(ee[5]=$=>a.value=$),placeholder:p(t)("history.search_placeholder"),onInput:ie,class:"search-input"},null,40,uL),[[Ae,a.value]]),v.value?ve((T(),k("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[6]||(ee[6]=$=>y.value=$),value:1,class:"tag-checkbox",onChange:ne},null,544)),[[$t,y.value]]):fe("",!0),i("button",{class:"add-his-btn",onClick:U,title:p(t)("history.add_new")},[...ee[22]||(ee[22]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"add-icon"},[i("path",{d:"M19 11h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1s1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1z"})],-1)])],8,cL),v.value?fe("",!0):(T(),k("button",{key:1,class:"bulk-delete-btn",onClick:Q,title:p(t)("history.bulk_delete")},[...ee[23]||(ee[23]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)])],8,dL)),v.value?(T(),k("button",{key:2,class:"bulk-delete-btn",onClick:Z,title:p(t)("history.sure_delete"),disabled:u.value.length===0},[...ee[24]||(ee[24]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)])],8,fL)):fe("",!0),v.value?(T(),k("button",{key:3,class:"bulk-delete-btn",onClick:se,title:p(t)("history.cancel_delete")},[...ee[25]||(ee[25]=[i("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[i("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),i("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)])],8,pL)):fe("",!0)]),i("ul",gL,[(T(!0),k(Me,null,je(l.value,$=>(T(),k("li",{key:$.id_index,class:"history-item"},[i("div",{class:"favor-name-box",style:dt({backgroundColor:$.color||"transparent"})},[$.name.length>0?(T(),k("span",mL,h($.name),1)):fe("",!0)],4),i("span",null,h(b($.tag)),1),i("div",hL,[i("button",{onClick:A=>R($),class:"delete-favorite-btn",title:p(t)("history.edit_favorite")},[...ee[26]||(ee[26]=[i("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[i("path",{d:"M200.59 626.48v129.5h129.5l381.93-381.93-129.5-129.5-381.93 381.93z m611.56-352.57c13.45-13.41 13.48-35.18 0.07-48.62l-0.07-0.07-80.81-80.81c-13.41-13.45-35.18-13.48-48.62-0.07l-0.07 0.07-63.19 63.19 129.5 129.5 63.19-63.19zM131.52 824.96h759.71c23.02 0 34.53 11.51 34.53 34.53 0 23.02-11.51 34.53-34.53 34.53H131.52c-23.02 0-34.53-11.51-34.53-34.53 0-23.02 11.51-34.53 34.53-34.53z","p-id":"2346"})],-1)])],8,vL),i("button",{onClick:A=>O($),class:"delete-favorite-btn",title:p(t)("history.delete_favorite")},[...ee[27]||(ee[27]=[i("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[i("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)])],8,_L),i("button",{onClick:A=>M($),class:"use-btn",title:p(t)("history.use_favorite")},[...ee[28]||(ee[28]=[i("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[i("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)])],8,yL),v.value?ve((T(),k("input",{key:0,type:"checkbox","onUpdate:modelValue":ee[7]||(ee[7]=A=>u.value=A),value:$.id_index,class:"tag-checkbox"},null,8,bL)),[[$t,u.value]]):fe("",!0)])]))),128))])])),d.value?(T(),k("div",wL,[i("div",{class:"weilin-tools-dialog-content",onMousedown:ee[12]||(ee[12]=Je(()=>{},["stop"]))},[i("div",xL,[i("h2",null,h(f.value?p(t)("history.dialog.edit_tag"):p(t)("history.dialog.add_tag")),1),i("button",{class:"close-btn",onClick:j},"")]),i("div",TL,[i("div",SL,[i("label",null,h(p(t)("history.dialog.name")),1),ve(i("input",{type:"text","onUpdate:modelValue":ee[8]||(ee[8]=$=>g.value.name=$),placeholder:p(t)("history.dialog.name_placeholder")},null,8,kL),[[Ae,g.value.name]])]),i("div",CL,[i("label",null,h(p(t)("history.dialog.tag")),1),ve(i("textarea",{"onUpdate:modelValue":ee[9]||(ee[9]=$=>g.value.tag=$),placeholder:p(t)("history.dialog.tag_placeholder"),rows:"4"},"                        ",8,EL),[[Ae,g.value.tag]])]),i("div",LL,[i("label",null,h(p(t)("history.dialog.background_color")),1),i("div",$L,[i("div",{class:"color-preview",style:dt({backgroundColor:D.previewColor})},null,4),i("div",AL,[ve(i("input",{type:"color","onUpdate:modelValue":ee[10]||(ee[10]=$=>m.value.hex=$),onInput:V,class:"color-input"},null,544),[[Ae,m.value.hex]]),i("div",IL,[ve(i("input",{type:"range","onUpdate:modelValue":ee[11]||(ee[11]=$=>m.value.alpha=$),min:"0",max:"100",onInput:V,class:"alpha-slider"},null,544),[[Ae,m.value.alpha,void 0,{number:!0}]]),i("span",ML,h(m.value.alpha)+"%",1)])])])])]),i("div",RL,[i("button",{class:"cancel-btn",onClick:j},h(p(t)("common.cancel")),1),i("button",{class:"confirm-btn",onClick:P},h(p(t)("common.confirm")),1)])],32)])):fe("",!0),c.value?(T(),k("div",OL,[i("div",{class:"weilin-tools-dialog-content confirm-weilin-tools-dialog",onMousedown:ee[13]||(ee[13]=Je(()=>{},["stop"]))},[i("div",NL,[i("h2",null,h(p(t)("common.confirmDelete")),1),i("button",{class:"close-btn",onClick:F},"")]),i("div",DL,[i("p",PL,h(_e.value),1)]),i("div",FL,[i("button",{class:"cancel-btn",onClick:F},h(p(t)("common.cancel")),1),i("button",{class:"delete-btn",onClick:W},h(p(t)("common.delete")),1)])],32)])):fe("",!0)]))}},[["__scopeId","data-v-d9f9b5c3"]]),UL={key:0,class:"drop-zone"},HL={key:1,class:"preview-container"},VL=["srcdoc"],jL={class:"action-buttons"},lm="weilin_tools_",WL=_t({__name:"tranToWeb",emits:["close","update"],setup(e,{expose:t,emit:a}){const{t:n}=vt(),o=_(!1),s=_(""),l=_(null),r={tranToWeb:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},d=_((()=>{try{const H=localStorage.getItem(`${lm}tranToWebState`);if(H){const q=JSON.parse(H),_e={...r};return q.tranToWeb&&(_e.tranToWeb={...r.tranToWeb,...q.tranToWeb}),_e}}catch(H){console.error("Error loading window states:",H)}return{...r}})());Xe(d,H=>{try{localStorage.setItem(`${lm}tranToWebState`,JSON.stringify(H))}catch(q){console.error("Error saving window states:",q)}},{deep:!0}),rt(()=>{He.registerWindow("tranToWeb")}),Rn(()=>{He.unregisterWindow("tranToWeb")});const c=H=>{o.value=!1},f=(H,q)=>{d.value[H]&&(d.value[H].position={...q})},m=(H,q)=>{d.value[H]&&(d.value[H].size={...q})},g=()=>{o.value=!0,He.setActiveWindow("tranToWeb")},v=H=>{H.dataTransfer.dropEffect="copy"},y=H=>{const q=H.dataTransfer.files[0];q&&q.type.startsWith("image/")&&x(q)},b=H=>{const q=H.clipboardData.items;for(let _e=0;_e<q.length;_e++)if(q[_e].type.startsWith("image/")){const re=q[_e].getAsFile();x(re);break}},x=H=>{const q=new FileReader;q.onload=_e=>{const re=_e.target.result,O=btoa(re);l.value=O,L()},q.readAsDataURL(H)},L=()=>{s.value=`
        <!DOCTYPE html>
        <html>
        <head>
            <title>WeiLin Comfyui Tools - Image to HTML</title>
            <style>
                body { margin: 0; padding: 0; }
                img { max-width: 100%; height: auto; }
            </style>
            <script>
                window.onload = function() {
                    // 
                    try {
                        const encryptedData = "${l.value}";
                        const originalData = atob(encryptedData);
                        document.getElementById('decrypted-img').src = originalData;
                        document.getElementById('decrypted-img').style.display = 'block';
                    } catch(e) {
                        console.error(':', e);
                        document.body.innerHTML = '<p></p>';
                    }
                };
            <\/script>
        </head>
        <body>
            <img id="decrypted-img" style="display:none;" />
        </body>
        </html>
    `},U=()=>{const H=new Blob([s.value],{type:"text/html"}),q=URL.createObjectURL(H),_e=document.createElement("a");_e.href=q,_e.download="image-to-html.html",document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(q)},S=()=>{s.value="",l.value=null},R=_(null),V=()=>{s.value||R.value.click()},j=H=>{const q=H.target.files[0];q&&q.type.startsWith("image/")&&x(q)};return t({open:g}),(H,q)=>o.value?(T(),bt(En,{key:0,title:p(n)("utils.tranToWeb"),position:d.value.tranToWeb.position,size:d.value.tranToWeb.size,"z-index":p(He).getZIndex("tranToWeb"),"onUpdate:position":q[0]||(q[0]=_e=>f("tranToWeb",_e)),"onUpdate:size":q[1]||(q[1]=_e=>m("tranToWeb",_e)),onActive:q[2]||(q[2]=_e=>p(He).setActiveWindow("tranToWeb")),onClose:q[3]||(q[3]=_e=>c())},{default:ut(()=>[i("div",{class:"utils_tran_web__content",onDragover:Je(v,["prevent"]),onDrop:Je(y,["prevent"]),onPaste:b,onClick:V},[s.value?(T(),k("div",HL,[i("iframe",{srcdoc:s.value,class:"html-preview"},null,8,VL),i("div",jL,[i("button",{onClick:U},h(p(n)("utils.downloadHtml")),1),i("button",{onClick:S},h(p(n)("utils.clear")),1)])])):(T(),k("div",UL,h(p(n)("utils.dropOrPasteImage")),1)),i("input",{type:"file",ref_key:"fileInput",ref:R,style:{display:"none"},accept:"image/*",onChange:j},null,544)],32)]),_:1},8,["title","position","size","z-index"])):fe("",!0)}},[["__scopeId","data-v-aaebcad3"]]),zL=["onMouseenter","onMouseleave","onMousedown","onMouseup"],qL=_t({__name:"FloatingBall",setup(e){const{t}=vt(),a=_(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1),n=_(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66),o=_(localStorage.getItem("weilin_prompt_ui_floatingBallHeightSize")||n.value),s=_(localStorage.getItem("weilin_prompt_ui_ballSkinType")||"default"),l=_(localStorage.getItem("weilin_prompt_ui_customSkinUrl")||""),r=_(localStorage.getItem("weilin_prompt_ui_bgType")||"gradient"),u=_(localStorage.getItem("weilin_prompt_ui_gradientColor1")||"#6a11cb"),d=_(localStorage.getItem("weilin_prompt_ui_gradientColor2")||"#2575fc"),c=_(localStorage.getItem("weilin_prompt_ui_ballBorderRadius")||50);a.value<1&&(a.value=1,localStorage.setItem("weilin_prompt_ui_floatingBallCount",a.value)),n.value<5&&(n.value=66,localStorage.setItem("weilin_prompt_ui_floatingBallSize",n.value)),o.value<5&&(o.value=66,localStorage.setItem("weilin_prompt_ui_floatingBallHeightSize",o.value)),localStorage.getItem("weilin_prompt_ui_floatingBallCount")||localStorage.setItem("weilin_prompt_ui_floatingBallCount",a.value),localStorage.getItem("weilin_prompt_ui_floatingBallSize")||localStorage.setItem("weilin_prompt_ui_floatingBallSize",n.value),localStorage.getItem("weilin_prompt_ui_floatingBallHeightSize")||localStorage.setItem("weilin_prompt_ui_floatingBallHeightSize",n.value);const f=_([]),m=_([]),g=_([]),v=_([]),y=_(null),b=et(()=>v.value.map(re=>{const O={...re};return s.value==="custom"&&l.value?(O.backgroundImage=`url(${l.value})`,O.backgroundSize="contain",O.backgroundRepeat="no-repeat",O.backgroundPosition="center",O.imageRendering="optimizeQuality"):r.value==="gradient"?O.background=`linear-gradient(135deg, ${u.value}, ${d.value})`:O.background="transparent",O.borderRadius=`${c.value}%`,O}));for(let re=0;re<a.value;re++){g.value[re]=!1,m.value[re]=!1;const O=window.innerWidth,Y=window.innerHeight,Z=n.value,W=o.value,ne=10,ae=Math.floor(O/(Z+ne)),F=Math.floor(re/ae);let J=20+re%ae*(Z+ne),le=Y-100-F*(W+ne);J=Math.max(0,J),J=Math.min(J,O-Z),le=Math.max(0,le),le=Math.min(le,Y-W),f.value[re]={x:J,y:le,width:Z+"px",height:W+"px"},v.value[re]={left:`${f.value[re].x}px`,top:`${f.value[re].y}px`,width:`${Z}px`,height:`${W}px`}}const x=(re,O)=>{re.target.closest(".weilin_prompt_ui_floating-ball")&&(m.value[O]=!0,document.addEventListener("mousemove",Z=>L(Z,O)),document.addEventListener("mouseup",Z=>U(Z,O)))},L=(re,O)=>{if(m.value[O]){const Y=window.innerWidth,Z=window.innerHeight,W=n.value,ne=o.value;let ae=re.clientX-W/2,F=re.clientY-ne/2;ae=Math.max(0,ae),ae=Math.min(ae,Y-W),F=Math.max(0,F),F=Math.min(F,Z-ne),f.value[O]={x:ae,y:F,width:W+"px",height:ne+"px"},v.value[O]={left:`${f.value[O].x}px`,top:`${f.value[O].y}px`,width:`${W}px`,height:`${ne}px`}}},U=(re,O)=>{m.value[O]=!1,document.removeEventListener("mousemove",Y=>L(Y,O)),document.removeEventListener("mouseup",Y=>U(Y,O))},S=()=>{},R=re=>{switch(re){case"item1":window.parent.postMessage({type:"weilin_prompt_ui_open_global_prompt_box"},"*");break;case"item2":window.parent.postMessage({type:"weilin_prompt_ui_open_global_tag_manager"},"*");break;case"item3":window.parent.postMessage({type:"weilin_prompt_ui_open_global_lora_manager"},"*");break;case"item4":window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*");break;case"item5":window.parent.postMessage({type:"weilin_prompt_ui_restore_window"},"*");break;case"item6":window.parent.postMessage({type:"weilin_prompt_ui_open_node_list_window"},"*");break;case"item7":j();break;case"item8":y.value.open();break}},V=_(),j=()=>{V.value.open()},H=re=>{if(re.data.type==="weilin_prompt_ui_floating_ball_setting"){a.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1,n.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66,o.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallHeightSize"))||n.value,s.value=localStorage.getItem("weilin_prompt_ui_ballSkinType")||"default",l.value=localStorage.getItem("weilin_prompt_ui_customSkinUrl")||"",r.value=localStorage.getItem("weilin_prompt_ui_bgType")||"gradient",u.value=localStorage.getItem("weilin_prompt_ui_gradientColor1")||"#6a11cb",d.value=localStorage.getItem("weilin_prompt_ui_gradientColor2")||"#2575fc",c.value=localStorage.getItem("weilin_prompt_ui_ballBorderRadius")||50,g.value=[],m.value=[],f.value=[],v.value=[];for(let O=0;O<a.value;O++){g.value[O]=!1,m.value[O]=!1;const Y=window.innerWidth,Z=window.innerHeight,W=n.value,ne=o.value,ae=10,F=Math.floor(Y/(W+ae)),P=Math.floor(O/F);let le=20+O%F*(W+ae),G=Z-100-P*(ne+ae);le=Math.max(0,le),le=Math.min(le,Y-W),G=Math.max(0,G),G=Math.min(G,Z-ne),f.value[O]={x:le,y:G,width:W+"px",height:ne+"px"},v.value[O]={left:`${f.value[O].x}px`,top:`${f.value[O].y}px`,width:`${W}px`,height:`${ne}px`,...s.value==="custom"&&l.value?{backgroundImage:`url(${l.value})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:r.value==="gradient"?{background:`linear-gradient(135deg, ${u.value}, ${d.value})`}:{background:"transparent"},borderRadius:`${c.value}%`}}}},q=re=>{g.value[re]=!0},_e=re=>{g.value[re]=!1};return rt(()=>{window.addEventListener("message",H)}),Rn(()=>{window.removeEventListener("message",H),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",U)}),(re,O)=>(T(),k(Me,null,[(T(!0),k(Me,null,je(a.value,Y=>(T(),k("div",{class:"weilin_prompt_ui_floating-ball",style:dt(b.value[Y-1]),onMouseenter:Z=>q(Y-1),onMouseleave:Z=>_e(Y-1),onMousedown:Z=>x(Z,Y-1),onMouseup:Z=>U(Z,Y-1),key:"floating-ball-"+Y},[i("div",{class:"weilin_prompt_ui_ball-content",onClick:S},h(s.value==="default"?"WeiLin":""),1),g.value[Y-1]?(T(),k("div",{key:0,class:"weilin_prompt_ui_menu-container",onMousedown:O[8]||(O[8]=Je(()=>{},["stop"]))},[i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[0]||(O[0]=Z=>R("item1"))},h(p(t)("floatingBall.promptBox")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[1]||(O[1]=Z=>R("item2"))},h(p(t)("floatingBall.tagManager")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[2]||(O[2]=Z=>R("item3"))},h(p(t)("floatingBall.loraManager")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[3]||(O[3]=Z=>R("item4"))},h(p(t)("floatingBall.aiWindow")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[4]||(O[4]=Z=>R("item6"))},h(p(t)("floatingBall.openNodeListWindow")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[5]||(O[5]=Z=>R("item7"))},h(p(t)("floatingBall.tranToWeb")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[6]||(O[6]=Z=>R("item8"))},h(p(t)("floatingBall.openSetting")),1),i("div",{class:"weilin_prompt_ui_menu-item",onClick:O[7]||(O[7]=Z=>R("item5"))},h(p(t)("floatingBall.restoreWindow")),1)],32)):fe("",!0)],44,zL))),128)),We(WL,{ref_key:"tranToWebRef",ref:V},null,512),We(Up,{ref_key:"settingDialog",ref:y},null,512)],64))}},[["__scopeId","data-v-660fe17c"]]),GL={class:"ai-chat-window"},QL={class:"history-sidebar"},YL={class:"history-list"},KL=["onClick"],JL={key:0},XL=["onKeyup","onBlur"],ZL={class:"item-actions"},e$=["onClick"],t$=["onClick"],n$={class:"chat-main"},o$={class:"message-list"},a$={class:"message-content"},s$={key:0,class:"message assistant"},l$={class:"message-content"},r$={class:"input-area"},i$=["placeholder","onKeydown"],u$=["disabled"],c$=_t({__name:"ai_window",setup(e){const{t}=vt(),a=_([]),n=_(-1),o=_(""),s=_(!1),l=_({}),r=_(!1),u=_(""),d=R=>{var V;a.value[R]&&(r.value=!0,u.value=((V=a.value[R])==null?void 0:V.title)||` ${R+1}`,n.value=R)},c=R=>{a.value[R]&&(u.value.trim()&&(a.value[R].title=u.value.trim(),x()),r.value=!1)},f=()=>{r.value=!1},m=()=>{Ms.getOpenAiSetting().then(R=>{l.value=R.data}).catch(R=>{K({type:"warn",str:"message.networkError"})})};rt(()=>{m()});const g=et(()=>a.value[n.value]||{messages:[]}),v=R=>{n.value=R},y=()=>{s.value=!0;const R={title:` ${a.value.length+1}`,messages:[],createdAt:new Date().toISOString()};return a.value.push(R),n.value=a.value.length-1,x(),s.value=!1,R},b=()=>{const R=localStorage.getItem("aiChatHistory");R&&(a.value=JSON.parse(R))},x=()=>{localStorage.setItem("aiChatHistory",JSON.stringify(a.value))};rt(()=>{m(),b()});const L=async()=>{if(!o.value.trim()||s.value)return;(a.value.length===0||n.value===-1)&&y();const R={role:"user",content:o.value,timestamp:new Date().toISOString()};g.value.messages.push(R),x(),o.value="";const V={role:"assistant",content:"",timestamp:new Date().toISOString()};g.value.messages.push(V),x(),s.value=!0;try{await S({messages:g.value.messages},j=>{const H=g.value.messages[g.value.messages.length-1];H.content+=j.content,x()},j=>{console.error("Error:",j);const H=g.value.messages[g.value.messages.length-1];H.content="",x()},()=>{s.value=!1,x()})}catch(j){console.error("Error:",j),s.value=!1;const H=g.value.messages[g.value.messages.length-1];H.content="",x()}},U=R=>{a.value.splice(R,1),n.value===R&&(n.value=Math.max(0,R-1)),x()},S=async(R,V,j,H)=>{var q,_e;try{const re=await fetch(l.value.base_url+"/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.value.api_key}`},body:JSON.stringify({model:l.value.model,messages:R.messages,stream:!0})});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const O=re.body.getReader(),Y=new TextDecoder;let Z="";for(;;){const{done:W,value:ne}=await O.read();if(W){H();break}Z+=Y.decode(ne,{stream:!0});const ae=Z.split(`
`);Z=ae.pop();for(const F of ae)if(F.trim()!==""){if(F==="data: [DONE]"){H();return}try{const P=F.replace(/^data: /,""),le=((_e=(q=JSON.parse(P).choices[0])==null?void 0:q.delta)==null?void 0:_e.content)||"";le&&V({content:le})}catch{console.error("Failed to parse message:",F)}}}}catch(re){j(re)}};return(R,V)=>(T(),k("div",GL,[i("div",QL,[i("button",{class:"new-chat-btn",onClick:y},h(p(t)("aiWindow.newChat")),1),i("div",YL,[(T(!0),k(Me,null,je(a.value,(j,H)=>(T(),k("div",{key:H,class:Le(["history-item",{active:n.value===H}]),onClick:q=>v(H)},[!r.value||n.value!==H?(T(),k("span",JL,h((j==null?void 0:j.title)||p(t)("aiWindow.chatName")+` ${H+1}`),1)):ve((T(),k("input",{key:1,"onUpdate:modelValue":V[0]||(V[0]=q=>u.value=q),onKeyup:[ln(q=>c(H),["enter"]),ln(f,["esc"])],onBlur:q=>c(H),class:"rename-input"},null,40,XL)),[[Ae,u.value]]),i("div",ZL,[i("button",{class:"rename-btn",onClick:Je(q=>d(H),["stop"])},"",8,e$),r.value?fe("",!0):(T(),k("button",{key:0,class:"delete-btn",onClick:Je(q=>U(H),["stop"])},"",8,t$))])],10,KL))),128))])]),i("div",n$,[i("div",o$,[(T(!0),k(Me,null,je(g.value.messages,(j,H)=>(T(),k("div",{key:H,class:Le(["message",j.role])},[i("div",a$,[i("pre",null,h(j.content),1)])],2))),128)),s.value?(T(),k("div",s$,[i("div",l$,[i("pre",null,h(p(t)("aiWindow.thinking")),1)])])):fe("",!0)]),i("div",r$,[ve(i("textarea",{class:"ai-chat-textarea","onUpdate:modelValue":V[1]||(V[1]=j=>o.value=j),placeholder:p(t)("aiWindow.inputMessage"),onKeydown:ln(Je(L,["exact","prevent"]),["enter"])},null,40,i$),[[Ae,o.value]]),i("button",{class:"ai-chat-btn",onClick:L,disabled:s.value},h(p(t)("aiWindow.send")),9,u$)])])]))}},[["__scopeId","data-v-0cea2906"]]),d$={class:"lora-info"},f$={class:"lora-header"},p$=["title"],g$={class:"lora-weights"},m$={class:"weight-item"},h$=["title"],v$={class:"weight-item"},_$={class:"center-box"},y$=["onClick"],dr="weilin_prompt_ui_",b$=_t({__name:"index",setup(e){const{t}=vt(),a=_([]);window.addEventListener("message",o=>{o.data.type==="weilin_prompt_ui_update_node_list_info"&&(a.value=o.data.nodeList)});const n=o=>{window.postMessage({type:"weilin_prompt_ui_prompt_open_node_wit_seed",seed:o},"*")};return rt(()=>{window.postMessage({type:"weilin_prompt_ui_prompt_get_node_list_info"},"*")}),(o,s)=>(T(),k("div",{class:Le(`${dr}lora-stack`)},[i("div",{class:Le(`${dr}lora-content`)},[i("div",{class:Le(`${dr}lora-body`)},[i("div",{class:Le(`${dr}lora-list`)},[(T(!0),k(Me,null,je(a.value,l=>(T(),k("div",{key:l.id,class:"lora-item"},[i("div",d$,[i("div",f$,[i("span",{class:"lora-name",title:l.title},"#"+h(l.id)+" - "+h(l.title),9,p$)]),i("div",g$,[i("div",m$,[i("div",{class:"text-label",title:l.text},h(l.text),9,h$)]),i("div",v$,[i("div",_$,[i("button",{onClick:r=>n(l.seed),class:"open-button"},h(p(t)("nodeListWindow.openPromptUI")),9,y$)])])])])]))),128))],2)],2)],2)],2))}},[["__scopeId","data-v-0c15a742"]]),_u={getTreeFromCloud:async e=>await Ie({url:"/cloud/get/tree",method:"post",data:{path:e}}),getLocalInstallPackage:async()=>await Ie({url:"/cloud/get/local/package",method:"post",data:{}}),installSelectPackage:async(e,t)=>await Ie({url:"/cloud/download/file",method:"post",timeout:0,data:{paths:t,path:e}})},w$={class:"cloud-manager"},x$={class:"toolbar"},T$={class:"current-path"},S$={class:"file-list"},k$={class:"file-info"},C$={class:"file-name"},E$={class:"file-type"},L$={class:"file-actions"},$$=["onClick"],A$={key:1,class:"install-container"},I$={key:0,class:"installed-badge"},M$=["onClick","disabled"],R$=_t({__name:"index",setup(e){const{t}=vt(),a=_([]),n=_("tags"),o=_("tags"),s=_([]),l=async y=>{try{const b=await _u.getTreeFromCloud(y);a.value=b.data}catch(b){console.error(":",b),K({type:"warn",str:"message.networkError"})}},r=async()=>{try{const y=await _u.getLocalInstallPackage();s.value=y.data||[]}catch(y){console.error(":",y),K({type:"warn",str:"message.networkError"})}},u=y=>s.value.some(b=>b===y),d=async y=>{try{const b=a.value.find(x=>x.path===y);b&&(b.isInstalling=!0,await _u.installSelectPackage(o.value,[y]).then(()=>{r(),K({type:"success",str:"message.installPackageSuccess"})}))}catch(b){console.error(":",b),K({type:"warn",str:"message.installPackageFail"})}finally{const b=a.value.find(x=>x.path===y);b&&(b.isInstalling=!1)}},c=()=>{const y=n.value.split("/");y.length>1&&(n.value=y.slice(0,-1).join("/"),l(n.value))},f=()=>{l(n.value),r()},m=y=>{n.value=y,l(y)},g=()=>{o.value="tags",n.value="tags",l(n.value)},v=()=>{o.value="danbooru",n.value="danbooru",l(n.value)};return rt(()=>{l(n.value),r()}),(y,b)=>(T(),k("div",w$,[i("div",x$,[i("button",{class:"refresh-btn",onClick:f},[...b[0]||(b[0]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])]),i("button",{class:"database-btn",onClick:g},[b[1]||(b[1]=i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[i("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),i("span",null,h(p(t)("cloudWindow.tagDatabase")),1)]),i("button",{class:"database-btn",onClick:v},[b[2]||(b[2]=i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[i("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4v4z"})],-1)),i("span",null,h(p(t)("cloudWindow.danbooruDatabase")),1)]),i("div",T$,[i("span",null,h(p(t)("cloudWindow.currentPath"))+": "+h(o.value=="tags"?p(t)("cloudWindow.tagDatabase"):p(t)("cloudWindow.danbooruDatabase")),1)])]),i("div",S$,[n.value!=="tags"&&n.value!=="danbooru"?(T(),k("button",{key:0,class:"back-btn",onClick:c},[b[3]||(b[3]=i("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[i("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1)),ze(" "+h(p(t)("cloudWindow.back")),1)])):fe("",!0),(T(!0),k(Me,null,je(a.value,x=>(T(),k("div",{key:x.path,class:"file-item"},[i("div",k$,[i("span",C$,h(x.name),1),i("span",E$,h(x.type=="dir"?"":x.type=="file"?"":""),1)]),i("div",L$,[x.type==="dir"?(T(),k("button",{key:0,onClick:L=>m(x.path),class:"open-btn"},h(p(t)("cloudWindow.open")),9,$$)):x.type==="file"?(T(),k("div",A$,[u(x.path)?(T(),k("span",I$,h(p(t)("cloudWindow.installed")),1)):(T(),k("button",{key:1,onClick:L=>d(x.path),class:"install-btn",disabled:x.isInstalling},h(x.isInstalling?p(t)("cloudWindow.installing"):p(t)("cloudWindow.install")),9,M$))])):fe("",!0)])]))),128))])]))}},[["__scopeId","data-v-508c00b0"]]),O$={class:"header-actions"},N$=["title"],D$=["onMouseover","onDragstart","onDrop"],P$={class:"lora-info"},F$={class:"lora-header"},B$=["title"],U$={class:"lora-actions"},H$=["onClick","title"],V$=["onClick","title"],j$={class:"lora-weights-row"},W$={class:"weight-item-col"},z$=["onUpdate:modelValue"],q$={class:"weight-item-col"},G$=["onUpdate:modelValue"],Q$={class:"switch-item-col"},Y$={class:"switch"},K$=["checked","onChange"],Fa="weilin_prompt_ui_",J$=_t({__name:"lora_stack",setup(e,{expose:t}){const{t:a}=vt(),n=_([]),o=_(""),s=_(!1),l=_(""),r=_(100),u=_(0),d=_(),c=_(!1),f=_(!1),m=_(),g=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora_stack",seed:o.value},"*")},v=O=>{O.hidden=!O.hidden},y=(O,Y)=>{if(f.value=!0,l.value===O&&s.value)return;const W=Y.currentTarget.getBoundingClientRect();let ae={left:W.left-450-10,top:W.top};ae.left<10&&(ae.left=W.right+10),ae.top=Math.max(10,Math.min(ae.top,window.innerHeight-310)),r.value=ae.left,u.value=ae.top,s.value=!0,l.value=O,Ge(()=>{m.value.refresh()})},b=()=>{f.value=!1,setTimeout(()=>{!c.value&&!f.value&&(s.value=!1,l.value="",c.value=!1)},200)},x=()=>{c.value=!0,f.value=!0},L=()=>{s.value=!1,l.value="",c.value=!1},U=O=>{n.value.find(Y=>Y.name===O.name)||n.value.push({name:O.name,weight:1,text_encoder_weight:1,...O})},S=O=>{const Y=n.value.findIndex(Z=>Z.name===O.name);Y>-1&&n.value.splice(Y,1)},R=_(),V=O=>{R.value.open({name:O.lora})};window.addEventListener("message",O=>{O.data.type==="weilin_prompt_ui_selectLora_stack_"+o.value&&U(O.data.lora)});const j=(O,Y)=>{if(o.value=Y,O.length>0)try{const Z=JSON.parse(O);if(Z.lora&&Z.lora!=""&&(n.value=Z.lora),Z.temp_lora&&Z.temp_lora.length>0&&Z.temp_lora!=""){const W=Z.temp_lora;n.value=W}}catch{K({type:"warn",str:"promptBox.settings.errorPrompt"})}};Xe(n,O=>{H()},{deep:!0});const H=()=>{if(n.value.length>0){const O=n.value.filter(W=>!W.hidden);let Y={lora:"",temp_lora:n.value};O.length>0&&(Y.lora=O);const Z=JSON.stringify(Y);window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+o.value,data:Z},"*")}else{const Y=JSON.stringify({lora:"",temp_lora:""});window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+o.value,data:Y},"*")}},q=_(null),_e=O=>{q.value=O},re=O=>{if(q.value===null||q.value===O)return;const Y=n.value.splice(q.value,1)[0];n.value.splice(O,0,Y),q.value=null,H()};return t({initLoraStack:j}),(O,Y)=>(T(),k("div",{class:Le(`${Fa}lora-stack`)},[i("div",{class:Le(`${Fa}lora-content`)},[i("div",{class:Le(`${Fa}lora-header`)},[i("div",O$,[i("button",{class:Le(`${Fa}add-btn`),onClick:g,title:p(a)("controls.addLora")},[...Y[1]||(Y[1]=[i("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[i("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)])],10,N$)])],2),i("div",{class:Le(`${Fa}lora-body`)},[i("div",{class:Le(`${Fa}lora-list`)},[(T(!0),k(Me,null,je(n.value,(Z,W)=>(T(),k("div",{ref_for:!0,ref_key:"loraStackItemRef",ref:d,key:Z.name,class:Le(["lora-item",{"hidden-lora":Z.hidden}]),onMouseover:ne=>y(Z.lora,ne),onMouseleave:b,draggable:"true",onDragstart:ne=>_e(W),onDragover:Y[0]||(Y[0]=Je(()=>{},["prevent"])),onDrop:ne=>re(W)},[i("div",P$,[i("div",F$,[i("span",{class:"lora-name",title:Z.name},h(Z.name),9,B$),i("div",U$,[i("button",{class:"look-on-btn",onClick:ne=>V(Z),title:p(a)("controls.lookOnLora")},[...Y[2]||(Y[2]=[i("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[i("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),i("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),i("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),i("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)])],8,H$),i("button",{class:"remove-btn",onClick:ne=>S(Z),title:p(a)("controls.removeLora")},[...Y[3]||(Y[3]=[i("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])],8,V$)])]),i("div",j$,[i("div",W$,[i("label",null,h(p(a)("loraManager.modelWeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":ne=>Z.weight=ne,class:"lora-weight",step:"0.1"},null,8,z$),[[Ae,Z.weight]])]),i("div",q$,[i("label",null,h(p(a)("loraManager.textEncoderWeight")),1),ve(i("input",{type:"number","onUpdate:modelValue":ne=>Z.text_encoder_weight=ne,class:"lora-weight",step:"0.1"},null,8,G$),[[Ae,Z.text_encoder_weight]])]),i("div",Q$,[i("label",null,h(Z.hidden?p(a)("lora.hideLora"):p(a)("lora.showLora")),1),i("label",Y$,[i("input",{type:"checkbox",checked:!Z.hidden,onChange:ne=>v(Z)},null,40,K$),Y[4]||(Y[4]=i("span",{class:"slider"},null,-1))])])])])],42,D$))),128))],2)],2)],2),We(ur,{ref_key:"loraDetailLoraStackRef",ref:R},null,512),s.value?(T(),bt(hu,{key:0,ref_key:"loraCardItem",ref:m,fileNmae:l.value,paddingLeft:r.value,paddingTop:u.value,onCardLeave:L,onCardenter:x},null,8,["fileNmae","paddingLeft","paddingTop"])):fe("",!0)],2))}},[["__scopeId","data-v-c2ab38ea"]]),Ba={searchDanbooru:async(e="",t=1,a=100)=>await Ie({url:"/danbooru/get_tags",method:"post",data:{search:e,page:t,limit:a}}),addDanbooruTag:async e=>await Ie({url:"/danbooru/add_tag",method:"post",data:e}),updateDanbooruTag:async e=>await Ie({url:"/danbooru/update_tag",method:"post",timeout:0,data:e}),deleteDanbooruTag:async e=>await Ie({url:"/danbooru/delete_tag",method:"post",timeout:0,data:{id:e}}),batchDeleteDanbooruTags:async e=>await Ie({url:"/danbooru/batch_delete_tag",method:"post",timeout:0,data:{values:e}}),runSQLToServer:async e=>await Ie({url:"/danbooru/run_sql_text",method:"post",timeout:0,data:{sql:e}})},X$={key:0,class:"loading-overlay"},Z$={class:"settings-content"},eA={style:{"margin-bottom":"16px"}},tA=["placeholder"],nA={style:{"margin-bottom":"16px"}},oA=["placeholder"],aA=["placeholder"],sA=["placeholder"],lA={class:"data-container"},rA={key:0},iA={key:0},uA={class:"tag-group-container"},cA={key:0},dA={key:1},fA={style:{display:"flex","align-items":"center"}},pA={key:0},gA=["placeholder"],mA=["placeholder"],hA=["placeholder"],vA=["placeholder"],_A=["onClick"],yA=["onClick"],bA=["onClick"],wA={key:1},xA={class:"tag-group-container"},TA={key:0},SA={key:1},kA={style:{display:"flex","align-items":"center"}},CA={key:0},EA=["placeholder"],LA=["placeholder"],$A=["placeholder"],AA=["placeholder"],IA=["onClick"],MA=["onClick"],RA=["onClick"],OA=_t({__name:"import_danbooru",setup(e,{expose:t}){const{t:a}=vt(),n=_(!1),o=_(""),s=_(""),l=_(""),r=_(""),u=_(""),d=_(""),c=_(""),f=_(""),m=_(""),g=_([]),v=_(-1),y=_(""),b=_(""),x=_(null);_(null);const L=_(null),U=_(!1),S=_(""),R=_(0),V=_(0);function j(){o.value="",s.value="",R.value=0,V.value=0,l.value="",r.value="",u.value="",d.value="",c.value="",f.value="",m.value="",g.value=[],v.value=-1,y.value="",b.value="",U.value=!1}function H(ce){j();const M=ce.target.files[0];if(M){const Q=new FileReader;Q.onload=se=>{se.target.result.split(";").filter($=>$.trim()).forEach($=>{if(($.includes("tag_groups")||$.includes("tag_subgroups"))&&$.includes("p_uuid"))if($.includes("g_uuid")){u.value=$+";";const B=$.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);B&&(m.value=B[1]);const te=$.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);te&&(c.value=te[1].replace(/''/g,"'"))}else{r.value=$+";";const B=$.split("VALUES")[1].trim().match(/,\s*'([^']+)'\)$/);B&&(f.value=B[1]);const te=$.match(/VALUES\s*\([^'"]*['"]([^'"]+)['"]/);te&&(d.value=te[1].replace(/''/g,"'"))}else $.includes("tag_tags")&&g.value.push($+";")})},Q.readAsText(M)}ce.target.value=""}function q(ce){const M=ce.target.files[0];if(M){const Q=new FileReader;Q.onload=se=>{se.target.result.split(`
`).filter($=>$.trim()).forEach($=>{const A=$.split(",");if(A.length>=2){let B,te,he,we;A.length===2?(B=A[0].trim(),we=A[1].trim(),te=0,he=0):A.length>=3&&(B=A[0].trim(),te=parseInt(A[1].trim())||0,he=parseInt(A[2].trim())||0,we=A.slice(3).join(",").trim(),we=we.replace(/^"(.*)"$/,"$1"));const C=B.replace(/'/g,"''"),w=we.replace(/'/g,"''"),N=`INSERT INTO "danbooru_tag" ("tag", "color_id", "translate", "hot", "aliases") VALUES ('${C}', '', '${w}', ${he}, ${te});`;g.value.push(N)}})},Q.readAsText(M)}ce.target.value=""}function _e(){L.value.click()}function re(){let ce;g.value.length>0&&Y(g.value[0])?ce=[...g.value].join(`
`):ce=[r.value,u.value,...g.value].join(`
`);const M=new Blob([ce],{type:"text/sql"}),Q=document.createElement("a");if(Q.href=URL.createObjectURL(M),S.value.length<=0){const se=parseInt(new Date().getTime()/1e3);Q.download="export_"+se+".sql"}else Q.download=S.value+".sql";Q.click()}function O(ce){const M=ce.match(/VALUES\s*\([^']*'([^']+)'/),Q=ce.match(/VALUES\s*\([^']*'[^']*'\s*,\s*'([^']+)'/);return{text:M?M[1].replace(/''/g,"'"):"",desc:Q?Q[1].replace(/''/g,"'"):""}}function Y(ce){return ce.includes("danbooru_tag")}function Z(ce){const M=ce.match(/VALUES\s*\(\s*'([^']+)'\s*,\s*'([^']*)'\s*,\s*'([^']*)'\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);return M?{tag:M[1].replace(/''/g,"'"),color_id:M[2],translate:M[3].replace(/''/g,"'"),hot:parseInt(M[4]),aliases:parseInt(M[5])}:{tag:"",color_id:"",translate:"",hot:0,aliases:0}}const W=_(0),ne=_(0);function ae(ce){const M=g.value[ce];if(Y(M)){const Q=Z(M);y.value=Q.tag,b.value=Q.translate,W.value=Q.hot,ne.value=Q.aliases}else{const Q=O(M);y.value=Q.text,b.value=Q.desc}v.value=ce}function F(ce){const M=y.value.replace(/'/g,"''"),Q=b.value.replace(/'/g,"''");if(Y(g.value[ce])){const se=Z(g.value[ce]),D=parseInt(W.value)||0,ee=parseInt(ne.value)||0;g.value[ce]=`INSERT INTO "danbooru_tag" ("tag", "color_id", "translate", "hot", "aliases") VALUES ('${M}', '${se.color_id}', '${Q}', ${D}, ${ee});`}else g.value[ce]=g.value[ce].replace(/(VALUES\s*\([^']*')([^']+)'/,`$1${M}'`).replace(/(VALUES\s*\([^']*'[^']*'\s*,\s*')([^']+)'/,`$1${Q}'`);v.value=-1}function P(){v.value=-1,y.value="",b.value="",W.value=0,ne.value=0}function J(ce){g.value.splice(ce,1)}function le(){const ce=o.value.replace(/'/g,"''"),M=s.value.replace(/'/g,"''"),Q=parseInt(R.value)||0,se=parseInt(V.value)||0,D=`INSERT INTO "danbooru_tag" ("tag", "color_id", "translate", "hot", "aliases") VALUES ('${ce}', '', '${M}', ${Q}, ${se});`;g.value.push(D),o.value="",s.value="",R.value=0,V.value=0}const G=_(!1),ie=async ce=>{G.value=!0;try{await Ba.runSQLToServer(ce).then(M=>{if(M.code!=200){K({type:"warn",str:M.message});return}else oe(),K({type:"success",str:"importDialog.successImport"})}).catch(M=>{console.error(M),K({type:"warn",str:"importDialog.importFail"})})}catch(M){console.error(M),K({type:"warn",str:"importDialog.importFail"})}finally{G.value=!1}},oe=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},be=async()=>{if(g.value.length>0&&Y(g.value[0])){const ce=[...g.value];await ie(ce)}else if(U.value){if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}const ce=[...g.value];await ie(ce)}else{if(r.value.length<=0||u.value.length<=0){K({type:"warn",str:"importDialog.pleaseFullRequest"});return}const ce=[r.value,u.value,...g.value];await ie(ce)}};return Xe(r,(ce,M)=>{var D,ee;if(!ce||ce===M)return;const Q=(D=ce.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:D[1],se=(ee=M==null?void 0:M.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:ee[1];Q&&se&&u.value&&(u.value=u.value.replace(new RegExp(`'${se}'`,"g"),`'${Q}'`))}),Xe(u,(ce,M)=>{var D,ee;if(!ce||ce===M)return;const Q=(D=ce.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:D[1],se=(ee=M==null?void 0:M.match(/'([^']+)'\s*\)\s*;?$/))==null?void 0:ee[1];Q&&se&&g.value.length>0&&(g.value=g.value.map($=>$.replace(new RegExp(`'${se}'`,"g"),`'${Q}'`)))}),t({open:()=>{n.value=!0}}),(ce,M)=>(T(),k(Me,null,[G.value?(T(),k("div",X$,[...M[19]||(M[19]=[i("div",{class:"loading-spinner"},null,-1)])])):fe("",!0),We(Ia,{modelValue:n.value,"onUpdate:modelValue":M[18]||(M[18]=Q=>n.value=Q),title:p(a)("danbooruManager.importBatchTitle")},{footer:ut(()=>[i("button",{onClick:M[17]||(M[17]=Q=>n.value=!1)},h(p(a)("promptBox.settings.close")),1),i("button",{onClick:be},h(p(a)("importDialog.sure")),1)]),default:ut(()=>[i("div",Z$,[i("div",eA,[i("button",{onClick:j,class:"upload-btn"},h(p(a)("importDialog.cleanAll")),1),i("button",{style:{"margin-left":"10px"},onClick:re},h(p(a)("importDialog.dumpSQL")),1),ve(i("input",{style:{width:"300px","margin-left":"10px"},"onUpdate:modelValue":M[0]||(M[0]=Q=>S.value=Q),placeholder:p(a)("importDialog.settingOutputName")},null,8,tA),[[Ae,S.value]]),i("input",{type:"file",ref_key:"fileInput",ref:x,onChange:H,accept:".sql",style:{display:"none"}},null,544),i("input",{type:"file",ref_key:"danbooruTxtFileInput",ref:L,onChange:q,accept:".txt,.csv",style:{display:"none"}},null,544)]),i("div",nA,[ve(i("input",{"onUpdate:modelValue":M[1]||(M[1]=Q=>o.value=Q),placeholder:"Tag"},null,512),[[Ae,o.value]]),ve(i("input",{"onUpdate:modelValue":M[2]||(M[2]=Q=>s.value=Q),placeholder:p(a)("importDialog.translater")},null,8,oA),[[Ae,s.value]]),ve(i("input",{"onUpdate:modelValue":M[3]||(M[3]=Q=>R.value=Q),placeholder:p(a)("danbooruManager.hot"),type:"number"},null,8,aA),[[Ae,R.value]]),ve(i("input",{"onUpdate:modelValue":M[4]||(M[4]=Q=>V.value=Q),placeholder:p(a)("danbooruManager.aliases"),type:"number"},null,8,sA),[[Ae,V.value]]),i("button",{onClick:le},h(p(a)("importDialog.add")),1),i("button",{style:{"margin-left":"10px"},onClick:_e,class:"upload-btn"},h(p(a)("danbooruManager.import")),1)]),i("div",lA,[r.value?(T(),k("div",rA,[i("h3",null,h(O(r.value).text),1),u.value?(T(),k("div",iA,[i("h4",null,h(O(u.value).text),1),i("div",uA,[(T(!0),k(Me,null,je(g.value,(Q,se)=>(T(),k("div",{key:se,style:{display:"flex","flex-direction":"column","align-items":"center"}},[Y(Q)?(T(),k("p",cA,h(Z(Q).tag)+" - "+h(Z(Q).translate)+" ("+h(p(a)("danbooruManager.hot"))+": "+h(Z(Q).hot)+", "+h(p(a)("danbooruManager.aliases"))+": "+h(Z(Q).aliases)+")",1)):(T(),k("p",dA,h(O(Q).text)+" - "+h(O(Q).desc),1)),i("div",fA,[v.value===se?(T(),k("div",pA,[Y(Q)?ve((T(),k("input",{key:0,"onUpdate:modelValue":M[5]||(M[5]=D=>y.value=D),placeholder:"Tag"},null,512)),[[Ae,y.value]]):ve((T(),k("input",{key:1,"onUpdate:modelValue":M[6]||(M[6]=D=>y.value=D),placeholder:"Tag"},null,512)),[[Ae,y.value]]),Y(Q)?ve((T(),k("input",{key:2,"onUpdate:modelValue":M[7]||(M[7]=D=>b.value=D),placeholder:p(a)("importDialog.translate")},null,8,gA)),[[Ae,b.value]]):ve((T(),k("input",{key:3,"onUpdate:modelValue":M[8]||(M[8]=D=>b.value=D),placeholder:p(a)("importDialog.translater")},null,8,mA)),[[Ae,b.value]]),Y(Q)?ve((T(),k("input",{key:4,"onUpdate:modelValue":M[9]||(M[9]=D=>W.value=D),placeholder:p(a)("danbooruManager.hot"),type:"number"},null,8,hA)),[[Ae,W.value]]):fe("",!0),Y(Q)?ve((T(),k("input",{key:5,"onUpdate:modelValue":M[10]||(M[10]=D=>ne.value=D),placeholder:p(a)("danbooruManager.aliases"),type:"number"},null,8,vA)),[[Ae,ne.value]]):fe("",!0),i("button",{onClick:D=>F(se)},h(p(a)("importDialog.sureYes")),9,_A),i("button",{style:{"margin-left":"10px"},onClick:P},h(p(a)("importDialog.cancel")),1)])):(T(),k("button",{key:1,onClick:D=>ae(se)},h(p(a)("importDialog.edit")),9,yA)),i("button",{style:{"margin-left":"10px"},onClick:D=>J(se)},h(p(a)("importDialog.delete")),9,bA)])]))),128))])])):fe("",!0)])):g.value.length>0?(T(),k("div",wA,[i("h3",null,h(p(a)("danbooruManager.importTitle")),1),i("div",xA,[(T(!0),k(Me,null,je(g.value,(Q,se)=>(T(),k("div",{key:se,style:{display:"flex","flex-direction":"column","align-items":"center"}},[Y(Q)?(T(),k("p",TA,h(Z(Q).tag)+" - "+h(Z(Q).translate)+" (: "+h(Z(Q).hot)+", : "+h(Z(Q).aliases)+")",1)):(T(),k("p",SA,h(O(Q).text)+" - "+h(O(Q).desc),1)),i("div",kA,[v.value===se?(T(),k("div",CA,[Y(Q)?ve((T(),k("input",{key:0,"onUpdate:modelValue":M[11]||(M[11]=D=>y.value=D),placeholder:"Tag"},null,512)),[[Ae,y.value]]):ve((T(),k("input",{key:1,"onUpdate:modelValue":M[12]||(M[12]=D=>y.value=D),placeholder:"Tag"},null,512)),[[Ae,y.value]]),Y(Q)?ve((T(),k("input",{key:2,"onUpdate:modelValue":M[13]||(M[13]=D=>b.value=D),placeholder:p(a)("importDialog.translater")},null,8,EA)),[[Ae,b.value]]):ve((T(),k("input",{key:3,"onUpdate:modelValue":M[14]||(M[14]=D=>b.value=D),placeholder:p(a)("importDialog.translater")},null,8,LA)),[[Ae,b.value]]),Y(Q)?ve((T(),k("input",{key:4,"onUpdate:modelValue":M[15]||(M[15]=D=>W.value=D),placeholder:p(a)("danbooruManager.hot"),type:"number"},null,8,$A)),[[Ae,W.value]]):fe("",!0),Y(Q)?ve((T(),k("input",{key:5,"onUpdate:modelValue":M[16]||(M[16]=D=>ne.value=D),placeholder:p(a)("danbooruManager.aliases"),type:"number"},null,8,AA)),[[Ae,ne.value]]):fe("",!0),i("button",{onClick:D=>F(se)},h(p(a)("importDialog.sureYes")),9,IA),i("button",{style:{"margin-left":"10px"},onClick:P},h(p(a)("importDialog.cancel")),1)])):(T(),k("button",{key:1,onClick:D=>ae(se)},h(p(a)("importDialog.edit")),9,MA)),i("button",{style:{"margin-left":"10px"},onClick:D=>J(se)},h(p(a)("importDialog.delete")),9,RA)])]))),128))])])):fe("",!0)])])]),_:1},8,["modelValue","title"])],64))}},[["__scopeId","data-v-4dfbaa15"]]),NA={class:"danbooru-manager"},DA={class:"title"},PA={class:"action-bar"},FA={class:"search-box"},BA=["placeholder"],UA=["disabled"],HA={class:"pagination"},VA=["disabled"],jA={class:"page-info"},WA=["disabled"],zA={class:"page-size-control"},qA={key:0,class:"tag-list"},GA={style:{"table-layout":"fixed",overflow:"auto"}},QA={class:"checkbox-column"},YA=["checked"],KA={class:"tag-column"},JA={class:"translate-column"},XA={class:"color-column"},ZA={class:"hot-column"},eI={class:"aliases-column"},tI={class:"control-column"},nI=["value"],oI=["onClick"],aI=["onClick"],sI={key:1,class:"no-results"},lI={key:2,class:"weilin-tools-dialog"},rI={class:"weilin-tools-dialog-content"},iI={class:"form-group"},uI=["placeholder"],cI={class:"form-group"},dI=["placeholder"],fI={class:"form-group"},pI=["value"],gI={class:"form-group"},mI={key:0,class:"form-group"},hI={class:"weilin-tools-dialog-actions"},vI={key:3,class:"weilin-tools-dialog"},_I={class:"weilin-tools-dialog-content"},yI={class:"weilin-tools-dialog-actions"},bI={key:4,class:"weilin-tools-dialog"},wI={class:"weilin-tools-dialog-content"},xI={class:"weilin-tools-dialog-actions"},TI={key:5,class:"overlay"},SI=_t({__name:"danbooru_manager",setup(e){const{t}=vt(),a=_(""),n=_([]),o=_(1),s=_(1),l=_(100),r=_(!1),u=_(!1),d=_(!1),c=_(!1),f=_(!1),m=_(null),g=_({tag:"",translate:"",color_id:0,hot:0,aliases:0}),v=[{name:"",color:"#888888"},{name:"",color:"#FF6666"},{name:"",color:"#66FF66"},{name:"",color:"#6666FF"},{name:"",color:"#FFFF66"},{name:"",color:"#FF66FF"},{name:"",color:"#66FFFF"},{name:"",color:"#FF9966"},{name:"",color:"#FF99CC"},{name:"",color:"#996633"}],y=F=>v[F]?v[F].color:v[0].color;let b=null;const x=()=>{b&&clearTimeout(b),b=setTimeout(()=>{o.value=1,L()},300)},L=async()=>{r.value=!0,re.value=[];try{const F=await Ba.searchDanbooru(a.value,o.value,l.value);F&&F.data?(n.value=F.data.data||[],s.value=F.data.total_pages||1):(n.value=[],s.value=1)}catch(F){console.error(":",F),K({type:"error",str:t("message.searchFailed")}),n.value=[]}finally{r.value=!1}},U=F=>{F<1||F>s.value||(o.value=F,L())},S=()=>{l.value<10&&(l.value=10),l.value>500&&(l.value=500),o.value=1,re.value=[],L()},R=()=>{f.value=!1,g.value={tag:"",translate:"",color_id:0,hot:0,aliases:0},u.value=!0},V=F=>{f.value=!0,m.value=F,g.value={id:F.id_index,tag:F.tag,translate:F.translate||"",color_id:F.color_id||0,hot:F.hot||0,aliases:F.aliases||0},u.value=!0},j=()=>{u.value=!1},H=async()=>{if(!g.value.tag){K({type:"error",str:t("tagManager.textRequired")});return}try{if(f.value){const F=await Ba.updateDanbooruTag({id:g.value.id,update_data:{tag:g.value.tag,translate:g.value.translate,color_id:g.value.color_id,hot:g.value.hot,aliases:g.value.aliases}});F&&F.code===200?(K({type:"success",str:t("message.editSuccess")}),L()):K({type:"error",str:t("message.editFailed")})}else{const F=await Ba.addDanbooruTag({tag:g.value.tag,translate:g.value.translate,color_id:g.value.color_id,hot:g.value.hot,aliases:g.value.aliases});F&&F.code===200?(K({type:"success",str:t("message.addSuccess")}),L()):K({type:"error",str:t("message.addFailed")})}j()}catch(F){console.error(":",F),K({type:"error",str:f.value?t("message.editFailed"):t("message.addFailed")})}},q=F=>{m.value=F,d.value=!0},_e=async()=>{if(!(!m.value||!m.value.id_index))try{const F=await Ba.deleteDanbooruTag(m.value.id_index);F&&F.code===200?(K({type:"success",str:t("message.deleteSuccess")}),L()):K({type:"error",str:t("message.deleteFailed")}),d.value=!1}catch(F){console.error(":",F),K({type:"error",str:t("message.deleteFailed")})}},re=_([]),O=et(()=>n.value.length>0&&re.value.length===n.value.length),Y=()=>{O.value?re.value=[]:re.value=n.value.map(F=>F.id_index)},Z=()=>{re.value.length!==0&&(c.value=!0)},W=async()=>{if(re.value.length!==0){try{const F=await Ba.batchDeleteDanbooruTags(re.value);F&&F.code===200?(K({type:"success",str:` ${re.value.length} `}),re.value=[],L()):K({type:"error",str:""})}catch(F){console.error(":",F),K({type:"error",str:""})}c.value=!1}},ne=_(),ae=()=>{ne.value.open()};return rt(()=>{L()}),(F,P)=>{var J;return T(),k("div",NA,[i("h2",DA,h(p(t)("danbooruManager.title")),1),i("div",PA,[i("div",FA,[ve(i("input",{"onUpdate:modelValue":P[0]||(P[0]=le=>a.value=le),type:"text",placeholder:p(t)("danbooruManager.searchPlaceholder"),onInput:x},null,40,BA),[[Ae,a.value]]),i("button",{class:"search-btn",onClick:L},h(p(t)("tagManager.search")),1)]),i("button",{class:"add-btn",onClick:R},h(p(t)("danbooruManager.add")),1),i("button",{class:"add-btn",onClick:ae},h(p(t)("tagManager.importDanbooru")),1),i("button",{class:Le(["batch-delete-btn",{disabled:re.value.length===0}]),disabled:re.value.length===0,onClick:Z},h(p(t)("tagManager.hasDeleteAction"))+" ("+h(re.value.length)+") ",11,UA)]),i("div",HA,[i("button",{disabled:o.value<=1,onClick:P[1]||(P[1]=le=>U(o.value-1)),class:"page-btn"},h(p(t)("loraManager.prevPage")),9,VA),i("span",jA,h(o.value)+" / "+h(s.value),1),i("button",{disabled:o.value>=s.value,onClick:P[2]||(P[2]=le=>U(o.value+1)),class:"page-btn"},h(p(t)("loraManager.nextPage")),9,WA),i("div",zA,[i("label",null,h(p(t)("danbooruManager.pageShow")),1),ve(i("input",{"onUpdate:modelValue":P[3]||(P[3]=le=>l.value=le),type:"number",min:"10",max:"500",onChange:S,class:"page-size-input"},null,544),[[Ae,l.value,void 0,{number:!0}]]),i("span",null,h(p(t)("danbooruManager.pageLimit")),1)])]),n.value.length>0?(T(),k("div",qA,[i("table",GA,[i("thead",null,[i("tr",null,[i("th",QA,[i("input",{type:"checkbox",checked:O.value,onChange:Y},null,40,YA)]),P[12]||(P[12]=i("th",{class:"id-column"},"ID",-1)),i("th",KA,h(p(t)("tagManager.description")),1),i("th",JA,h(p(t)("promptBox.translate")),1),i("th",XA,h(p(t)("tagManager.backgroundColor")),1),i("th",ZA,h(p(t)("danbooruManager.hot")),1),i("th",eI,h(p(t)("danbooruManager.aliases")),1),i("th",tI,h(p(t)("danbooruManager.controle")),1)])]),i("tbody",null,[(T(!0),k(Me,null,je(n.value,le=>(T(),k("tr",{key:le.id_index},[i("td",null,[ve(i("input",{type:"checkbox",value:le.id_index,"onUpdate:modelValue":P[4]||(P[4]=G=>re.value=G)},null,8,nI),[[$t,re.value]])]),i("td",null,h(le.id_index),1),i("td",null,h(le.tag),1),i("td",null,h(le.translate),1),i("td",null,[i("div",{class:"color-box",style:dt({backgroundColor:y(le.color_id)})},null,4)]),i("td",null,h(le.hot),1),i("td",null,h(le.aliases),1),i("td",null,[i("button",{class:"edit-btn",onClick:G=>V(le)},h(p(t)("common.edit")),9,oI),i("button",{style:{"margin-left":"10px"},class:"delete-btn",onClick:G=>q(le)},h(p(t)("common.delete")),9,aI)])]))),128))])])])):(T(),k("div",sI,h(p(t)("tagManager.noResults")),1)),u.value?(T(),k("div",lI,[i("div",rI,[i("h3",null,h(f.value?p(t)("danbooruManager.edit"):p(t)("danbooruManager.add")),1),i("div",iI,[i("label",null,h(p(t)("tagManager.description")),1),ve(i("input",{"onUpdate:modelValue":P[5]||(P[5]=le=>g.value.tag=le),type:"text",placeholder:p(t)("tagManager.descriptionPlaceholder")},null,8,uI),[[Ae,g.value.tag]])]),i("div",cI,[i("label",null,h(p(t)("promptBox.translate")),1),ve(i("input",{"onUpdate:modelValue":P[6]||(P[6]=le=>g.value.translate=le),type:"text",placeholder:p(t)("danbooruManager.translatePlaceholder")},null,8,dI),[[Ae,g.value.translate]])]),i("div",fI,[i("label",null,h(p(t)("tagManager.backgroundColor")),1),ve(i("select",{"onUpdate:modelValue":P[7]||(P[7]=le=>g.value.color_id=le)},[(T(),k(Me,null,je(v,(le,G)=>i("option",{key:G,value:G},h(le.name),9,pI)),64))],512),[[zt,g.value.color_id]]),i("div",{class:"color-preview",style:dt({backgroundColor:y(g.value.color_id)})},null,4)]),i("div",gI,[P[13]||(P[13]=i("label",null,"Hot",-1)),ve(i("input",{"onUpdate:modelValue":P[8]||(P[8]=le=>g.value.hot=le),type:"number",min:"0"},null,512),[[Ae,g.value.hot,void 0,{number:!0}]])]),f.value?fe("",!0):(T(),k("div",mI,[P[14]||(P[14]=i("label",null,"Aliases",-1)),ve(i("input",{"onUpdate:modelValue":P[9]||(P[9]=le=>g.value.aliases=le),type:"number",min:"0"},null,512),[[Ae,g.value.aliases,void 0,{number:!0}]])])),i("div",hI,[i("button",{onClick:j},h(p(t)("common.cancel")),1),i("button",{onClick:H},h(p(t)("common.save")),1)])])])):fe("",!0),d.value?(T(),k("div",vI,[i("div",_I,[i("h3",null,h(p(t)("common.confirmDelete")),1),i("p",null,h(p(t)("tagManager.deleteTagConfirm",{name:((J=m.value)==null?void 0:J.tag)||""})),1),i("div",yI,[i("button",{onClick:P[10]||(P[10]=le=>d.value=!1)},h(p(t)("common.cancel")),1),i("button",{class:"delete-btn",onClick:_e},h(p(t)("common.delete")),1)])])])):fe("",!0),c.value?(T(),k("div",bI,[i("div",wI,[i("h3",null,h(p(t)("danbooruManager.sureBatchDelete")),1),i("p",null,h(p(t)("danbooruManager.sureBatchDeleteTips1"))+" "+h(re.value.length)+" "+h(p(t)("danbooruManager.sureBatchDeleteTips2")),1),i("div",xI,[i("button",{onClick:P[11]||(P[11]=le=>c.value=!1)},h(p(t)("common.cancel")),1),i("button",{class:"delete-btn",onClick:W},h(p(t)("danbooruManager.sureDelete")),1)])])])):fe("",!0),u.value||d.value||c.value?(T(),k("div",TI)):fe("",!0),We(OA,{ref_key:"importDanbooruDialog",ref:ne},null,512)])}}},[["__scopeId","data-v-0c23bf70"]]),kI={id:"weilin_comfyui_tools_prompt_ui_container_main"},CI={key:10,class:"version-update-notification"},EI={class:"version-update-content"},Ua="weilin_tools_",LI=_t({__name:"App",setup(e){Hl();const t=_(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true");localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")||(localStorage.setItem("weilin_prompt_ui_floatingBallEnabled","true"),t.value=!0);const{t:a}=vt(),n=_(""),o=_("look"),s=_("manager"),l=_("prompt_global"),r=_(!1),u=`${Ua}theme`,d=_(localStorage.getItem(u)==="dark"),c=_(""),f=_(!1),m=_(""),g=_(null),v=`${Ua}version_update_remind`,y=()=>{f.value=!1,g.value&&(clearTimeout(g.value),g.value=null)},b=()=>{window.open("https://github.com/weilin9999/WeiLin-Comfyui-Tools","_blank"),y()},x=()=>{localStorage.setItem(v,"false"),y()},L={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:500}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:300,height:600}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}},danbooru_manager_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:800,height:600}}},U=()=>{try{const F=localStorage.getItem(`${Ua}windowStates`);if(F){const P=JSON.parse(F),J={...L};for(const le in P)le in J&&(J[le]={...L[le],...P[le],visible:P[le].is_default_close?!1:P[le].visible});return J}}catch(F){console.error("Error loading window states:",F)}return{...L}},S=_(U());Xe(S,F=>{try{localStorage.setItem(`${Ua}windowStates`,JSON.stringify(F))}catch(P){console.error("Error saving window states:",P)}},{deep:!0}),rt(()=>{Object.keys(S.value).forEach(F=>{He.registerWindow(F)}),R(),window.addEventListener("message",ne),ae()});const R=()=>{let F=localStorage.getItem(u);F||(localStorage.setItem(u,"dark"),F="dark",d.value=!0),d.value=F==="dark";const P=document.getElementById("weilin_comfyui_tools_prompt_ui_div");P&&P.setAttribute("data-theme",d.value?"dark":"light")};Rn(()=>{Object.keys(S.value).forEach(F=>{He.unregisterWindow(F)}),window.removeEventListener("message",ne),g.value&&(clearTimeout(g.value),g.value=null)});const V=F=>{F==="prompt"&&(n.value=""),S.value[F].visible=!1},j=(F,P)=>{S.value[F]&&(S.value[F].position={...P})},H=(F,P)=>{S.value[F]&&(S.value[F].size={...P})},q=()=>{const F={loraDetail:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}}},P={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:400}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:400,height:800}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}},danbooru_manager_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:800,height:600}}};localStorage.setItem(`${Ua}windowStates`,JSON.stringify(P)),localStorage.setItem(`${Ua}loraDetailState`,JSON.stringify(F)),S.value=U()};(()=>{mn.getTranslateSetting().then(F=>{localStorage.setItem("weilin_prompt_ui_translater_setting",F.data)}).catch(F=>{message({type:"warn",str:"message.getTranslaterFail"})})})();const re=_(),O=_(),Y=_(),Z=_(),W=_(),ne=F=>{F.data.type==="weilin_prompt_ui_openTagManager"?(s.value="manager",S.value.tag.visible=!0,He.setActiveWindow("tag")):F.data.type==="weilin_prompt_ui_openTagManager_prompt"?(s.value="prompt",S.value.tag.visible=!0,He.setActiveWindow("tag")):F.data.type==="weilin_prompt_ui_openPromptBox"?(n.value=F.data.id,l.value="prompt",S.value.prompt.visible=!0,r.value=!1,F.data.node==="WeiLinPromptUI"&&(r.value=!0),Ge(()=>{re.value.setPromptText(F.data.prompt)}),He.setActiveWindow("prompt")):F.data.type==="weilin_prompt_ui_openLoraManager"?(o.value="look",S.value.lora.visible=!0,He.setActiveWindow("lora")):F.data.type==="weilin_prompt_ui_openLoraManager_addLora"?(o.value="addLora",S.value.lora.visible=!0,Ge(()=>{Y.value.openSetSeed(0,"")}),He.setActiveWindow("lora")):F.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack"?(o.value="addLora",S.value.lora.visible=!0,Ge(()=>{Y.value.openSetSeed(1,F.data.seed)}),He.setActiveWindow("lora")):F.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack_node"?(o.value="addLora",S.value.lora.visible=!0,Ge(()=>{Y.value.openSetSeed(2,F.data.seed)}),He.setActiveWindow("lora")):F.data.type==="weilin_prompt_ui_openHistoryManager"?(S.value.history.visible=!0,He.setActiveWindow("history")):F.data.type==="weilin_prompt_ui_openAiWindow"?(S.value.ai_window.visible=!0,He.setActiveWindow("ai_window")):F.data.type==="weilin_prompt_ui_open_node_list_window"?(S.value.node_list_window.visible=!0,He.setActiveWindow("node_list_window")):F.data.type==="weilin_prompt_ui_prompt_finish_prompt"?window.postMessage({type:"weilin_prompt_ui_prompt_update_prompt_"+n.value,data:F.data.data},"*"):F.data.type==="weilin_prompt_ui_open_global_prompt_box"?(l.value="prompt_global",n.value="global",S.value.prompt.visible=!0,r.value=!1,Ge(()=>{re.value.setPromptText(c.value)}),He.setActiveWindow("prompt")):F.data.type==="weilin_prompt_ui_open_global_tag_manager"?(s.value="manager",S.value.tag.visible=!0,He.setActiveWindow("tag")):F.data.type==="weilin_prompt_ui_open_global_lora_manager"?(o.value="look",S.value.lora.visible=!0,He.setActiveWindow("lora")):F.data.type==="weilin_prompt_ui_prompt_update_prompt_global"?c.value=F.data.data:F.data.type==="weilin_prompt_ui_floating_ball_setting"?t.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true":F.data.type==="weilin_prompt_ui_restore_window"?q():F.data.type==="weilin_prompt_ui_open_cloud_window"?(S.value.cloud_window.visible=!0,He.setActiveWindow("cloud_window")):F.data.type==="weilin_prompt_ui_open_node_lora_stack_window"?(S.value.lora_stack_window.visible=!0,Ge(()=>{O.value.initLoraStack(F.data.prompt,F.data.seed)}),He.setActiveWindow("lora_stack_window")):F.data.type==="weilin_prompt_ui_openLoraDetail"?Z.value.open({name:F.data.lora}):F.data.type==="weilin_prompt_ui_open_danbooru_manager_window"?(S.value.danbooru_manager_window.visible=!0,He.setActiveWindow("danbooru_manager_window")):F.data.type==="weilin_prompt_ui_prompt_inner_get_node_tag_template_id"?window.postMessage({type:"weilin_prompt_ui_get_template_"+n.value,data:F.data.data},"*"):F.data.type==="weilin_prompt_ui_get_template_response"?n.value===F.data.id&&window.postMessage({type:"weilin_prompt_ui_prompt_inner_get_node_tag_template_id_response",data:F.data.data},"*"):F.data.type==="weilin_prompt_ui_prompt_inner_update_node_tag_template_id"?window.postMessage({type:"weilin_prompt_ui_update_template_"+n.value,data:F.data.data},"*"):F.data.type==="weilin_prompt_ui_prompt_inner_get_node_tag_template_id_gorandom"?window.postMessage({type:"weilin_prompt_ui_get_template_go_random_"+n.value,data:F.data.data},"*"):F.data.type==="weilin_prompt_ui_get_template_go_random_response"&&n.value===F.data.id&&window.postMessage({type:"weilin_prompt_ui_prompt_inner_get_node_tag_template_id_go_random_response",data:F.data.data},"*")},ae=async()=>{try{if(localStorage.getItem(v)==="false"){console.info("WeiLin-Comfyui-Tools ");return}const P=await fetch("https://raw.githubusercontent.com/weilin9999/WeiLin-Comfyui-Tools/refs/heads/main/src/src/utils/version.js");if(!P.ok){console.error(":",P.status);return}const le=(await P.text()).match(/export const version = "([^"]+)"/);if(le&&le[1]){const G=le[1];console.info(`WeiLin-Comfyui-Tools GitHub ${G}`),G!==wo&&(m.value=`WeiLin-Comfyui-Tools  ${G} ${wo}`,f.value=!0,g.value&&clearTimeout(g.value),g.value=setTimeout(()=>{f.value=!1,g.value=null},1e4),console.info(`WeiLin-Comfyui-Tools  ${G} ${wo} GitHubhttps://github.com/weilin9999/WeiLin-Comfyui-Tools`))}}catch(F){console.error("WeiLin-Comfyui-Tools :",F)}};return(F,P)=>(T(),k("div",kI,[S.value.prompt.visible?(T(),bt(En,{key:0,name:"promptBox",title:l.value==="prompt"?p(a)("promptBox.windowTitle"):p(a)("promptBox.windowTitleGlobal"),position:S.value.prompt.position,size:S.value.prompt.size,"z-index":p(He).getZIndex("prompt"),"onUpdate:position":P[0]||(P[0]=J=>j("prompt",J)),"onUpdate:size":P[1]||(P[1]=J=>H("prompt",J)),onActive:P[2]||(P[2]=J=>p(He).setActiveWindow("prompt")),onClose:P[3]||(P[3]=J=>V("prompt"))},{default:ut(()=>[We(qE,{promptManager:l.value,hasPromptLoraStack:r.value,ref_key:"promptBoxRef",ref:re},null,8,["promptManager","hasPromptLoraStack"])]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.tag.visible?(T(),bt(En,{key:1,name:"tagManager",title:p(a)("tagManager.windowTitle"),position:S.value.tag.position,size:S.value.tag.size,"z-index":p(He).getZIndex("tag"),"onUpdate:position":P[4]||(P[4]=J=>j("tag",J)),"onUpdate:size":P[5]||(P[5]=J=>H("tag",J)),onActive:P[6]||(P[6]=J=>p(He).setActiveWindow("tag")),onClose:P[7]||(P[7]=J=>V("tag"))},{default:ut(()=>[We(qg,{tagManager:s.value},null,8,["tagManager"])]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.lora.visible?(T(),bt(En,{key:2,name:"loraManager",title:p(a)("loraManager.windowTitle"),position:S.value.lora.position,size:S.value.lora.size,"z-index":p(He).getZIndex("lora"),"onUpdate:position":P[8]||(P[8]=J=>j("lora",J)),"onUpdate:size":P[9]||(P[9]=J=>H("lora",J)),onActive:P[10]||(P[10]=J=>p(He).setActiveWindow("lora")),onClose:P[11]||(P[11]=J=>V("lora"))},{default:ut(()=>[We(tm,{loraManager:o.value,ref_key:"loraManagerRef",ref:Y},null,8,["loraManager"])]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.history.visible?(T(),bt(En,{key:3,name:"historyManager",title:p(a)("history.windowTitle"),position:S.value.history.position,size:S.value.history.size,"z-index":p(He).getZIndex("history"),"onUpdate:position":P[12]||(P[12]=J=>j("history",J)),"onUpdate:size":P[13]||(P[13]=J=>H("history",J)),onActive:P[14]||(P[14]=J=>p(He).setActiveWindow("history")),onClose:P[15]||(P[15]=J=>V("history"))},{default:ut(()=>[We(BL)]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.ai_window.visible?(T(),bt(En,{key:4,name:"aiWindow",title:p(a)("aiWindow.windowTitle"),position:S.value.ai_window.position,size:S.value.ai_window.size,"z-index":p(He).getZIndex("ai_window"),"onUpdate:position":P[16]||(P[16]=J=>j("ai_window",J)),"onUpdate:size":P[17]||(P[17]=J=>H("ai_window",J)),onActive:P[18]||(P[18]=J=>p(He).setActiveWindow("ai_window")),onClose:P[19]||(P[19]=J=>V("ai_window"))},{default:ut(()=>[We(c$)]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.node_list_window.visible?(T(),bt(En,{key:5,name:"nodeListWindow",title:p(a)("nodeListWindow.windowTitle"),position:S.value.node_list_window.position,size:S.value.node_list_window.size,"z-index":p(He).getZIndex("node_list_window"),"onUpdate:position":P[20]||(P[20]=J=>j("node_list_window",J)),"onUpdate:size":P[21]||(P[21]=J=>H("node_list_window",J)),onActive:P[22]||(P[22]=J=>p(He).setActiveWindow("node_list_window")),onClose:P[23]||(P[23]=J=>V("node_list_window"))},{default:ut(()=>[We(b$)]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.cloud_window.visible?(T(),bt(En,{key:6,name:"cloudWindow",title:p(a)("cloudWindow.windowTitle"),position:S.value.cloud_window.position,size:S.value.cloud_window.size,"z-index":p(He).getZIndex("cloud_window"),"onUpdate:position":P[24]||(P[24]=J=>j("cloud_window",J)),"onUpdate:size":P[25]||(P[25]=J=>H("cloud_window",J)),onActive:P[26]||(P[26]=J=>p(He).setActiveWindow("cloud_window")),onClose:P[27]||(P[27]=J=>V("cloud_window"))},{default:ut(()=>[We(R$)]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.lora_stack_window.visible?(T(),bt(En,{key:7,name:"loraStackWindow",title:p(a)("controls.loraStack"),position:S.value.lora_stack_window.position,size:S.value.lora_stack_window.size,"z-index":p(He).getZIndex("lora_stack_window"),"onUpdate:position":P[28]||(P[28]=J=>j("lora_stack_window",J)),"onUpdate:size":P[29]||(P[29]=J=>H("lora_stack_window",J)),onActive:P[30]||(P[30]=J=>p(He).setActiveWindow("lora_stack_window")),onClose:P[31]||(P[31]=J=>V("lora_stack_window"))},{default:ut(()=>[We(J$,{ref_key:"loraStackRef",ref:O},null,512)]),_:1},8,["title","position","size","z-index"])):fe("",!0),S.value.danbooru_manager_window.visible?(T(),bt(En,{key:8,name:"DanbooruManagerWindow",title:p(a)("controls.danbooruManager"),position:S.value.danbooru_manager_window.position,size:S.value.danbooru_manager_window.size,"z-index":p(He).getZIndex("danbooru_manager_window"),"onUpdate:position":P[32]||(P[32]=J=>j("danbooru_manager_window",J)),"onUpdate:size":P[33]||(P[33]=J=>H("danbooru_manager_window",J)),onActive:P[34]||(P[34]=J=>p(He).setActiveWindow("danbooru_manager_window")),onClose:P[35]||(P[35]=J=>V("danbooru_manager_window"))},{default:ut(()=>[We(SI,{ref_key:"danbooruManagerRef",ref:W},null,512)]),_:1},8,["title","position","size","z-index"])):fe("",!0),t.value?(T(),bt(qL,{key:9})):fe("",!0),We(ur,{ref_key:"loraDetailLoraStackRef",ref:Z},null,512),f.value?(T(),k("div",CI,[i("div",EI,[i("span",null,h(m.value),1),i("div",{class:"version-update-actions"},[i("button",{class:"goto-github-btn",onClick:b},"GitHub"),i("button",{class:"no-remind-btn",onClick:x},""),i("button",{class:"close-version-update",onClick:y},"")])])])):fe("",!0)]))}},[["__scopeId","data-v-b86e2bdb"]]);var fr={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var $I=fr.exports,rm;function AI(){return rm||(rm=1,(function(e,t){(function(n,o){e.exports=o()})($I,function(){return(function(){var a={686:(function(s,l,r){r.d(l,{default:function(){return le}});var u=r(279),d=r.n(u),c=r(370),f=r.n(c),m=r(817),g=r.n(m);function v(G){try{return document.execCommand(G)}catch{return!1}}var y=function(ie){var oe=g()(ie);return v("cut"),oe},b=y;function x(G){var ie=document.documentElement.getAttribute("dir")==="rtl",oe=document.createElement("textarea");oe.style.fontSize="12pt",oe.style.border="0",oe.style.padding="0",oe.style.margin="0",oe.style.position="absolute",oe.style[ie?"right":"left"]="-9999px";var be=window.pageYOffset||document.documentElement.scrollTop;return oe.style.top="".concat(be,"px"),oe.setAttribute("readonly",""),oe.value=G,oe}var L=function(ie,oe){var be=x(ie);oe.container.appendChild(be);var ce=g()(be);return v("copy"),be.remove(),ce},U=function(ie){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},be="";return typeof ie=="string"?be=L(ie,oe):ie instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ie==null?void 0:ie.type)?be=L(ie.value,oe):(be=g()(ie),v("copy")),be},S=U;function R(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(oe){return typeof oe}:R=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},R(G)}var V=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=ie.action,be=oe===void 0?"copy":oe,ce=ie.container,M=ie.target,Q=ie.text;if(be!=="copy"&&be!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(M!==void 0)if(M&&R(M)==="object"&&M.nodeType===1){if(be==="copy"&&M.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(be==="cut"&&(M.hasAttribute("readonly")||M.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Q)return S(Q,{container:ce});if(M)return be==="cut"?b(M):S(M,{container:ce})},j=V;function H(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(oe){return typeof oe}:H=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},H(G)}function q(G,ie){if(!(G instanceof ie))throw new TypeError("Cannot call a class as a function")}function _e(G,ie){for(var oe=0;oe<ie.length;oe++){var be=ie[oe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}function re(G,ie,oe){return ie&&_e(G.prototype,ie),oe&&_e(G,oe),G}function O(G,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(ie&&ie.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),ie&&Y(G,ie)}function Y(G,ie){return Y=Object.setPrototypeOf||function(be,ce){return be.__proto__=ce,be},Y(G,ie)}function Z(G){var ie=ae();return function(){var be=F(G),ce;if(ie){var M=F(this).constructor;ce=Reflect.construct(be,arguments,M)}else ce=be.apply(this,arguments);return W(this,ce)}}function W(G,ie){return ie&&(H(ie)==="object"||typeof ie=="function")?ie:ne(G)}function ne(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(G){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},F(G)}function P(G,ie){var oe="data-clipboard-".concat(G);if(ie.hasAttribute(oe))return ie.getAttribute(oe)}var J=(function(G){O(oe,G);var ie=Z(oe);function oe(be,ce){var M;return q(this,oe),M=ie.call(this),M.resolveOptions(ce),M.listenClick(be),M}return re(oe,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=H(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var M=this;this.listener=f()(ce,"click",function(Q){return M.onClick(Q)})}},{key:"onClick",value:function(ce){var M=ce.delegateTarget||ce.currentTarget,Q=this.action(M)||"copy",se=j({action:Q,container:this.container,target:this.target(M),text:this.text(M)});this.emit(se?"success":"error",{action:Q,text:se,trigger:M,clearSelection:function(){M&&M.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return P("action",ce)}},{key:"defaultTarget",value:function(ce){var M=P("target",ce);if(M)return document.querySelector(M)}},{key:"defaultText",value:function(ce){return P("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return S(ce,M)}},{key:"cut",value:function(ce){return b(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],M=typeof ce=="string"?[ce]:ce,Q=!!document.queryCommandSupported;return M.forEach(function(se){Q=Q&&!!document.queryCommandSupported(se)}),Q}}]),oe})(d()),le=J}),828:(function(s){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function u(d,c){for(;d&&d.nodeType!==l;){if(typeof d.matches=="function"&&d.matches(c))return d;d=d.parentNode}}s.exports=u}),438:(function(s,l,r){var u=r(828);function d(m,g,v,y,b){var x=f.apply(this,arguments);return m.addEventListener(v,x,b),{destroy:function(){m.removeEventListener(v,x,b)}}}function c(m,g,v,y,b){return typeof m.addEventListener=="function"?d.apply(null,arguments):typeof v=="function"?d.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(x){return d(x,g,v,y,b)}))}function f(m,g,v,y){return function(b){b.delegateTarget=u(b.target,g),b.delegateTarget&&y.call(m,b)}}s.exports=c}),879:(function(s,l){l.node=function(r){return r!==void 0&&r instanceof HTMLElement&&r.nodeType===1},l.nodeList=function(r){var u=Object.prototype.toString.call(r);return r!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in r&&(r.length===0||l.node(r[0]))},l.string=function(r){return typeof r=="string"||r instanceof String},l.fn=function(r){var u=Object.prototype.toString.call(r);return u==="[object Function]"}}),370:(function(s,l,r){var u=r(879),d=r(438);function c(v,y,b){if(!v&&!y&&!b)throw new Error("Missing required arguments");if(!u.string(y))throw new TypeError("Second argument must be a String");if(!u.fn(b))throw new TypeError("Third argument must be a Function");if(u.node(v))return f(v,y,b);if(u.nodeList(v))return m(v,y,b);if(u.string(v))return g(v,y,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(v,y,b){return v.addEventListener(y,b),{destroy:function(){v.removeEventListener(y,b)}}}function m(v,y,b){return Array.prototype.forEach.call(v,function(x){x.addEventListener(y,b)}),{destroy:function(){Array.prototype.forEach.call(v,function(x){x.removeEventListener(y,b)})}}}function g(v,y,b){return d(document.body,v,y,b)}s.exports=c}),817:(function(s){function l(r){var u;if(r.nodeName==="SELECT")r.focus(),u=r.value;else if(r.nodeName==="INPUT"||r.nodeName==="TEXTAREA"){var d=r.hasAttribute("readonly");d||r.setAttribute("readonly",""),r.select(),r.setSelectionRange(0,r.value.length),d||r.removeAttribute("readonly"),u=r.value}else{r.hasAttribute("contenteditable")&&r.focus();var c=window.getSelection(),f=document.createRange();f.selectNodeContents(r),c.removeAllRanges(),c.addRange(f),u=c.toString()}return u}s.exports=l}),279:(function(s){function l(){}l.prototype={on:function(r,u,d){var c=this.e||(this.e={});return(c[r]||(c[r]=[])).push({fn:u,ctx:d}),this},once:function(r,u,d){var c=this;function f(){c.off(r,f),u.apply(d,arguments)}return f._=u,this.on(r,f,d)},emit:function(r){var u=[].slice.call(arguments,1),d=((this.e||(this.e={}))[r]||[]).slice(),c=0,f=d.length;for(c;c<f;c++)d[c].fn.apply(d[c].ctx,u);return this},off:function(r,u){var d=this.e||(this.e={}),c=d[r],f=[];if(c&&u)for(var m=0,g=c.length;m<g;m++)c[m].fn!==u&&c[m].fn._!==u&&f.push(c[m]);return f.length?d[r]=f:delete d[r],this}},s.exports=l,s.exports.TinyEmitter=l})},n={};function o(s){if(n[s])return n[s].exports;var l=n[s]={exports:{}};return a[s](l,l.exports,o),l.exports}return(function(){o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,{a:l}),l}})(),(function(){o.d=function(s,l){for(var r in l)o.o(l,r)&&!o.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:l[r]})}})(),(function(){o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)}})(),o(686)})().default})})(fr)),fr.exports}var II=AI();const MI=Zg(II),RI=e=>({toClipboard(t,a){return new Promise((n,o)=>{const s=document.createElement("button"),l=new MI(s,{text:()=>t,action:()=>"copy",container:a!==void 0?a:document.body});l.on("success",r=>{l.destroy(),n(r)}),l.on("error",r=>{l.destroy(),o(r)}),document.body.appendChild(s),s.click(),document.body.removeChild(s)})}}),OI=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,NI=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,DI=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function PI(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){FI(e);return}return t}function FI(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function BI(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const a=e.trim();if(a.length<=9)switch(a.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!DI.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(OI.test(e)||NI.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,PI)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function UI(e,t){if(e==null)return;let a=e;for(let n=0;n<t.length;n++){if(a==null||a[t[n]]==null)return;a=a[t[n]]}return a}function yu(e,t,a){if(a.length===0)return t;const n=a[0];return a.length>1&&(t=yu(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(a[1]))?[]:{}:e[n],t,Array.prototype.slice.call(a,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function im(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const a={};for(const n in e)a[n]=e[n];return delete a[t[0]],a}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const a={};for(const n in e)a[n]=e[n];return a}return yu(e,im(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function um(e,t){return t.map(a=>a.split(".")).map(a=>[a,UI(e,a)]).filter(a=>a[1]!==void 0).reduce((a,n)=>yu(a,n[1],n[0]),{})}function cm(e,t){return t.map(a=>a.split(".")).reduce((a,n)=>im(a,n),e)}function dm(e,{storage:t,serializer:a,key:n,debug:o,pick:s,omit:l,beforeHydrate:r,afterHydrate:u},d,c=!0){try{c&&(r==null||r(d));const f=t.getItem(n);if(f){const m=a.deserialize(f),g=s?um(m,s):m,v=l?cm(g,l):g;e.$patch(v)}c&&(u==null||u(d))}catch(f){o&&console.error("[pinia-plugin-persistedstate]",f)}}function fm(e,{storage:t,serializer:a,key:n,debug:o,pick:s,omit:l}){try{const r=s?um(e,s):e,u=l?cm(r,l):r,d=a.serialize(u);t.setItem(n,d)}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function HI(e,t,a){const{pinia:n,store:o,options:{persist:s=a}}=e;if(!s)return;if(!(o.$id in n.state.value)){const u=n._s.get(o.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const r=(Array.isArray(s)?s:s===!0?[{}]:[s]).map(t);o.$hydrate=({runHooks:u=!0}={})=>{r.forEach(d=>{dm(o,d,e,u)})},o.$persist=()=>{r.forEach(u=>{fm(o.$state,u)})},r.forEach(u=>{dm(o,u,e),o.$subscribe((d,c)=>fm(c,u),{detached:!0})})}function VI(e={}){return function(t){HI(t,a=>({key:(e.key?e.key:n=>n)(a.key??t.store.$id),debug:a.debug??e.debug??!1,serializer:a.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>BI(n)},storage:a.storage??e.storage??window.localStorage,beforeHydrate:a.beforeHydrate,afterHydrate:a.afterHydrate,pick:a.pick,omit:a.omit}),e.auto??!1)}}var jI=VI();const{toClipboard:WI}=RI(),bu=document.createElement("div");bu.id="weilin_comfyui_tools_prompt_ui_div",document.querySelector("body").appendChild(bu);const pm=f2();pm.use(jI);const pr=i1(LI);pr.use(pm),pr.use(Is),W_(),pr.config.globalProperties.$copyText=WI,pr.mount(bu),console.log("WeiLin Prompt UI is running - version "+wo),console.log("WeiLin  -  "+wo)}));
//# sourceMappingURL=main.entry.js.map

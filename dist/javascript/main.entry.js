(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$3.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet=e=>toTypeString$1(e)==="[object Set]",isDate$2=e=>toTypeString$1(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject$3=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},def=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=isString$2(a)?parseStringStyle(a):normalizeStyle(a);if(s)for(const r in s)t[r]=s[r]}return t}else if(isString$2(e)||isObject$2(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const a=n.split(propertyDelimiterRE);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$2(e))for(let n=0;n<e.length;n++){const a=normalizeClass(e[n]);a&&(t+=a+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=looseEqual(e[a],t[a]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate$2(e),a=isDate$2(t);if(n||a)return n&&a?e.getTime()===t.getTime():!1;if(n=isSymbol(e),a=isSymbol(t),n||a)return e===t;if(n=isArray$2(e),a=isArray$2(t),n||a)return n&&a?looseCompareArrays(e,t):!1;if(n=isObject$2(e),a=isObject$2(t),n||a){if(!n||!a)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const i=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(i&&!l||!i&&l||!looseEqual(e[o],t[o]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString$1=e=>isString$2(e)?e:e==null?"":isArray$2(e)||isObject$2(e)&&(e.toString===objectToString$1||!isFunction$2(e.toString))?isRef$1(e)?toDisplayString$1(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s],r)=>(n[stringifySymbol(a,r)+" =>"]=s,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$2(t)&&!isArray$2(t)&&!isPlainObject$3(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){this._active=!1;let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(this.effects.length=0,n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=n}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,n=e.depsTail,a=n;for(;a;){const s=a.prevDep;a.version===-1?(a===n&&(n=s),removeSub(a),removeDep(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=s}e.deps=t,e.depsTail=n}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion))return;e.globalVersion=globalVersion;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!isDirty(e)){e.flags&=-3;return}const n=activeSub,a=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const s=e.fn(e._value);(t.version===0||hasChanged(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{activeSub=n,shouldTrack=a,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:n,prevSub:a,nextSub:s}=e;if(a&&(a.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)removeSub(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const a=n.nextDep;a.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=a),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=a)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)addSub(a)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeSub){let a=targetMap.get(e);a||targetMap.set(e,a=new Map);let s=a.get(n);s||(a.set(n,s=new Dep),s.map=a,s.key=n),s.track()}}function trigger(e,t,n,a,s,r){const o=targetMap.get(e);if(!o){globalVersion++;return}const i=l=>{l&&l.trigger()};if(startBatch(),t==="clear")o.forEach(i);else{const l=isArray$2(e),c=l&&isIntegerKey(n);if(l&&n==="length"){const u=Number(a);o.forEach((d,g)=>{(g==="length"||g===ARRAY_ITERATE_KEY||!isSymbol(g)&&g>=u)&&i(d)})}else switch((n!==void 0||o.has(void 0))&&i(o.get(n)),c&&i(o.get(ARRAY_ITERATE_KEY)),t){case"add":l?c&&i(o.get("length")):(i(o.get(ITERATE_KEY)),isMap(e)&&i(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(i(o.get(ITERATE_KEY)),isMap(e)&&i(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&i(o.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const n=targetMap.get(e);return n&&n.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$2(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply$1(this,"every",e,t,void 0,arguments)},filter(e,t){return apply$1(this,"filter",e,t,n=>n.map(toReactive),arguments)},find(e,t){return apply$1(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply$1(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply$1(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply$1(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply$1(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply$1(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply$1(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,n){const a=shallowReadArray(e),s=a[t]();return a!==e&&!isShallow(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const arrayProto=Array.prototype;function apply$1(e,t,n,a,s,r){const o=shallowReadArray(e),i=o!==e&&!isShallow(e),l=o[t];if(l!==arrayProto[t]){const d=l.apply(e,r);return i?toReactive(d):d}let c=n;o!==e&&(i?c=function(d,g){return n.call(this,toReactive(d),g,e)}:n.length>2&&(c=function(d,g){return n.call(this,d,g,e)}));const u=l.call(o,c,a);return i&&s?s(u):u}function reduce(e,t,n,a){const s=shallowReadArray(e);let r=n;return s!==e&&(isShallow(e)?n.length>3&&(r=function(o,i,l){return n.call(this,o,i,l,e)}):r=function(o,i,l){return n.call(this,o,toReactive(i),l,e)}),s[t](r,...a)}function searchProxy(e,t,n){const a=toRaw(e);track(a,"iterate",ARRAY_ITERATE_KEY);const s=a[t](...n);return(s===-1||s===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),a[t](...n)):s}function noTracking(e,t,n=[]){pauseTracking(),startBatch();const a=toRaw(e)[t].apply(e,n);return endBatch(),resetTracking(),a}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty$2(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,a){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return a===(s?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=isArray$2(t);if(!s){let l;if(o&&(l=arrayInstrumentations[n]))return l;if(n==="hasOwnProperty")return hasOwnProperty$2}const i=Reflect.get(t,n,isRef(t)?t:a);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(s||track(t,"get",n),r)?i:isRef(i)?o&&isIntegerKey(n)?i:i.value:isObject$2(i)?s?readonly(i):reactive(i):i}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,a,s){let r=t[n];if(!this._isShallow){const l=isReadonly(r);if(!isShallow(a)&&!isReadonly(a)&&(r=toRaw(r),a=toRaw(a)),!isArray$2(t)&&isRef(r)&&!isRef(a))return l?!1:(r.value=a,!0)}const o=isArray$2(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn$1(t,n),i=Reflect.set(t,n,a,isRef(t)?t:s);return t===toRaw(s)&&(o?hasChanged(a,r)&&trigger(t,"set",n,a):trigger(t,"add",n,a)),i}deleteProperty(t,n){const a=hasOwn$1(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&a&&trigger(t,"delete",n,void 0),s}has(t,n){const a=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),a}ownKeys(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,n){return function(...a){const s=this.__v_raw,r=toRaw(s),o=isMap(r),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...a),u=n?toShallow:t?toReadonly:toReactive;return!t&&track(r,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:g}=c.next();return g?{value:d,done:g}:{value:i?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const n={get(s){const r=this.__v_raw,o=toRaw(r),i=toRaw(s);e||(hasChanged(s,i)&&track(o,"get",s),track(o,"get",i));const{has:l}=getProto(o),c=t?toShallow:e?toReadonly:toReactive;if(l.call(o,s))return c(r.get(s));if(l.call(o,i))return c(r.get(i));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!e&&track(toRaw(s),"iterate",ITERATE_KEY),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=toRaw(r),i=toRaw(s);return e||(hasChanged(s,i)&&track(o,"has",s),track(o,"has",i)),s===i?r.has(s):r.has(s)||r.has(i)},forEach(s,r){const o=this,i=o.__v_raw,l=toRaw(i),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),i.forEach((u,d)=>s.call(r,c(u),c(d),o))}};return extend$1(n,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(s){!t&&!isShallow(s)&&!isReadonly(s)&&(s=toRaw(s));const r=toRaw(this);return getProto(r).has.call(r,s)||(r.add(s),trigger(r,"add",s,s)),this},set(s,r){!t&&!isShallow(r)&&!isReadonly(r)&&(r=toRaw(r));const o=toRaw(this),{has:i,get:l}=getProto(o);let c=i.call(o,s);c||(s=toRaw(s),c=i.call(o,s));const u=l.call(o,s);return o.set(s,r),c?hasChanged(r,u)&&trigger(o,"set",s,r):trigger(o,"add",s,r),this},delete(s){const r=toRaw(this),{has:o,get:i}=getProto(r);let l=o.call(r,s);l||(s=toRaw(s),l=o.call(r,s)),i&&i.call(r,s);const c=r.delete(s);return l&&trigger(r,"delete",s,void 0),c},clear(){const s=toRaw(this),r=s.size!==0,o=s.clear();return r&&trigger(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=createIterableMethod(s,e,t)}),n}function createInstrumentationGetter(e,t){const n=createInstrumentations(e,t);return(a,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(hasOwn$1(n,s)&&s in a?n:a,s,r)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,a,s){if(!isObject$2(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=getTargetType(e);if(o===0)return e;const i=new Proxy(e,o===2?a:n);return s.set(e,i),i}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn$1(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,a=this.__v_isShallow||isShallow(t)||isReadonly(t);t=a?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=a?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>t==="__v_raw"?e:unref(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,a){this._object=t,this._key=n,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(e,t,n){const a=e[t];return isRef(a)?a:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,a){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,n=!1){let a,s;return isFunction$2(e)?a=e:(a=e.get,s=e.set),new ComputedRefImpl(a,s,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,n=activeWatcher){if(n){let a=cleanupMap.get(n);a||cleanupMap.set(n,a=[]),a.push(e)}}function watch$1(e,t,n=EMPTY_OBJ){const{immediate:a,deep:s,once:r,scheduler:o,augmentJob:i,call:l}=n,c=T=>s?T:isShallow(T)||s===!1||s===0?traverse(T,1):traverse(T);let u,d,g,_,f=!1,y=!1;if(isRef(e)?(d=()=>e.value,f=isShallow(e)):isReactive(e)?(d=()=>c(e),f=!0):isArray$2(e)?(y=!0,f=e.some(T=>isReactive(T)||isShallow(T)),d=()=>e.map(T=>{if(isRef(T))return T.value;if(isReactive(T))return c(T);if(isFunction$2(T))return l?l(T,2):T()})):isFunction$2(e)?t?d=l?()=>l(e,2):e:d=()=>{if(g){pauseTracking();try{g()}finally{resetTracking()}}const T=activeWatcher;activeWatcher=u;try{return l?l(e,3,[_]):e(_)}finally{activeWatcher=T}}:d=NOOP,t&&s){const T=d,S=s===!0?1/0:s;d=()=>traverse(T(),S)}const w=getCurrentScope(),b=()=>{u.stop(),w&&w.active&&remove(w.effects,u)};if(r&&t){const T=t;t=(...S)=>{T(...S),b()}}let $=y?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const E=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(t){const S=u.run();if(s||f||(y?S.some((A,L)=>hasChanged(A,$[L])):hasChanged(S,$))){g&&g();const A=activeWatcher;activeWatcher=u;try{const L=[S,$===INITIAL_WATCHER_VALUE?void 0:y&&$[0]===INITIAL_WATCHER_VALUE?[]:$,_];l?l(t,3,L):t(...L),$=S}finally{activeWatcher=A}}}else u.run()};return i&&i(E),u=new ReactiveEffect(d),u.scheduler=o?()=>o(E,!1):E,_=T=>onWatcherCleanup(T,!1,u),g=u.onStop=()=>{const T=cleanupMap.get(u);if(T){if(l)l(T,4);else for(const S of T)S();cleanupMap.delete(u)}},t?a?E(!0):$=u.run():o?o(E.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function traverse(e,t=1/0,n){if(t<=0||!isObject$2(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,isRef(e))traverse(e.value,t,n);else if(isArray$2(e))for(let a=0;a<e.length;a++)traverse(e[a],t,n);else if(isSet(e)||isMap(e))e.forEach(a=>{traverse(a,t,n)});else if(isPlainObject$3(e)){for(const a in e)traverse(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&traverse(e[a],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,a=n&&n.appContext.config.warnHandler,s=getComponentTrace();if(a)callWithErrorHandling(a,n,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${formatComponentName(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...formatTrace(s)),console.warn(...r)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,a)=>{t.push(...a===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,s=` at <${formatComponentName(e.component,e.type,a)}`,r=">"+n;return e.props?[s,...formatProps(e.props),r]:[s+r]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(a=>{t.push(...formatProp(a,e[a]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString$2(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,a){try{return a?e(...a):e()}catch(s){handleError(s,t,n)}}function callWithAsyncErrorHandling(e,t,n,a){if(isFunction$2(e)){const s=callWithErrorHandling(e,t,n,a);return s&&isPromise$1(s)&&s.catch(r=>{handleError(r,t,n)}),s}if(isArray$2(e)){const s=[];for(let r=0;r<e.length;r++)s.push(callWithAsyncErrorHandling(e[r],t,n,a));return s}}function handleError(e,t,n,a=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||EMPTY_OBJ;if(t){let i=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}i=i.parent}if(r){pauseTracking(),callWithErrorHandling(r,null,10,[e,l,c]),resetTracking();return}}logError(e,n,s,a,o)}function logError(e,t,n,a=!0,s=!1){if(s)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const a=t+n>>>1,s=queue[a],r=getId(s);r<e||r===e&&s.flags&2?t=a+1:n=a}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),n=queue[queue.length-1];!n||!(e.flags&2)&&t>=getId(n)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,n=flushIndex+1){for(;n<queue.length;n++){const a=queue[n];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;queue.splice(n,1),n--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,a)=>getId(n)-getId(a));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&setBlockTracking(-1);const r=setCurrentRenderingInstance(t);let o;try{o=e(...s)}finally{setCurrentRenderingInstance(r),a._d&&setBlockTracking(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const n=getComponentPublicInstance(currentRenderingInstance),a=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,i,l=EMPTY_OBJ]=t[s];r&&(isFunction$2(r)&&(r={mounted:r,updated:r}),r.deep&&traverse(o),a.push({dir:r,instance:n,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function invokeDirectiveHook(e,t,n,a){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const i=s[o];r&&(i.oldValue=r[o].value);let l=i.dir[a];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,i,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$2(n)?t?t(n):null:n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,n,a,s,r,o,i,l,c){const{mc:u,pc:d,pbc:g,o:{insert:_,querySelector:f,createText:y,createComment:w}}=c,b=isTeleportDisabled(t.props);let{shapeFlag:$,children:E,dynamicChildren:T}=t;if(e==null){const S=t.el=y(""),A=t.anchor=y("");_(S,n,a),_(A,n,a);const L=(P,X)=>{$&16&&(s&&s.isCE&&(s.ce._teleportTarget=P),u(E,P,X,s,r,o,i,l))},j=()=>{const P=t.target=resolveTarget(t.props,f),X=prepareAnchor(P,t,y,_);P&&(o!=="svg"&&isTargetSVG(P)?o="svg":o!=="mathml"&&isTargetMathML(P)&&(o="mathml"),b||(L(P,X),updateCssVars(t,!1)))};b&&(L(n,A),updateCssVars(t,!0)),isTeleportDeferred(t.props)?queuePostRenderEffect(()=>{j(),t.el.__isMounted=!0},r):j()}else{if(isTeleportDeferred(t.props)&&!e.el.__isMounted){queuePostRenderEffect(()=>{TeleportImpl.process(e,t,n,a,s,r,o,i,l,c),delete e.el.__isMounted},r);return}t.el=e.el,t.targetStart=e.targetStart;const S=t.anchor=e.anchor,A=t.target=e.target,L=t.targetAnchor=e.targetAnchor,j=isTeleportDisabled(e.props),P=j?n:A,X=j?S:L;if(o==="svg"||isTargetSVG(A)?o="svg":(o==="mathml"||isTargetMathML(A))&&(o="mathml"),T?(g(e.dynamicChildren,T,P,s,r,o,i),traverseStaticChildren(e,t,!0)):l||d(e,t,P,X,s,r,o,i,!1),b)j?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,n,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const q=t.target=resolveTarget(t.props,f);q&&moveTeleport(t,q,null,c,0)}else j&&moveTeleport(t,A,L,c,1);updateCssVars(t,b)}},remove(e,t,n,{um:a,o:{remove:s}},r){const{shapeFlag:o,children:i,anchor:l,targetStart:c,targetAnchor:u,target:d,props:g}=e;if(d&&(s(c),s(u)),r&&s(l),o&16){const _=r||!isTeleportDisabled(g);for(let f=0;f<i.length;f++){const y=i[f];a(y,t,n,_,!!y.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:a},m:s},r=2){r===0&&a(e.targetAnchor,t,n);const{el:o,anchor:i,shapeFlag:l,children:c,props:u}=e,d=r===2;if(d&&a(o,t,n),(!d||isTeleportDisabled(u))&&l&16)for(let g=0;g<c.length;g++)s(c[g],t,n,2);d&&a(i,t,n)}function hydrateTeleport(e,t,n,a,s,r,{o:{nextSibling:o,parentNode:i,querySelector:l,insert:c,createText:u}},d){const g=t.target=resolveTarget(t.props,l);if(g){const _=isTeleportDisabled(t.props),f=g._lpa||g.firstChild;if(t.shapeFlag&16)if(_)t.anchor=d(o(e),t,i(e),n,a,s,r),t.targetStart=f,t.targetAnchor=f&&o(f);else{t.anchor=o(e);let y=f;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,g._lpa=t.targetAnchor&&o(t.targetAnchor);break}}y=o(y)}t.targetAnchor||prepareAnchor(g,t,u,c),d(f&&o(f),t,g,n,a,s,r)}updateCssVars(t,_)}return t.anchor&&o(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,t){const n=e.ctx;if(n&&n.ut){let a,s;for(t?(a=e.el,s=e.anchor):(a=e.targetStart,s=e.targetAnchor);a&&a!==s;)a.nodeType===1&&a.setAttribute("data-v-owner",n.uid),a=a.nextSibling;n.ut()}}function prepareAnchor(e,t,n,a){const s=t.targetStart=n(""),r=t.targetAnchor=n("");return s[TeleportEndKey]=r,e&&(a(s,e),a(r,e)),r}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const t=e.subTree;return t.component?recursiveGetSubtree(t.component):t},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),a=useTransitionState();return()=>{const s=t.default&&getTransitionRawChildren(t.default(),!0);if(!s||!s.length)return;const r=findNonCommentChild(s),o=toRaw(e),{mode:i}=o;if(a.isLeaving)return emptyPlaceholder(r);const l=getInnerChild$1(r);if(!l)return emptyPlaceholder(r);let c=resolveTransitionHooks(l,o,a,n,d=>c=d);l.type!==Comment&&setTransitionHooks(l,c);let u=n.subTree&&getInnerChild$1(n.subTree);if(u&&u.type!==Comment&&!isSameVNodeType(l,u)&&recursiveGetSubtree(n).type!==Comment){let d=resolveTransitionHooks(u,o,a,n);if(setTransitionHooks(u,d),i==="out-in"&&l.type!==Comment)return a.isLeaving=!0,d.afterLeave=()=>{a.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},emptyPlaceholder(r);i==="in-out"&&l.type!==Comment?d.delayLeave=(g,_,f)=>{const y=getLeavingNodesForType(a,u);y[String(u.key)]=u,g[leaveCbKey]=()=>{_(),g[leaveCbKey]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{f(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function findNonCommentChild(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Comment){t=n;break}}return t}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function resolveTransitionHooks(e,t,n,a,s){const{appear:r,mode:o,persisted:i=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:_,onAfterLeave:f,onLeaveCancelled:y,onBeforeAppear:w,onAppear:b,onAfterAppear:$,onAppearCancelled:E}=t,T=String(e.key),S=getLeavingNodesForType(n,e),A=(P,X)=>{P&&callWithAsyncErrorHandling(P,a,9,X)},L=(P,X)=>{const q=X[1];A(P,X),isArray$2(P)?P.every(M=>M.length<=1)&&q():P.length<=1&&q()},j={mode:o,persisted:i,beforeEnter(P){let X=l;if(!n.isMounted)if(r)X=w||l;else return;P[leaveCbKey]&&P[leaveCbKey](!0);const q=S[T];q&&isSameVNodeType(e,q)&&q.el[leaveCbKey]&&q.el[leaveCbKey](),A(X,[P])},enter(P){let X=c,q=u,M=d;if(!n.isMounted)if(r)X=b||c,q=$||u,M=E||d;else return;let Z=!1;const le=P[enterCbKey]=ve=>{Z||(Z=!0,ve?A(M,[P]):A(q,[P]),j.delayedLeave&&j.delayedLeave(),P[enterCbKey]=void 0)};X?L(X,[P,le]):le()},leave(P,X){const q=String(e.key);if(P[enterCbKey]&&P[enterCbKey](!0),n.isUnmounting)return X();A(g,[P]);let M=!1;const Z=P[leaveCbKey]=le=>{M||(M=!0,X(),le?A(y,[P]):A(f,[P]),P[leaveCbKey]=void 0,S[q]===e&&delete S[q])};S[q]=e,_?L(_,[P,Z]):Z()},clone(P){const X=resolveTransitionHooks(P,t,n,a,s);return s&&s(X),X}};return j}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&isFunction$2(n.default))return n.default()}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let a=[],s=0;for(let r=0;r<e.length;r++){let o=e[r];const i=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Fragment?(o.patchFlag&128&&s++,a=a.concat(getTransitionRawChildren(o.children,t,i))):(t||o.type!==Comment)&&a.push(i!=null?cloneVNode(o,{key:i}):o)}if(s>1)for(let r=0;r<a.length;r++)a[r].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction$2(e)?extend$1({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,n,a,s=!1){if(isArray$2(e)){e.forEach((f,y)=>setRef(f,t&&(isArray$2(t)?t[y]:t),n,a,s));return}if(isAsyncWrapper(a)&&!s){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&setRef(e,t,n,a.component.subTree);return}const r=a.shapeFlag&4?getComponentPublicInstance(a.component):a.el,o=s?null:r,{i,r:l}=e,c=t&&t.r,u=i.refs===EMPTY_OBJ?i.refs={}:i.refs,d=i.setupState,g=toRaw(d),_=d===EMPTY_OBJ?()=>!1:f=>hasOwn$1(g,f);if(c!=null&&c!==l&&(isString$2(c)?(u[c]=null,_(c)&&(d[c]=null)):isRef(c)&&(c.value=null)),isFunction$2(l))callWithErrorHandling(l,i,12,[o,u]);else{const f=isString$2(l),y=isRef(l);if(f||y){const w=()=>{if(e.f){const b=f?_(l)?d[l]:u[l]:l.value;s?isArray$2(b)&&remove(b,r):isArray$2(b)?b.includes(r)||b.push(r):f?(u[l]=[r],_(l)&&(d[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,_(l)&&(d[l]=o)):y&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,queuePostRenderEffect(w,n)):w()}}}getGlobalThis$1().requestIdleCallback,getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,a,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(a,t,n,s),s=s.parent}}function injectToKeepAliveRoot(e,t,n,a){const s=injectHook(t,e,a,!0);onUnmounted(()=>{remove(a[t],s)},n)}function injectHook(e,t,n=currentInstance,a=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{pauseTracking();const i=setCurrentInstance(n),l=callWithAsyncErrorHandling(t,n,e,o);return i(),resetTracking(),l});return a?s.unshift(r):s.push(r),r}}const createHook=e=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...a)=>t(...a),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(e,t,n=!0,a=!1){const s=currentRenderingInstance||currentInstance;if(s){const r=s.type;{const i=getComponentName(r,!1);if(i&&(i===t||i===camelize(t)||i===capitalize$1(camelize(t))))return r}const o=resolve(s[e]||r[e],t)||resolve(s.appContext[e],t);return!o&&a?r:o}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize$1(camelize(t))])}function renderList(e,t,n,a){let s;const r=n,o=isArray$2(e);if(o||isString$2(e)){const i=o&&isReactive(e);let l=!1;i&&(l=!isShallow(e),e=shallowReadArray(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?toReactive(e[c]):e[c],c,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,r)}else if(isObject$2(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const u=i[l];s[l]=t(e[u],u,l,r)}}else s=[];return s}function renderSlot(e,t,n={},a,s){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return t!=="default"&&(n.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",n,a&&a())],64);let r=e[t];r&&r._c&&(r._d=!1),openBlock();const o=r&&ensureValidVNode(r(n)),i=n.key||o&&o.key,l=createBlock(Fragment,{key:(i&&!isSymbol(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||(a?a():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function ensureValidVNode(e){return e.some(t=>isVNode$1(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn$1(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:a,data:s,props:r,accessCache:o,type:i,appContext:l}=e;let c;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(hasSetupBinding(a,t))return o[t]=1,a[t];if(s!==EMPTY_OBJ&&hasOwn$1(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&hasOwn$1(c,t))return o[t]=3,r[t];if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return o[t]=4,n[t];shouldCacheAccess&&(o[t]=0)}}const u=publicPropertiesMap[t];let d,g;if(u)return t==="$attrs"&&track(e.attrs,"get",""),u(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return o[t]=4,n[t];if(g=l.config.globalProperties,hasOwn$1(g,t))return g[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:r}=e;return hasSetupBinding(s,t)?(s[t]=n,!0):a!==EMPTY_OBJ&&hasOwn$1(a,t)?(a[t]=n,!0):hasOwn$1(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:r}},o){let i;return!!n[o]||e!==EMPTY_OBJ&&hasOwn$1(e,o)||hasSetupBinding(t,o)||(i=r[0])&&hasOwn$1(i,o)||hasOwn$1(a,o)||hasOwn$1(publicPropertiesMap,o)||hasOwn$1(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray$2(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,a=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:g,beforeUpdate:_,updated:f,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:$,destroyed:E,unmounted:T,render:S,renderTracked:A,renderTriggered:L,errorCaptured:j,serverPrefetch:P,expose:X,inheritAttrs:q,components:M,directives:Z,filters:le}=t;if(c&&resolveInjections(c,a,null),o)for(const ie in o){const ge=o[ie];isFunction$2(ge)&&(a[ie]=ge.bind(n))}if(s){const ie=s.call(n,n);isObject$2(ie)&&(e.data=reactive(ie))}if(shouldCacheAccess=!0,r)for(const ie in r){const ge=r[ie],_e=isFunction$2(ge)?ge.bind(n,n):isFunction$2(ge.get)?ge.get.bind(n,n):NOOP,ye=!isFunction$2(ge)&&isFunction$2(ge.set)?ge.set.bind(n):NOOP,ke=computed({get:_e,set:ye});Object.defineProperty(a,ie,{enumerable:!0,configurable:!0,get:()=>ke.value,set:R=>ke.value=R})}if(i)for(const ie in i)createWatcher(i[ie],a,n,ie);if(l){const ie=isFunction$2(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(ge=>{provide(ge,ie[ge])})}u&&callHook$1(u,e,"c");function he(ie,ge){isArray$2(ge)?ge.forEach(_e=>ie(_e.bind(n))):ge&&ie(ge.bind(n))}if(he(onBeforeMount,d),he(onMounted,g),he(onBeforeUpdate,_),he(onUpdated,f),he(onActivated,y),he(onDeactivated,w),he(onErrorCaptured,j),he(onRenderTracked,A),he(onRenderTriggered,L),he(onBeforeUnmount,$),he(onUnmounted,T),he(onServerPrefetch,P),isArray$2(X))if(X.length){const ie=e.exposed||(e.exposed={});X.forEach(ge=>{Object.defineProperty(ie,ge,{get:()=>n[ge],set:_e=>n[ge]=_e})})}else e.exposed||(e.exposed={});S&&e.render===NOOP&&(e.render=S),q!=null&&(e.inheritAttrs=q),M&&(e.components=M),Z&&(e.directives=Z),P&&markAsyncBoundary(e)}function resolveInjections(e,t,n=NOOP){isArray$2(e)&&(e=normalizeInject(e));for(const a in e){const s=e[a];let r;isObject$2(s)?"default"in s?r=inject(s.from||a,s.default,!0):r=inject(s.from||a):r=inject(s),isRef(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[a]=r}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$2(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,a){let s=a.includes(".")?createPathGetter(n,a):()=>n[a];if(isString$2(e)){const r=t[e];isFunction$2(r)&&watch(s,r)}else if(isFunction$2(e))watch(s,e.bind(n));else if(isObject$2(e))if(isArray$2(e))e.forEach(r=>createWatcher(r,t,n,a));else{const r=isFunction$2(e.handler)?e.handler.bind(n):t[e.handler];isFunction$2(r)&&watch(s,r,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let l;return i?l=i:!s.length&&!n&&!a?l=t:(l={},s.length&&s.forEach(c=>mergeOptions(l,c,o,!0)),mergeOptions(l,t,o)),isObject$2(t)&&r.set(t,l),l}function mergeOptions(e,t,n,a=!1){const{mixins:s,extends:r}=t;r&&mergeOptions(e,r,n,!0),s&&s.forEach(o=>mergeOptions(e,o,n,!0));for(const o in t)if(!(a&&o==="expose")){const i=internalOptionMergeStrats[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$2(e)&&isArray$2(t)?[...new Set([...e,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend$1(Object.create(null),e);for(const a in t)n[a]=mergeAsArray(e[a],t[a]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(a,s=null){isFunction$2(a)||(a=extend$1({},a)),s!=null&&!isObject$2(s)&&(s=null);const r=createAppContext(),o=new WeakSet,i=[];let l=!1;const c=r.app={_uid:uid$1++,_component:a,_props:s,_container:null,_context:r,_instance:null,version:version$1,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&isFunction$2(u.install)?(o.add(u),u.install(c,...d)):isFunction$2(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,g){if(!l){const _=c._ceVNode||createVNode(a,s);return _.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(_,u,g),l=!0,c._container=u,u.__vue_app__=c,getComponentPublicInstance(_.component)}},onUnmount(u){i.push(u)},unmount(){l&&(callWithAsyncErrorHandling(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=currentApp;currentApp=c;try{return u()}finally{currentApp=d}}};return c}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===n&&(n=currentInstance.provides=Object.create(a)),n[e]=t}}function inject(e,t,n=!1){const a=currentInstance||currentRenderingInstance;if(a||currentApp){const s=currentApp?currentApp._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&isFunction$2(t)?t.call(a&&a.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,a=!1){const s={},r=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=a?s:shallowReactive(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function updateProps(e,t,n,a){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,i=toRaw(s),[l]=e.propsOptions;let c=!1;if((a||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(isEmitListener(e.emitsOptions,g))continue;const _=t[g];if(l)if(hasOwn$1(r,g))_!==r[g]&&(r[g]=_,c=!0);else{const f=camelize(g);s[f]=resolvePropValue(l,i,f,_,e,!1)}else _!==r[g]&&(r[g]=_,c=!0)}}}else{setFullProps(e,t,s,r)&&(c=!0);let u;for(const d in i)(!t||!hasOwn$1(t,d)&&((u=hyphenate(d))===d||!hasOwn$1(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=resolvePropValue(l,i,d,void 0,e,!0)):delete s[d]);if(r!==i)for(const d in r)(!t||!hasOwn$1(t,d))&&(delete r[d],c=!0)}c&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,a){const[s,r]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(isReservedProp(l))continue;const c=t[l];let u;s&&hasOwn$1(s,u=camelize(l))?!r||!r.includes(u)?n[u]=c:(i||(i={}))[u]=c:isEmitListener(e.emitsOptions,l)||(!(l in a)||c!==a[l])&&(a[l]=c,o=!0)}if(r){const l=toRaw(n),c=i||EMPTY_OBJ;for(let u=0;u<r.length;u++){const d=r[u];n[d]=resolvePropValue(s,l,d,c[d],e,!hasOwn$1(c,d))}}return o}function resolvePropValue(e,t,n,a,s,r){const o=e[n];if(o!=null){const i=hasOwn$1(o,"default");if(i&&a===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&isFunction$2(l)){const{propsDefaults:c}=s;if(n in c)a=c[n];else{const u=setCurrentInstance(s);a=c[n]=l.call(null,t),u()}}else a=l;s.ce&&s.ce._setProp(n,a)}o[0]&&(r&&!i?a=!1:o[1]&&(a===""||a===hyphenate(n))&&(a=!0))}return a}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,n=!1){const a=n?mixinPropsCache:t.propsCache,s=a.get(e);if(s)return s;const r=e.props,o={},i=[];let l=!1;if(!isFunction$2(e)){const u=d=>{l=!0;const[g,_]=normalizePropsOptions(d,t,!0);extend$1(o,g),_&&i.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return isObject$2(e)&&a.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(r))for(let u=0;u<r.length;u++){const d=camelize(r[u]);validatePropName(d)&&(o[d]=EMPTY_OBJ)}else if(r)for(const u in r){const d=camelize(u);if(validatePropName(d)){const g=r[u],_=o[d]=isArray$2(g)||isFunction$2(g)?{type:g}:extend$1({},g),f=_.type;let y=!1,w=!0;if(isArray$2(f))for(let b=0;b<f.length;++b){const $=f[b],E=isFunction$2($)&&$.name;if(E==="Boolean"){y=!0;break}else E==="String"&&(w=!1)}else y=isFunction$2(f)&&f.name==="Boolean";_[0]=y,_[1]=w,(y||hasOwn$1(_,"default"))&&i.push(d)}}const c=[o,i];return isObject$2(e)&&a.set(e,c),c}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const a=withCtx((...s)=>normalizeSlotValue(t(...s)),n);return a._c=!1,a},normalizeObjectSlots=(e,t,n)=>{const a=e._ctx;for(const s in e){if(isInternalKey(s))continue;const r=e[s];if(isFunction$2(r))t[s]=normalizeSlot(s,r,a);else if(r!=null){const o=normalizeSlotValue(r);t[s]=()=>o}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},assignSlots=(e,t,n)=>{for(const a in t)(n||a!=="_")&&(e[a]=t[a])},initSlots=(e,t,n)=>{const a=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const s=t._;s?(assignSlots(a,t,n),n&&def(a,"_",s,!0)):normalizeObjectSlots(t,a)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:a,slots:s}=e;let r=!0,o=EMPTY_OBJ;if(a.shapeFlag&32){const i=t._;i?n&&i===1?r=!1:assignSlots(s,t,n):(r=!t.$stable,normalizeObjectSlots(t,s)),o=t}else t&&(normalizeVNodeSlots(e,t),o={default:1});if(r)for(const i in s)!isInternalKey(i)&&o[i]==null&&delete s[i]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis$1();n.__VUE__=!0;const{insert:a,remove:s,patchProp:r,createElement:o,createText:i,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:g,setScopeId:_=NOOP,insertStaticContent:f}=e,y=(k,x,W,Q=null,Y=null,U=null,m=void 0,v=null,B=!!x.dynamicChildren)=>{if(k===x)return;k&&!isSameVNodeType(k,x)&&(Q=K(k),R(k,Y,U,!0),k=null),x.patchFlag===-2&&(B=!1,x.dynamicChildren=null);const{type:F,ref:oe,shapeFlag:ee}=x;switch(F){case Text:w(k,x,W,Q);break;case Comment:b(k,x,W,Q);break;case Static:k==null&&$(x,W,Q,m);break;case Fragment:M(k,x,W,Q,Y,U,m,v,B);break;default:ee&1?S(k,x,W,Q,Y,U,m,v,B):ee&6?Z(k,x,W,Q,Y,U,m,v,B):(ee&64||ee&128)&&F.process(k,x,W,Q,Y,U,m,v,B,ne)}oe!=null&&Y&&setRef(oe,k&&k.ref,U,x||k,!x)},w=(k,x,W,Q)=>{if(k==null)a(x.el=i(x.children),W,Q);else{const Y=x.el=k.el;x.children!==k.children&&c(Y,x.children)}},b=(k,x,W,Q)=>{k==null?a(x.el=l(x.children||""),W,Q):x.el=k.el},$=(k,x,W,Q)=>{[k.el,k.anchor]=f(k.children,x,W,Q,k.el,k.anchor)},E=({el:k,anchor:x},W,Q)=>{let Y;for(;k&&k!==x;)Y=g(k),a(k,W,Q),k=Y;a(x,W,Q)},T=({el:k,anchor:x})=>{let W;for(;k&&k!==x;)W=g(k),s(k),k=W;s(x)},S=(k,x,W,Q,Y,U,m,v,B)=>{x.type==="svg"?m="svg":x.type==="math"&&(m="mathml"),k==null?A(x,W,Q,Y,U,m,v,B):P(k,x,Y,U,m,v,B)},A=(k,x,W,Q,Y,U,m,v)=>{let B,F;const{props:oe,shapeFlag:ee,transition:O,dirs:G}=k;if(B=k.el=o(k.type,U,oe&&oe.is,oe),ee&8?u(B,k.children):ee&16&&j(k.children,B,null,Q,Y,resolveChildrenNamespace(k,U),m,v),G&&invokeDirectiveHook(k,null,Q,"created"),L(B,k,k.scopeId,m,Q),oe){for(const me in oe)me!=="value"&&!isReservedProp(me)&&r(B,me,null,oe[me],U,Q);"value"in oe&&r(B,"value",null,oe.value,U),(F=oe.onVnodeBeforeMount)&&invokeVNodeHook(F,Q,k)}G&&invokeDirectiveHook(k,null,Q,"beforeMount");const de=needTransition(Y,O);de&&O.beforeEnter(B),a(B,x,W),((F=oe&&oe.onVnodeMounted)||de||G)&&queuePostRenderEffect(()=>{F&&invokeVNodeHook(F,Q,k),de&&O.enter(B),G&&invokeDirectiveHook(k,null,Q,"mounted")},Y)},L=(k,x,W,Q,Y)=>{if(W&&_(k,W),Q)for(let U=0;U<Q.length;U++)_(k,Q[U]);if(Y){let U=Y.subTree;if(x===U||isSuspense(U.type)&&(U.ssContent===x||U.ssFallback===x)){const m=Y.vnode;L(k,m,m.scopeId,m.slotScopeIds,Y.parent)}}},j=(k,x,W,Q,Y,U,m,v,B=0)=>{for(let F=B;F<k.length;F++){const oe=k[F]=v?cloneIfMounted(k[F]):normalizeVNode(k[F]);y(null,oe,x,W,Q,Y,U,m,v)}},P=(k,x,W,Q,Y,U,m)=>{const v=x.el=k.el;let{patchFlag:B,dynamicChildren:F,dirs:oe}=x;B|=k.patchFlag&16;const ee=k.props||EMPTY_OBJ,O=x.props||EMPTY_OBJ;let G;if(W&&toggleRecurse(W,!1),(G=O.onVnodeBeforeUpdate)&&invokeVNodeHook(G,W,x,k),oe&&invokeDirectiveHook(x,k,W,"beforeUpdate"),W&&toggleRecurse(W,!0),(ee.innerHTML&&O.innerHTML==null||ee.textContent&&O.textContent==null)&&u(v,""),F?X(k.dynamicChildren,F,v,W,Q,resolveChildrenNamespace(x,Y),U):m||ge(k,x,v,null,W,Q,resolveChildrenNamespace(x,Y),U,!1),B>0){if(B&16)q(v,ee,O,W,Y);else if(B&2&&ee.class!==O.class&&r(v,"class",null,O.class,Y),B&4&&r(v,"style",ee.style,O.style,Y),B&8){const de=x.dynamicProps;for(let me=0;me<de.length;me++){const be=de[me],Ae=ee[be],Ne=O[be];(Ne!==Ae||be==="value")&&r(v,be,Ae,Ne,Y,W)}}B&1&&k.children!==x.children&&u(v,x.children)}else!m&&F==null&&q(v,ee,O,W,Y);((G=O.onVnodeUpdated)||oe)&&queuePostRenderEffect(()=>{G&&invokeVNodeHook(G,W,x,k),oe&&invokeDirectiveHook(x,k,W,"updated")},Q)},X=(k,x,W,Q,Y,U,m)=>{for(let v=0;v<x.length;v++){const B=k[v],F=x[v],oe=B.el&&(B.type===Fragment||!isSameVNodeType(B,F)||B.shapeFlag&70)?d(B.el):W;y(B,F,oe,null,Q,Y,U,m,!0)}},q=(k,x,W,Q,Y)=>{if(x!==W){if(x!==EMPTY_OBJ)for(const U in x)!isReservedProp(U)&&!(U in W)&&r(k,U,x[U],null,Y,Q);for(const U in W){if(isReservedProp(U))continue;const m=W[U],v=x[U];m!==v&&U!=="value"&&r(k,U,v,m,Y,Q)}"value"in W&&r(k,"value",x.value,W.value,Y)}},M=(k,x,W,Q,Y,U,m,v,B)=>{const F=x.el=k?k.el:i(""),oe=x.anchor=k?k.anchor:i("");let{patchFlag:ee,dynamicChildren:O,slotScopeIds:G}=x;G&&(v=v?v.concat(G):G),k==null?(a(F,W,Q),a(oe,W,Q),j(x.children||[],W,oe,Y,U,m,v,B)):ee>0&&ee&64&&O&&k.dynamicChildren?(X(k.dynamicChildren,O,W,Y,U,m,v),(x.key!=null||Y&&x===Y.subTree)&&traverseStaticChildren(k,x,!0)):ge(k,x,W,oe,Y,U,m,v,B)},Z=(k,x,W,Q,Y,U,m,v,B)=>{x.slotScopeIds=v,k==null?x.shapeFlag&512?Y.ctx.activate(x,W,Q,m,B):le(x,W,Q,Y,U,m,B):ve(k,x,B)},le=(k,x,W,Q,Y,U,m)=>{const v=k.component=createComponentInstance(k,Q,Y);if(isKeepAlive(k)&&(v.ctx.renderer=ne),setupComponent(v,!1,m),v.asyncDep){if(Y&&Y.registerDep(v,he,m),!k.el){const B=v.subTree=createVNode(Comment);b(null,B,x,W)}}else he(v,k,x,W,Y,U,m)},ve=(k,x,W)=>{const Q=x.component=k.component;if(shouldUpdateComponent(k,x,W))if(Q.asyncDep&&!Q.asyncResolved){ie(Q,x,W);return}else Q.next=x,Q.update();else x.el=k.el,Q.vnode=x},he=(k,x,W,Q,Y,U,m)=>{const v=()=>{if(k.isMounted){let{next:ee,bu:O,u:G,parent:de,vnode:me}=k;{const Pe=locateNonHydratedAsyncRoot(k);if(Pe){ee&&(ee.el=me.el,ie(k,ee,m)),Pe.asyncDep.then(()=>{k.isUnmounted||v()});return}}let be=ee,Ae;toggleRecurse(k,!1),ee?(ee.el=me.el,ie(k,ee,m)):ee=me,O&&invokeArrayFns(O),(Ae=ee.props&&ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ae,de,ee,me),toggleRecurse(k,!0);const Ne=renderComponentRoot(k),De=k.subTree;k.subTree=Ne,y(De,Ne,d(De.el),K(De),k,Y,U),ee.el=Ne.el,be===null&&updateHOCHostEl(k,Ne.el),G&&queuePostRenderEffect(G,Y),(Ae=ee.props&&ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ae,de,ee,me),Y)}else{let ee;const{el:O,props:G}=x,{bm:de,m:me,parent:be,root:Ae,type:Ne}=k,De=isAsyncWrapper(x);toggleRecurse(k,!1),de&&invokeArrayFns(de),!De&&(ee=G&&G.onVnodeBeforeMount)&&invokeVNodeHook(ee,be,x),toggleRecurse(k,!0);{Ae.ce&&Ae.ce._injectChildStyle(Ne);const Pe=k.subTree=renderComponentRoot(k);y(null,Pe,W,Q,k,Y,U),x.el=Pe.el}if(me&&queuePostRenderEffect(me,Y),!De&&(ee=G&&G.onVnodeMounted)){const Pe=x;queuePostRenderEffect(()=>invokeVNodeHook(ee,be,Pe),Y)}(x.shapeFlag&256||be&&isAsyncWrapper(be.vnode)&&be.vnode.shapeFlag&256)&&k.a&&queuePostRenderEffect(k.a,Y),k.isMounted=!0,x=W=Q=null}};k.scope.on();const B=k.effect=new ReactiveEffect(v);k.scope.off();const F=k.update=B.run.bind(B),oe=k.job=B.runIfDirty.bind(B);oe.i=k,oe.id=k.uid,B.scheduler=()=>queueJob(oe),toggleRecurse(k,!0),F()},ie=(k,x,W)=>{x.component=k;const Q=k.vnode.props;k.vnode=x,k.next=null,updateProps(k,x.props,Q,W),updateSlots(k,x.children,W),pauseTracking(),flushPreFlushCbs(k),resetTracking()},ge=(k,x,W,Q,Y,U,m,v,B=!1)=>{const F=k&&k.children,oe=k?k.shapeFlag:0,ee=x.children,{patchFlag:O,shapeFlag:G}=x;if(O>0){if(O&128){ye(F,ee,W,Q,Y,U,m,v,B);return}else if(O&256){_e(F,ee,W,Q,Y,U,m,v,B);return}}G&8?(oe&16&&D(F,Y,U),ee!==F&&u(W,ee)):oe&16?G&16?ye(F,ee,W,Q,Y,U,m,v,B):D(F,Y,U,!0):(oe&8&&u(W,""),G&16&&j(ee,W,Q,Y,U,m,v,B))},_e=(k,x,W,Q,Y,U,m,v,B)=>{k=k||EMPTY_ARR,x=x||EMPTY_ARR;const F=k.length,oe=x.length,ee=Math.min(F,oe);let O;for(O=0;O<ee;O++){const G=x[O]=B?cloneIfMounted(x[O]):normalizeVNode(x[O]);y(k[O],G,W,null,Y,U,m,v,B)}F>oe?D(k,Y,U,!0,!1,ee):j(x,W,Q,Y,U,m,v,B,ee)},ye=(k,x,W,Q,Y,U,m,v,B)=>{let F=0;const oe=x.length;let ee=k.length-1,O=oe-1;for(;F<=ee&&F<=O;){const G=k[F],de=x[F]=B?cloneIfMounted(x[F]):normalizeVNode(x[F]);if(isSameVNodeType(G,de))y(G,de,W,null,Y,U,m,v,B);else break;F++}for(;F<=ee&&F<=O;){const G=k[ee],de=x[O]=B?cloneIfMounted(x[O]):normalizeVNode(x[O]);if(isSameVNodeType(G,de))y(G,de,W,null,Y,U,m,v,B);else break;ee--,O--}if(F>ee){if(F<=O){const G=O+1,de=G<oe?x[G].el:Q;for(;F<=O;)y(null,x[F]=B?cloneIfMounted(x[F]):normalizeVNode(x[F]),W,de,Y,U,m,v,B),F++}}else if(F>O)for(;F<=ee;)R(k[F],Y,U,!0),F++;else{const G=F,de=F,me=new Map;for(F=de;F<=O;F++){const Oe=x[F]=B?cloneIfMounted(x[F]):normalizeVNode(x[F]);Oe.key!=null&&me.set(Oe.key,F)}let be,Ae=0;const Ne=O-de+1;let De=!1,Pe=0;const Ue=new Array(Ne);for(F=0;F<Ne;F++)Ue[F]=0;for(F=G;F<=ee;F++){const Oe=k[F];if(Ae>=Ne){R(Oe,Y,U,!0);continue}let Le;if(Oe.key!=null)Le=me.get(Oe.key);else for(be=de;be<=O;be++)if(Ue[be-de]===0&&isSameVNodeType(Oe,x[be])){Le=be;break}Le===void 0?R(Oe,Y,U,!0):(Ue[Le-de]=F+1,Le>=Pe?Pe=Le:De=!0,y(Oe,x[Le],W,null,Y,U,m,v,B),Ae++)}const We=De?getSequence(Ue):EMPTY_ARR;for(be=We.length-1,F=Ne-1;F>=0;F--){const Oe=de+F,Le=x[Oe],Ke=Oe+1<oe?x[Oe+1].el:Q;Ue[F]===0?y(null,Le,W,Ke,Y,U,m,v,B):De&&(be<0||F!==We[be]?ke(Le,W,Ke,2):be--)}}},ke=(k,x,W,Q,Y=null)=>{const{el:U,type:m,transition:v,children:B,shapeFlag:F}=k;if(F&6){ke(k.component.subTree,x,W,Q);return}if(F&128){k.suspense.move(x,W,Q);return}if(F&64){m.move(k,x,W,ne);return}if(m===Fragment){a(U,x,W);for(let ee=0;ee<B.length;ee++)ke(B[ee],x,W,Q);a(k.anchor,x,W);return}if(m===Static){E(k,x,W);return}if(Q!==2&&F&1&&v)if(Q===0)v.beforeEnter(U),a(U,x,W),queuePostRenderEffect(()=>v.enter(U),Y);else{const{leave:ee,delayLeave:O,afterLeave:G}=v,de=()=>a(U,x,W),me=()=>{ee(U,()=>{de(),G&&G()})};O?O(U,de,me):me()}else a(U,x,W)},R=(k,x,W,Q=!1,Y=!1)=>{const{type:U,props:m,ref:v,children:B,dynamicChildren:F,shapeFlag:oe,patchFlag:ee,dirs:O,cacheIndex:G}=k;if(ee===-2&&(Y=!1),v!=null&&setRef(v,null,W,k,!0),G!=null&&(x.renderCache[G]=void 0),oe&256){x.ctx.deactivate(k);return}const de=oe&1&&O,me=!isAsyncWrapper(k);let be;if(me&&(be=m&&m.onVnodeBeforeUnmount)&&invokeVNodeHook(be,x,k),oe&6)V(k.component,W,Q);else{if(oe&128){k.suspense.unmount(W,Q);return}de&&invokeDirectiveHook(k,null,x,"beforeUnmount"),oe&64?k.type.remove(k,x,W,ne,Q):F&&!F.hasOnce&&(U!==Fragment||ee>0&&ee&64)?D(F,x,W,!1,!0):(U===Fragment&&ee&384||!Y&&oe&16)&&D(B,x,W),Q&&I(k)}(me&&(be=m&&m.onVnodeUnmounted)||de)&&queuePostRenderEffect(()=>{be&&invokeVNodeHook(be,x,k),de&&invokeDirectiveHook(k,null,x,"unmounted")},W)},I=k=>{const{type:x,el:W,anchor:Q,transition:Y}=k;if(x===Fragment){C(W,Q);return}if(x===Static){T(k);return}const U=()=>{s(W),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(k.shapeFlag&1&&Y&&!Y.persisted){const{leave:m,delayLeave:v}=Y,B=()=>m(W,U);v?v(k.el,U,B):B()}else U()},C=(k,x)=>{let W;for(;k!==x;)W=g(k),s(k),k=W;s(x)},V=(k,x,W)=>{const{bum:Q,scope:Y,job:U,subTree:m,um:v,m:B,a:F}=k;invalidateMount(B),invalidateMount(F),Q&&invokeArrayFns(Q),Y.stop(),U&&(U.flags|=8,R(m,k,x,W)),v&&queuePostRenderEffect(v,x),queuePostRenderEffect(()=>{k.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},D=(k,x,W,Q=!1,Y=!1,U=0)=>{for(let m=U;m<k.length;m++)R(k[m],x,W,Q,Y)},K=k=>{if(k.shapeFlag&6)return K(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const x=g(k.anchor||k.el),W=x&&x[TeleportEndKey];return W?g(W):x};let ue=!1;const re=(k,x,W)=>{k==null?x._vnode&&R(x._vnode,null,null,!0):y(x._vnode||null,k,x,null,null,null,W),x._vnode=k,ue||(ue=!0,flushPreFlushCbs(),flushPostFlushCbs(),ue=!1)},ne={p:y,um:R,m:ke,r:I,mt:le,mc:j,pc:ge,pbc:X,n:K,o:e};return{render:re,hydrate:void 0,createApp:createAppAPI(re)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const a=e.children,s=t.children;if(isArray$2(a)&&isArray$2(s))for(let r=0;r<a.length;r++){const o=a[r];let i=s[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=s[r]=cloneIfMounted(s[r]),i.el=o.el),!n&&i.patchFlag!==-2&&traverseStaticChildren(o,i)),i.type===Text&&(i.el=o.el)}}function getSequence(e){const t=e.slice(),n=[0];let a,s,r,o,i;const l=e.length;for(a=0;a<l;a++){const c=e[a];if(c!==0){if(s=n[n.length-1],e[s]<c){t[a]=s,n.push(a);continue}for(r=0,o=n.length-1;r<o;)i=r+o>>1,e[n[i]]<c?r=i+1:o=i;c<e[n[r]]&&(r>0&&(t[a]=n[r-1]),n[r]=a)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n=EMPTY_OBJ){const{immediate:a,deep:s,flush:r,once:o}=n,i=extend$1({},n),l=t&&a||!t&&r!=="post";let c;if(isInSSRComponentSetup){if(r==="sync"){const _=useSSRContext();c=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=NOOP,_.resume=NOOP,_.pause=NOOP,_}}const u=currentInstance;i.call=(_,f,y)=>callWithAsyncErrorHandling(_,u,f,y);let d=!1;r==="post"?i.scheduler=_=>{queuePostRenderEffect(_,u&&u.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(_,f)=>{f?_():queueJob(_)}),i.augmentJob=_=>{t&&(_.flags|=4),d&&(_.flags|=2,u&&(_.id=u.uid,_.i=u))};const g=watch$1(e,t,i);return isInSSRComponentSetup&&(c?c.push(g):l&&g()),g}function instanceWatch(e,t,n){const a=this.proxy,s=isString$2(e)?e.includes(".")?createPathGetter(a,e):()=>a[e]:e.bind(a,a);let r;isFunction$2(t)?r=t:(r=t.handler,n=t);const o=setCurrentInstance(this),i=doWatch(s,r.bind(a),n);return o(),i}function createPathGetter(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||EMPTY_OBJ;let s=n;const r=t.startsWith("update:"),o=r&&getModelModifiers(a,t.slice(7));o&&(o.trim&&(s=n.map(u=>isString$2(u)?u.trim():u)),o.number&&(s=n.map(looseToNumber)));let i,l=a[i=toHandlerKey(t)]||a[i=toHandlerKey(camelize(t))];!l&&r&&(l=a[i=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,s);const c=a[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,callWithAsyncErrorHandling(c,e,6,s)}}function normalizeEmitsOptions(e,t,n=!1){const a=t.emitsCache,s=a.get(e);if(s!==void 0)return s;const r=e.emits;let o={},i=!1;if(!isFunction$2(e)){const l=c=>{const u=normalizeEmitsOptions(c,t,!0);u&&(i=!0,extend$1(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!i?(isObject$2(e)&&a.set(e,null),null):(isArray$2(r)?r.forEach(l=>o[l]=null):extend$1(o,r),isObject$2(e)&&a.set(e,o),o)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(e,t[0].toLowerCase()+t.slice(1))||hasOwn$1(e,hyphenate(t))||hasOwn$1(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:a,withProxy:s,propsOptions:[r],slots:o,attrs:i,emit:l,render:c,renderCache:u,props:d,data:g,setupState:_,ctx:f,inheritAttrs:y}=e,w=setCurrentRenderingInstance(e);let b,$;try{if(n.shapeFlag&4){const T=s||a,S=T;b=normalizeVNode(c.call(S,T,u,d,_,g,f)),$=i}else{const T=t;b=normalizeVNode(T.length>1?T(d,{attrs:i,slots:o,emit:l}):T(d,null)),$=t.props?i:getFunctionalFallthrough(i)}}catch(T){blockStack.length=0,handleError(T,e,1),b=createVNode(Comment)}let E=b;if($&&y!==!1){const T=Object.keys($),{shapeFlag:S}=E;T.length&&S&7&&(r&&T.some(isModelListener)&&($=filterModelListeners($,r)),E=cloneVNode(E,$,!1,!0))}return n.dirs&&(E=cloneVNode(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(E,n.transition),b=E,setCurrentRenderingInstance(w),b}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const a in e)(!isModelListener(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function shouldUpdateComponent(e,t,n){const{props:a,children:s,component:r}=e,{props:o,children:i,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return a?hasPropsChanged(a,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(o[g]!==a[g]&&!isEmitListener(c,g))return!0}}}else return(s||i)&&(!i||!i.$stable)?!0:a===o?!1:a?o?hasPropsChanged(a,o,c):!0:!!o;return!1}function hasPropsChanged(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const r=a[s];if(t[r]!==e[r]&&!isEmitListener(n,r))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=n,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,a,s,r){return setupBlock(createBaseVNode(e,t,n,a,s,r,!0))}function createBlock(e,t,n,a,s){return setupBlock(createVNode(e,t,n,a,s,!0))}function isVNode$1(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString$2(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,a=0,s=null,r=e===Fragment?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return i?(normalizeChildren(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=isString$2(n)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,a=0,s=null,r=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode$1(e)){const i=cloneVNode(e,t,!0);return n&&normalizeChildren(i,n),isBlockTreeEnabled>0&&!r&&currentBlock&&(i.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=i:currentBlock.push(i)),i.patchFlag=-2,i}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:i,style:l}=t;i&&!isString$2(i)&&(t.class=normalizeClass(i)),isObject$2(l)&&(isProxy(l)&&!isArray$2(l)&&(l=extend$1({},l)),t.style=normalizeStyle(l))}const o=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,t,n,a,s,o,r,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,t,n=!1,a=!1){const{props:s,ref:r,patchFlag:o,children:i,transition:l}=e,c=t?mergeProps(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?n&&r?isArray$2(r)?r.concat(normalizeRef(t)):[r,normalizeRef(t)]:normalizeRef(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&a&&setTransitionHooks(u,l.clone(u)),u}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):isVNode$1(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(isArray$2(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!isInternalObject(t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),a&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=normalizeClass([t.class,a.class]));else if(s==="style")t.style=normalizeStyle([t.style,a.style]);else if(isOn(s)){const r=t[s],o=a[s];o&&r!==o&&!(isArray$2(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=a[s])}return t}function invokeVNodeHook(e,t,n,a=null){callWithAsyncErrorHandling(e,t,7,[n,a])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,r={uid:uid++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,s),emitsOptions:normalizeEmitsOptions(a,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=emit.bind(null,r),e.ce&&e.ce(r),r}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis$1(),t=(n,a)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(a),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:a,children:s}=e.vnode,r=isStatefulComponent(e);initProps(e,a,r,t),initSlots(e,s,n);const o=r?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:a}=n;if(a){pauseTracking();const s=e.setupContext=a.length>1?createSetupContext(e):null,r=setCurrentInstance(e),o=callWithErrorHandling(a,e,0,[e.props,s]),i=isPromise$1(o);if(resetTracking(),r(),(i||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),i){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(l=>{handleSetupResult(e,l)}).catch(l=>{handleError(l,e,0)});e.asyncDep=o}else handleSetupResult(e,o)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,n){const a=e.type;e.render||(e.render=a.render||NOOP);{const s=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let a=getComponentName(t);if(!a&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(a=s[1])}if(!a&&e&&e.parent){const s=r=>{for(const o in r)if(r[o]===t)return o};a=s(e.components||e.parent.type.components)||s(e.appContext.components)}return a?classify(a):n?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const a=arguments.length;return a===2?isObject$2(t)&&!isArray$2(t)?isVNode$1(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&isVNode$1(n)&&(n=[n]),createVNode(e,t,n))}const version$1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):n?doc.createElement(e,{is:n}):doc.createElement(e);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=templateContainer.content;if(a==="svg"||a==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t)),callHook=(e,t=[])=>{isArray$2(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$2(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const M in e)M in DOMTransitionPropsValidators||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:a,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=i,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=e,f=normalizeDuration(s),y=f&&f[0],w=f&&f[1],{onBeforeEnter:b,onEnter:$,onEnterCancelled:E,onLeave:T,onLeaveCancelled:S,onBeforeAppear:A=b,onAppear:L=$,onAppearCancelled:j=E}=t,P=(M,Z,le,ve)=>{M._enterCancelled=ve,removeTransitionClass(M,Z?u:i),removeTransitionClass(M,Z?c:o),le&&le()},X=(M,Z)=>{M._isLeaving=!1,removeTransitionClass(M,d),removeTransitionClass(M,_),removeTransitionClass(M,g),Z&&Z()},q=M=>(Z,le)=>{const ve=M?L:$,he=()=>P(Z,M,le);callHook(ve,[Z,he]),nextFrame(()=>{removeTransitionClass(Z,M?l:r),addTransitionClass(Z,M?u:i),hasExplicitCallback(ve)||whenTransitionEnds(Z,a,y,he)})};return extend$1(t,{onBeforeEnter(M){callHook(b,[M]),addTransitionClass(M,r),addTransitionClass(M,o)},onBeforeAppear(M){callHook(A,[M]),addTransitionClass(M,l),addTransitionClass(M,c)},onEnter:q(!1),onAppear:q(!0),onLeave(M,Z){M._isLeaving=!0;const le=()=>X(M,Z);addTransitionClass(M,d),M._enterCancelled?(addTransitionClass(M,g),forceReflow()):(forceReflow(),addTransitionClass(M,g)),nextFrame(()=>{M._isLeaving&&(removeTransitionClass(M,d),addTransitionClass(M,_),hasExplicitCallback(T)||whenTransitionEnds(M,a,w,le))}),callHook(T,[M,le])},onEnterCancelled(M){P(M,!1,void 0,!0),callHook(E,[M])},onAppearCancelled(M){P(M,!0,void 0,!0),callHook(j,[M])},onLeaveCancelled(M){X(M),callHook(S,[M])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const n=e[vtcKey];n&&(n.delete(t),n.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,a){const s=e._endId=++endId,r=()=>{s===e._endId&&a()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:i,propCount:l}=getTransitionInfo(e,t);if(!o)return a();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,g),r()},g=_=>{_.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},i+1),e.addEventListener(c,g)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),a=f=>(n[f]||"").split(", "),s=a(`${TRANSITION}Delay`),r=a(`${TRANSITION}Duration`),o=getTimeout(s,r),i=a(`${ANIMATION}Delay`),l=a(`${ANIMATION}Duration`),c=getTimeout(i,l);let u=null,d=0,g=0;t===TRANSITION?o>0&&(u=TRANSITION,d=o,g=r.length):t===ANIMATION?c>0&&(u=ANIMATION,d=c,g=l.length):(d=Math.max(o,c),u=d>0?o>c?TRANSITION:ANIMATION:null,g=u?u===TRANSITION?r.length:l.length:0);const _=u===TRANSITION&&/\b(transform|all)(,|$)/.test(a(`${TRANSITION}Property`).toString());return{type:u,timeout:d,propCount:g,hasTransform:_}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,a)=>toMs(n)+toMs(e[a])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(e,t,n){const a=e[vtcKey];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(e,{value:t},{transition:n}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),setDisplay(e,!0),a.enter(e)):a.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,n){const a=e.style,s=isString$2(n);let r=!1;if(n&&!s){if(t)if(isString$2(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();n[i]==null&&setStyle(a,i,"")}else for(const o in t)n[o]==null&&setStyle(a,o,"");for(const o in n)o==="display"&&(r=!0),setStyle(a,o,n[o])}else if(s){if(t!==n){const o=a[CSS_VAR_TEXT];o&&(n+=";"+o),a.cssText=n,r=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=r?a.display:"",e[vShowHidden]&&(a.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$2(n))n.forEach(a=>setStyle(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(a),n.replace(importantRE,""),"important"):e[a]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let a=camelize(t);if(a!=="filter"&&a in e)return prefixCache[t]=a;a=capitalize$1(a);for(let s=0;s<prefixes.length;s++){const r=prefixes[s]+a;if(r in e)return prefixCache[t]=r}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,a,s,r=isSpecialBooleanAttr(t)){a&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n):n==null||r&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,r?"":isSymbol(n)?String(n):n)}function patchDOMProp(e,t,n,a,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=includeBooleanAttr(n):n==null&&i==="string"?(n="",o=!0):i==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function addEventListener(e,t,n,a){e.addEventListener(t,n,a)}function removeEventListener(e,t,n,a){e.removeEventListener(t,n,a)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,a,s=null){const r=e[veiKey]||(e[veiKey]={}),o=r[t];if(a&&o)o.value=a;else{const[i,l]=parseName(t);if(a){const c=r[t]=createInvoker(a,s);addEventListener(e,i,c,l)}else o&&(removeEventListener(e,i,o,l),r[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let a;for(;a=e.match(optionsModifierRE);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(a,n.value),t,5,[a])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,a,s,r)=>{const o=s==="svg";t==="class"?patchClass(e,a,o):t==="style"?patchStyle(e,n,a):isOn(t)?isModelListener(t)||patchEvent(e,t,n,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,a,o))?(patchDOMProp(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,a,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString$2(a))?patchDOMProp(e,camelize(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),patchAttr(e,t,a,o))};function shouldSetAsProp(e,t,n,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$2(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(t)&&isString$2(n)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e[assignKey]=getModelAssigner(s);const r=a||s.props&&s.props.type==="number";addEventListener(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;n&&(i=i.trim()),r&&(i=looseToNumber(i)),e[assignKey](i)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:s,number:r}},o){if(e[assignKey]=getModelAssigner(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(a&&t===n||s&&e.value.trim()===l)||(e.value=l))}},vModelCheckbox={deep:!0,created(e,t,n){e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{const a=e._modelValue,s=getValue(e),r=e.checked,o=e[assignKey];if(isArray$2(a)){const i=looseIndexOf(a,s),l=i!==-1;if(r&&!l)o(a.concat(s));else if(!r&&l){const c=[...a];c.splice(i,1),o(c)}}else if(isSet(a)){const i=new Set(a);r?i.add(s):i.delete(s),o(i)}else o(getCheckboxValue(e,r))})},mounted:setChecked,beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},a){e._modelValue=t;let s;if(isArray$2(t))s=looseIndexOf(t,a.props.value)>-1;else if(isSet(t))s=t.has(a.props.value);else{if(t===n)return;s=looseEqual(t,getCheckboxValue(e,!0))}e.checked!==s&&(e.checked=s)}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{e[assignKey](getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},a){e[assignKey]=getModelAssigner(a),t!==n&&(e.checked=looseEqual(t,a.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const s=isSet(t);addEventListener(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?looseToNumber(getValue(o)):getValue(o));e[assignKey](e.multiple?s?new Set(r):r:r[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(a)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n)},updated(e,{value:t}){e._assigning||setSelected(e,t)}};function setSelected(e,t){const n=e.multiple,a=isArray$2(t);if(!(n&&!a&&!isSet(t))){for(let s=0,r=e.options.length;s<r;s++){const o=e.options[s],i=getValue(o);if(n)if(a){const l=typeof i;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(i)):o.selected=looseIndexOf(t,i)>-1}else o.selected=t.has(i);else if(looseEqual(getValue(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,a){callModelHook(e,t,n,a,"beforeUpdate")},updated(e,t,n,a){callModelHook(e,t,n,a,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,a,s){const o=resolveDynamicModel(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,a)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(s,...r)=>{for(let o=0;o<t.length;o++){const i=modifierGuards[t[o]];if(i&&i(s,t))return}return e(s,...r)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=s=>{if(!("key"in s))return;const r=hyphenate(s.key);if(t.some(o=>o===r||keyNames[o]===r))return e(s)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=normalizeContainer(a);if(!s)return;const r=t._component;!isFunction$2(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString$2(e)?document.querySelector(e):e}/*!
  * shared v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(e,t=!1)=>t?Symbol.for(e):Symbol(e),generateFormatCacheKey=(e,t,n)=>friendlyJSONstringify({l:e,k:t,s:n}),friendlyJSONstringify=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=e=>typeof e=="number"&&isFinite(e),isDate$1=e=>toTypeString(e)==="[object Date]",isRegExp$1=e=>toTypeString(e)==="[object RegExp]",isEmptyObject=e=>isPlainObject$2(e)&&Object.keys(e).length===0,assign$1=Object.assign,_create=Object.create,create=(e=null)=>_create(e);let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:create());function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty$1=Object.prototype.hasOwnProperty;function hasOwn(e,t){return hasOwnProperty$1.call(e,t)}const isArray$1=Array.isArray,isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isBoolean$1=e=>typeof e=="boolean",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$1(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),isPlainObject$2=e=>toTypeString(e)==="[object Object]",toDisplayString=e=>e==null?"":isArray$1(e)||isPlainObject$2(e)&&e.toString===objectToString?JSON.stringify(e,null,2):String(e);function join(e,t=""){return e.reduce((n,a,s)=>s===0?n+a:n+t+a,"")}function warn(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const isNotObjectOrIsArray=e=>!isObject$1(e)||isArray$1(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:a,des:s}=n.pop();Object.keys(a).forEach(r=>{r!=="__proto__"&&(isObject$1(a[r])&&!isObject$1(s[r])&&(s[r]=Array.isArray(a[r])?[]:create()),isNotObjectOrIsArray(s[r])||isNotObjectOrIsArray(a[r])?s[r]=a[r]:n.push({src:a[r],des:s[r]}))})}}/*!
  * message-compiler v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(e,t,n){return{line:e,column:t,offset:n}}function createLocation(e,t,n){return{start:e,end:t}}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},COMPILE_ERROR_CODES_EXTEND_POINT=17;function createCompileError(e,t,n={}){const{domain:a,messages:s,args:r}=n,o=e,i=new SyntaxError(String(o));return i.code=e,t&&(i.location=t),i.domain=a,i}function defaultOnError(e){throw e}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(e){const t=e;let n=0,a=1,s=1,r=0;const o=L=>t[L]===CHAR_CR&&t[L+1]===CHAR_LF,i=L=>t[L]===CHAR_LF,l=L=>t[L]===CHAR_PS,c=L=>t[L]===CHAR_LS,u=L=>o(L)||i(L)||l(L)||c(L),d=()=>n,g=()=>a,_=()=>s,f=()=>r,y=L=>o(L)||l(L)||c(L)?CHAR_LF:t[L],w=()=>y(n),b=()=>y(n+r);function $(){return r=0,u(n)&&(a++,s=0),o(n)&&n++,n++,s++,t[n]}function E(){return o(n+r)&&r++,r++,t[n+r]}function T(){n=0,a=1,s=1,r=0}function S(L=0){r=L}function A(){const L=n+r;for(;L!==n;)$();r=0}return{index:d,line:g,column:_,peekOffset:f,charAt:y,currentChar:w,currentPeek:b,next:$,peek:E,reset:T,resetPeek:S,skipToPeek:A}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(e,t={}){const n=t.location!==!1,a=createScanner(e),s=()=>a.index(),r=()=>createPosition(a.line(),a.column(),a.index()),o=r(),i=s(),l={currentType:13,offset:i,startLoc:o,endLoc:o,lastType:13,lastOffset:i,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(m,v,B,...F){const oe=c();if(v.column+=B,v.offset+=B,u){const ee=n?createLocation(oe.startLoc,v):null,O=createCompileError(m,ee,{domain:ERROR_DOMAIN$3,args:F});u(O)}}function g(m,v,B){m.endLoc=r(),m.currentType=v;const F={type:v};return n&&(F.loc=createLocation(m.startLoc,m.endLoc)),B!=null&&(F.value=B),F}const _=m=>g(m,13);function f(m,v){return m.currentChar()===v?(m.next(),v):(d(CompileErrorCodes.EXPECTED_TOKEN,r(),0,v),"")}function y(m){let v="";for(;m.currentPeek()===CHAR_SP||m.currentPeek()===CHAR_LF;)v+=m.currentPeek(),m.peek();return v}function w(m){const v=y(m);return m.skipToPeek(),v}function b(m){if(m===EOF)return!1;const v=m.charCodeAt(0);return v>=97&&v<=122||v>=65&&v<=90||v===95}function $(m){if(m===EOF)return!1;const v=m.charCodeAt(0);return v>=48&&v<=57}function E(m,v){const{currentType:B}=v;if(B!==2)return!1;y(m);const F=b(m.currentPeek());return m.resetPeek(),F}function T(m,v){const{currentType:B}=v;if(B!==2)return!1;y(m);const F=m.currentPeek()==="-"?m.peek():m.currentPeek(),oe=$(F);return m.resetPeek(),oe}function S(m,v){const{currentType:B}=v;if(B!==2)return!1;y(m);const F=m.currentPeek()===LITERAL_DELIMITER;return m.resetPeek(),F}function A(m,v){const{currentType:B}=v;if(B!==7)return!1;y(m);const F=m.currentPeek()===".";return m.resetPeek(),F}function L(m,v){const{currentType:B}=v;if(B!==8)return!1;y(m);const F=b(m.currentPeek());return m.resetPeek(),F}function j(m,v){const{currentType:B}=v;if(!(B===7||B===11))return!1;y(m);const F=m.currentPeek()===":";return m.resetPeek(),F}function P(m,v){const{currentType:B}=v;if(B!==9)return!1;const F=()=>{const ee=m.currentPeek();return ee==="{"?b(m.peek()):ee==="@"||ee==="|"||ee===":"||ee==="."||ee===CHAR_SP||!ee?!1:ee===CHAR_LF?(m.peek(),F()):q(m,!1)},oe=F();return m.resetPeek(),oe}function X(m){y(m);const v=m.currentPeek()==="|";return m.resetPeek(),v}function q(m,v=!0){const B=(oe=!1,ee="")=>{const O=m.currentPeek();return O==="{"||O==="@"||!O?oe:O==="|"?!(ee===CHAR_SP||ee===CHAR_LF):O===CHAR_SP?(m.peek(),B(!0,CHAR_SP)):O===CHAR_LF?(m.peek(),B(!0,CHAR_LF)):!0},F=B();return v&&m.resetPeek(),F}function M(m,v){const B=m.currentChar();return B===EOF?EOF:v(B)?(m.next(),B):null}function Z(m){const v=m.charCodeAt(0);return v>=97&&v<=122||v>=65&&v<=90||v>=48&&v<=57||v===95||v===36}function le(m){return M(m,Z)}function ve(m){const v=m.charCodeAt(0);return v>=97&&v<=122||v>=65&&v<=90||v>=48&&v<=57||v===95||v===36||v===45}function he(m){return M(m,ve)}function ie(m){const v=m.charCodeAt(0);return v>=48&&v<=57}function ge(m){return M(m,ie)}function _e(m){const v=m.charCodeAt(0);return v>=48&&v<=57||v>=65&&v<=70||v>=97&&v<=102}function ye(m){return M(m,_e)}function ke(m){let v="",B="";for(;v=ge(m);)B+=v;return B}function R(m){let v="";for(;;){const B=m.currentChar();if(B==="{"||B==="}"||B==="@"||B==="|"||!B)break;if(B===CHAR_SP||B===CHAR_LF)if(q(m))v+=B,m.next();else{if(X(m))break;v+=B,m.next()}else v+=B,m.next()}return v}function I(m){w(m);let v="",B="";for(;v=he(m);)B+=v;return m.currentChar()===EOF&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,r(),0),B}function C(m){w(m);let v="";return m.currentChar()==="-"?(m.next(),v+=`-${ke(m)}`):v+=ke(m),m.currentChar()===EOF&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,r(),0),v}function V(m){return m!==LITERAL_DELIMITER&&m!==CHAR_LF}function D(m){w(m),f(m,"'");let v="",B="";for(;v=M(m,V);)v==="\\"?B+=K(m):B+=v;const F=m.currentChar();return F===CHAR_LF||F===EOF?(d(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),F===CHAR_LF&&(m.next(),f(m,"'")),B):(f(m,"'"),B)}function K(m){const v=m.currentChar();switch(v){case"\\":case"'":return m.next(),`\\${v}`;case"u":return ue(m,v,4);case"U":return ue(m,v,6);default:return d(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,r(),0,v),""}}function ue(m,v,B){f(m,v);let F="";for(let oe=0;oe<B;oe++){const ee=ye(m);if(!ee){d(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${v}${F}${m.currentChar()}`);break}F+=ee}return`\\${v}${F}`}function re(m){return m!=="{"&&m!=="}"&&m!==CHAR_SP&&m!==CHAR_LF}function ne(m){w(m);let v="",B="";for(;v=M(m,re);)B+=v;return B}function pe(m){let v="",B="";for(;v=le(m);)B+=v;return B}function k(m){const v=B=>{const F=m.currentChar();return F==="{"||F==="@"||F==="|"||F==="("||F===")"||!F||F===CHAR_SP?B:(B+=F,m.next(),v(B))};return v("")}function x(m){w(m);const v=f(m,"|");return w(m),v}function W(m,v){let B=null;switch(m.currentChar()){case"{":return v.braceNest>=1&&d(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),m.next(),B=g(v,2,"{"),w(m),v.braceNest++,B;case"}":return v.braceNest>0&&v.currentType===2&&d(CompileErrorCodes.EMPTY_PLACEHOLDER,r(),0),m.next(),B=g(v,3,"}"),v.braceNest--,v.braceNest>0&&w(m),v.inLinked&&v.braceNest===0&&(v.inLinked=!1),B;case"@":return v.braceNest>0&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,r(),0),B=Q(m,v)||_(v),v.braceNest=0,B;default:{let oe=!0,ee=!0,O=!0;if(X(m))return v.braceNest>0&&d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,r(),0),B=g(v,1,x(m)),v.braceNest=0,v.inLinked=!1,B;if(v.braceNest>0&&(v.currentType===4||v.currentType===5||v.currentType===6))return d(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,r(),0),v.braceNest=0,Y(m,v);if(oe=E(m,v))return B=g(v,4,I(m)),w(m),B;if(ee=T(m,v))return B=g(v,5,C(m)),w(m),B;if(O=S(m,v))return B=g(v,6,D(m)),w(m),B;if(!oe&&!ee&&!O)return B=g(v,12,ne(m)),d(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,B.value),w(m),B;break}}return B}function Q(m,v){const{currentType:B}=v;let F=null;const oe=m.currentChar();switch((B===7||B===8||B===11||B===9)&&(oe===CHAR_LF||oe===CHAR_SP)&&d(CompileErrorCodes.INVALID_LINKED_FORMAT,r(),0),oe){case"@":return m.next(),F=g(v,7,"@"),v.inLinked=!0,F;case".":return w(m),m.next(),g(v,8,".");case":":return w(m),m.next(),g(v,9,":");default:return X(m)?(F=g(v,1,x(m)),v.braceNest=0,v.inLinked=!1,F):A(m,v)||j(m,v)?(w(m),Q(m,v)):L(m,v)?(w(m),g(v,11,pe(m))):P(m,v)?(w(m),oe==="{"?W(m,v)||F:g(v,10,k(m))):(B===7&&d(CompileErrorCodes.INVALID_LINKED_FORMAT,r(),0),v.braceNest=0,v.inLinked=!1,Y(m,v))}}function Y(m,v){let B={type:13};if(v.braceNest>0)return W(m,v)||_(v);if(v.inLinked)return Q(m,v)||_(v);switch(m.currentChar()){case"{":return W(m,v)||_(v);case"}":return d(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,r(),0),m.next(),g(v,3,"}");case"@":return Q(m,v)||_(v);default:{if(X(m))return B=g(v,1,x(m)),v.braceNest=0,v.inLinked=!1,B;if(q(m))return g(v,0,R(m));break}}return B}function U(){const{currentType:m,offset:v,startLoc:B,endLoc:F}=l;return l.lastType=m,l.lastOffset=v,l.lastStartLoc=B,l.lastEndLoc=F,l.offset=s(),l.startLoc=r(),a.currentChar()===EOF?g(l,13):Y(a,l)}return{nextToken:U,currentOffset:s,currentPosition:r,context:c}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const a=parseInt(t||n,16);return a<=55295||a>=57344?String.fromCodePoint(a):""}}}function createParser(e={}){const t=e.location!==!1,{onError:n}=e;function a(b,$,E,T,...S){const A=b.currentPosition();if(A.offset+=T,A.column+=T,n){const L=t?createLocation(E,A):null,j=createCompileError($,L,{domain:ERROR_DOMAIN$2,args:S});n(j)}}function s(b,$,E){const T={type:b};return t&&(T.start=$,T.end=$,T.loc={start:E,end:E}),T}function r(b,$,E,T){t&&(b.end=$,b.loc&&(b.loc.end=E))}function o(b,$){const E=b.context(),T=s(3,E.offset,E.startLoc);return T.value=$,r(T,b.currentOffset(),b.currentPosition()),T}function i(b,$){const E=b.context(),{lastOffset:T,lastStartLoc:S}=E,A=s(5,T,S);return A.index=parseInt($,10),b.nextToken(),r(A,b.currentOffset(),b.currentPosition()),A}function l(b,$){const E=b.context(),{lastOffset:T,lastStartLoc:S}=E,A=s(4,T,S);return A.key=$,b.nextToken(),r(A,b.currentOffset(),b.currentPosition()),A}function c(b,$){const E=b.context(),{lastOffset:T,lastStartLoc:S}=E,A=s(9,T,S);return A.value=$.replace(KNOWN_ESCAPES,fromEscapeSequence),b.nextToken(),r(A,b.currentOffset(),b.currentPosition()),A}function u(b){const $=b.nextToken(),E=b.context(),{lastOffset:T,lastStartLoc:S}=E,A=s(8,T,S);return $.type!==11?(a(b,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),A.value="",r(A,T,S),{nextConsumeToken:$,node:A}):($.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,getTokenCaption($)),A.value=$.value||"",r(A,b.currentOffset(),b.currentPosition()),{node:A})}function d(b,$){const E=b.context(),T=s(7,E.offset,E.startLoc);return T.value=$,r(T,b.currentOffset(),b.currentPosition()),T}function g(b){const $=b.context(),E=s(6,$.offset,$.startLoc);let T=b.nextToken();if(T.type===8){const S=u(b);E.modifier=S.node,T=S.nextConsumeToken||b.nextToken()}switch(T.type!==9&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(T)),T=b.nextToken(),T.type===2&&(T=b.nextToken()),T.type){case 10:T.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(T)),E.key=d(b,T.value||"");break;case 4:T.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(T)),E.key=l(b,T.value||"");break;case 5:T.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(T)),E.key=i(b,T.value||"");break;case 6:T.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(T)),E.key=c(b,T.value||"");break;default:{a(b,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,$.lastStartLoc,0);const S=b.context(),A=s(7,S.offset,S.startLoc);return A.value="",r(A,S.offset,S.startLoc),E.key=A,r(E,S.offset,S.startLoc),{nextConsumeToken:T,node:E}}}return r(E,b.currentOffset(),b.currentPosition()),{node:E}}function _(b){const $=b.context(),E=$.currentType===1?b.currentOffset():$.offset,T=$.currentType===1?$.endLoc:$.startLoc,S=s(2,E,T);S.items=[];let A=null;do{const P=A||b.nextToken();switch(A=null,P.type){case 0:P.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(P)),S.items.push(o(b,P.value||""));break;case 5:P.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(P)),S.items.push(i(b,P.value||""));break;case 4:P.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(P)),S.items.push(l(b,P.value||""));break;case 6:P.value==null&&a(b,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,getTokenCaption(P)),S.items.push(c(b,P.value||""));break;case 7:{const X=g(b);S.items.push(X.node),A=X.nextConsumeToken||null;break}}}while($.currentType!==13&&$.currentType!==1);const L=$.currentType===1?$.lastOffset:b.currentOffset(),j=$.currentType===1?$.lastEndLoc:b.currentPosition();return r(S,L,j),S}function f(b,$,E,T){const S=b.context();let A=T.items.length===0;const L=s(1,$,E);L.cases=[],L.cases.push(T);do{const j=_(b);A||(A=j.items.length===0),L.cases.push(j)}while(S.currentType!==13);return A&&a(b,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),r(L,b.currentOffset(),b.currentPosition()),L}function y(b){const $=b.context(),{offset:E,startLoc:T}=$,S=_(b);return $.currentType===13?S:f(b,E,T,S)}function w(b){const $=createTokenizer(b,assign$1({},e)),E=$.context(),T=s(0,E.offset,E.startLoc);return t&&T.loc&&(T.loc.source=b),T.body=y($),e.onCacheKey&&(T.cacheKey=e.onCacheKey(b)),E.currentType!==13&&a($,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,b[E.offset]||""),r(T,$.currentOffset(),$.currentPosition()),T}return{parse:w}}function getTokenCaption(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function createTransformer(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function traverseNodes(e,t){for(let n=0;n<e.length;n++)traverseNode(e[n],t)}function traverseNode(e,t){switch(e.type){case 1:traverseNodes(e.cases,t),t.helper("plural");break;case 2:traverseNodes(e.items,t);break;case 6:{traverseNode(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function transform(e,t={}){const n=createTransformer(e);n.helper("normalize"),e.body&&traverseNode(e.body,n);const a=n.context();e.helpers=Array.from(a.helpers)}function optimize(e){const t=e.body;return t.type===2?optimizeMessageNode(t):t.cases.forEach(n=>optimizeMessageNode(n)),e}function optimizeMessageNode(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const a=e.items[n];if(!(a.type===3||a.type===9)||a.value==null)break;t.push(a.value)}if(t.length===e.items.length){e.static=join(t);for(let n=0;n<e.items.length;n++){const a=e.items[n];(a.type===3||a.type===9)&&delete a.value}}}}function minify(e){switch(e.t=e.type,e.type){case 0:{const t=e;minify(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let a=0;a<n.length;a++)minify(n[a]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let a=0;a<n.length;a++)minify(n[a]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;minify(t.key),t.k=t.key,delete t.key,t.modifier&&(minify(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function createCodeGenerator(e,t){const{filename:n,breakLineCode:a,needIndent:s}=t,r=t.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:s,indentLevel:0};r&&e.loc&&(o.source=e.loc.source);const i=()=>o;function l(y,w){o.code+=y}function c(y,w=!0){const b=w?a:"";l(s?b+"  ".repeat(y):b)}function u(y=!0){const w=++o.indentLevel;y&&c(w)}function d(y=!0){const w=--o.indentLevel;y&&c(w)}function g(){c(o.indentLevel)}return{context:i,push:l,indent:u,deindent:d,newline:g,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function generateLinkedNode(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),generateNode(e,t.key),t.modifier?(e.push(", "),generateNode(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function generateMessageNode(e,t){const{helper:n,needIndent:a}=e;e.push(`${n("normalize")}([`),e.indent(a());const s=t.items.length;for(let r=0;r<s&&(generateNode(e,t.items[r]),r!==s-1);r++)e.push(", ");e.deindent(a()),e.push("])")}function generatePluralNode(e,t){const{helper:n,needIndent:a}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(a());const s=t.cases.length;for(let r=0;r<s&&(generateNode(e,t.cases[r]),r!==s-1);r++)e.push(", ");e.deindent(a()),e.push("])")}}function generateResource(e,t){t.body?generateNode(e,t.body):e.push("null")}function generateNode(e,t){const{helper:n}=e;switch(t.type){case 0:generateResource(e,t);break;case 1:generatePluralNode(e,t);break;case 2:generateMessageNode(e,t);break;case 6:generateLinkedNode(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const generate=(e,t={})=>{const n=isString$1(t.mode)?t.mode:"normal",a=isString$1(t.filename)?t.filename:"message.intl";t.sourceMap;const s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,r=t.needIndent?t.needIndent:n!=="arrow",o=e.helpers||[],i=createCodeGenerator(e,{filename:a,breakLineCode:s,needIndent:r});i.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),i.indent(r),o.length>0&&(i.push(`const { ${join(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),i.newline()),i.push("return "),generateNode(i,e),i.deindent(r),i.push("}"),delete e.helpers;const{code:l,map:c}=i.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function baseCompile$1(e,t={}){const n=assign$1({},t),a=!!n.jit,s=!!n.minify,r=n.optimize==null?!0:n.optimize,i=createParser(n).parse(e);return a?(r&&optimize(i),s&&minify(i),{ast:i,code:""}):(transform(i,n),generate(i,n))}/*!
  * core-base v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function format(e){return n=>formatParts(n,e)}function formatParts(e,t){const n=resolveBody(t);if(n==null)throw createUnhandleNodeError(0);if(resolveType(n)===1){const r=resolveCases(n);return e.plural(r.reduce((o,i)=>[...o,formatMessageParts(e,i)],[]))}else return formatMessageParts(e,n)}const PROPS_BODY=["b","body"];function resolveBody(e){return resolveProps(e,PROPS_BODY)}const PROPS_CASES=["c","cases"];function resolveCases(e){return resolveProps(e,PROPS_CASES,[])}function formatMessageParts(e,t){const n=resolveStatic(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const a=resolveItems(t).reduce((s,r)=>[...s,formatMessagePart(e,r)],[]);return e.normalize(a)}}const PROPS_STATIC=["s","static"];function resolveStatic(e){return resolveProps(e,PROPS_STATIC)}const PROPS_ITEMS=["i","items"];function resolveItems(e){return resolveProps(e,PROPS_ITEMS,[])}function formatMessagePart(e,t){const n=resolveType(t);switch(n){case 3:return resolveValue$1(t,n);case 9:return resolveValue$1(t,n);case 4:{const a=t;if(hasOwn(a,"k")&&a.k)return e.interpolate(e.named(a.k));if(hasOwn(a,"key")&&a.key)return e.interpolate(e.named(a.key));throw createUnhandleNodeError(n)}case 5:{const a=t;if(hasOwn(a,"i")&&isNumber$1(a.i))return e.interpolate(e.list(a.i));if(hasOwn(a,"index")&&isNumber$1(a.index))return e.interpolate(e.list(a.index));throw createUnhandleNodeError(n)}case 6:{const a=t,s=resolveLinkedModifier(a),r=resolveLinkedKey(a);return e.linked(formatMessagePart(e,r),s?formatMessagePart(e,s):void 0,e.type)}case 7:return resolveValue$1(t,n);case 8:return resolveValue$1(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const PROPS_TYPE=["t","type"];function resolveType(e){return resolveProps(e,PROPS_TYPE)}const PROPS_VALUE=["v","value"];function resolveValue$1(e,t){const n=resolveProps(e,PROPS_VALUE);if(n)return n;throw createUnhandleNodeError(t)}const PROPS_MODIFIER=["m","modifier"];function resolveLinkedModifier(e){return resolveProps(e,PROPS_MODIFIER)}const PROPS_KEY=["k","key"];function resolveLinkedKey(e){const t=resolveProps(e,PROPS_KEY);if(t)return t;throw createUnhandleNodeError(6)}function resolveProps(e,t,n){for(let a=0;a<t.length;a++){const s=t[a];if(hasOwn(e,s)&&e[s]!=null)return e[s]}return n}function createUnhandleNodeError(e){return new Error(`unhandled node type: ${e}`)}const defaultOnCacheKey=e=>e;let compileCache=create();function isMessageAST(e){return isObject$1(e)&&resolveType(e)===0&&(hasOwn(e,"b")||hasOwn(e,"body"))}function baseCompile(e,t={}){let n=!1;const a=t.onError||defaultOnError;return t.onError=s=>{n=!0,a(s)},{...baseCompile$1(e,t),detectError:n}}function compile(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(e)){isBoolean$1(t.warnHtmlMessage)&&t.warnHtmlMessage;const a=(t.onCacheKey||defaultOnCacheKey)(e),s=compileCache[a];if(s)return s;const{ast:r,detectError:o}=baseCompile(e,{...t,location:!1,jit:!0}),i=format(r);return o?i:compileCache[a]=i}else{const n=e.cacheKey;if(n){const a=compileCache[n];return a||(compileCache[n]=format(e))}else return format(e)}}let devtools=null;function setDevToolsHook(e){devtools=e}function initI18nDevTools(e,t,n){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(e){return t=>devtools&&devtools.emit(e,t)}const CoreErrorCodes={INVALID_ARGUMENT:COMPILE_ERROR_CODES_EXTEND_POINT,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},CORE_ERROR_CODES_EXTEND_POINT=24;function createCoreError(e){return createCompileError(e,null,void 0)}function getLocale(e,t){return t.locale!=null?resolveLocale(t.locale):resolveLocale(e.locale)}let _resolveLocale;function resolveLocale(e){if(isString$1(e))return e;if(isFunction$1(e)){if(e.resolvedOnce&&_resolveLocale!=null)return _resolveLocale;if(e.constructor.name==="Function"){const t=e();if(isPromise(t))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _resolveLocale=t}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE)}function fallbackWithSimple(e,t,n){return[...new Set([n,...isArray$1(t)?t:isObject$1(t)?Object.keys(t):isString$1(t)?[t]:[n]])]}function fallbackWithLocaleChain(e,t,n){const a=isString$1(n)?n:DEFAULT_LOCALE,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(a);if(!r){r=[];let o=[n];for(;isArray$1(o);)o=appendBlockToChain(r,o,t);const i=isArray$1(t)||!isPlainObject$2(t)?t:t.default?t.default:null;o=isString$1(i)?[i]:i,isArray$1(o)&&appendBlockToChain(r,o,!1),s.__localeChainCache.set(a,r)}return r}function appendBlockToChain(e,t,n){let a=!0;for(let s=0;s<t.length&&isBoolean$1(a);s++){const r=t[s];isString$1(r)&&(a=appendLocaleToChain(e,t[s],n))}return a}function appendLocaleToChain(e,t,n){let a;const s=t.split("-");do{const r=s.join("-");a=appendItemToChain(e,r,n),s.splice(-1,1)}while(s.length&&a===!0);return a}function appendItemToChain(e,t,n){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(isArray$1(n)||isPlainObject$2(n))&&n[s]&&(a=n[s])}return a}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]},pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]},pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]},pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]},pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(e){return literalValueRE.test(e)}function stripQuotes(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function getPathCharType(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:isLiteral(t)?stripQuotes(t):"*"+t}function parse(e){const t=[];let n=-1,a=0,s=0,r,o,i,l,c,u,d;const g=[];g[0]=()=>{o===void 0?o=i:o+=i},g[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},g[2]=()=>{g[0](),s++},g[3]=()=>{if(s>0)s--,a=4,g[0]();else{if(s=0,o===void 0||(o=formatSubPath(o),o===!1))return!1;g[1]()}};function _(){const f=e[n+1];if(a===5&&f==="'"||a===6&&f==='"')return n++,i="\\"+f,g[0](),!0}for(;a!==null;)if(n++,r=e[n],!(r==="\\"&&_())){if(l=getPathCharType(r),d=pathStateMachine[a],c=d[l]||d.l||8,c===8||(a=c[0],c[1]!==void 0&&(u=g[c[1]],u&&(i=r,u()===!1))))return;if(a===7)return t}}const cache=new Map;function resolveWithKeyValue(e,t){return isObject$1(e)?e[t]:null}function resolveValue(e,t){if(!isObject$1(e))return null;let n=cache.get(t);if(n||(n=parse(t),n&&cache.set(t,n)),!n)return null;const a=n.length;let s=e,r=0;for(;r<a;){const o=s[n[r]];if(o===void 0||isFunction$1(s))return null;s=o,r++}return s}const VERSION$3="11.1.2",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(e,t)=>t==="text"&&isString$1(e)?e.toUpperCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&isString$1(e)?e.toLowerCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&isString$1(e)?capitalize(e):t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?capitalize(e.children):e}}let _compiler;function registerMessageCompiler(e){_compiler=e}let _resolver;function registerMessageResolver(e){_resolver=e}let _fallbacker;function registerLocaleFallbacker(e){_fallbacker=e}let _additionalMeta=null;const setAdditionalMeta=e=>{_additionalMeta=e},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=e=>{_fallbackContext=e},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(e={}){const t=isFunction$1(e.onWarn)?e.onWarn:warn,n=isString$1(e.version)?e.version:VERSION$3,a=isString$1(e.locale)||isFunction$1(e.locale)?e.locale:DEFAULT_LOCALE,s=isFunction$1(a)?DEFAULT_LOCALE:a,r=isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||isString$1(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=isPlainObject$2(e.messages)?e.messages:createResources(s),i=isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:createResources(s),l=isPlainObject$2(e.numberFormats)?e.numberFormats:createResources(s),c=assign$1(create(),e.modifiers,getDefaultLinkedModifiers()),u=e.pluralRules||create(),d=isFunction$1(e.missing)?e.missing:null,g=isBoolean$1(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,_=isBoolean$1(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,f=!!e.fallbackFormat,y=!!e.unresolving,w=isFunction$1(e.postTranslation)?e.postTranslation:null,b=isPlainObject$2(e.processor)?e.processor:null,$=isBoolean$1(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,T=isFunction$1(e.messageCompiler)?e.messageCompiler:_compiler,S=isFunction$1(e.messageResolver)?e.messageResolver:_resolver||resolveWithKeyValue,A=isFunction$1(e.localeFallbacker)?e.localeFallbacker:_fallbacker||fallbackWithSimple,L=isObject$1(e.fallbackContext)?e.fallbackContext:void 0,j=e,P=isObject$1(j.__datetimeFormatters)?j.__datetimeFormatters:new Map,X=isObject$1(j.__numberFormatters)?j.__numberFormatters:new Map,q=isObject$1(j.__meta)?j.__meta:{};_cid++;const M={version:n,cid:_cid,locale:a,fallbackLocale:r,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:g,fallbackWarn:_,fallbackFormat:f,unresolving:y,postTranslation:w,processor:b,warnHtmlMessage:$,escapeParameter:E,messageCompiler:T,messageResolver:S,localeFallbacker:A,fallbackContext:L,onWarn:t,__meta:q};return M.datetimeFormats=i,M.numberFormats=l,M.__datetimeFormatters=P,M.__numberFormatters=X,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(M,n,q),M}const createResources=e=>({[e]:create()});function handleMissing(e,t,n,a,s){const{missing:r,onWarn:o}=e;if(r!==null){const i=r(e,n,t,s);return isString$1(i)?i:t}else return t}function updateFallbackLocale(e,t,n){const a=e;a.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function isAlmostSameLocale(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function isImplicitFallback(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let a=n+1;a<t.length;a++)if(isAlmostSameLocale(e,t[a]))return!0;return!1}function datetime(e,...t){const{datetimeFormats:n,unresolving:a,fallbackLocale:s,onWarn:r,localeFallbacker:o}=e,{__datetimeFormatters:i}=e,[l,c,u,d]=parseDateTimeArgs(...t),g=isBoolean$1(u.missingWarn)?u.missingWarn:e.missingWarn;isBoolean$1(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const _=!!u.part,f=getLocale(e,u),y=o(e,s,f);if(!isString$1(l)||l==="")return new Intl.DateTimeFormat(f,d).format(c);let w={},b,$=null;const E="datetime format";for(let A=0;A<y.length&&(b=y[A],w=n[b]||{},$=w[l],!isPlainObject$2($));A++)handleMissing(e,l,b,g,E);if(!isPlainObject$2($)||!isString$1(b))return a?NOT_REOSLVED:l;let T=`${b}__${l}`;isEmptyObject(d)||(T=`${T}__${JSON.stringify(d)}`);let S=i.get(T);return S||(S=new Intl.DateTimeFormat(b,assign$1({},$,d)),i.set(T,S)),_?S.formatToParts(c):S.format(c)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...e){const[t,n,a,s]=e,r=create();let o=create(),i;if(isString$1(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();i=new Date(c);try{i.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate$1(t)){if(isNaN(t.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);i=t}else if(isNumber$1(t))i=t;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(n)?r.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(l=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(l)?o[l]=n[l]:r[l]=n[l]}),isString$1(a)?r.locale=a:isPlainObject$2(a)&&(o=a),isPlainObject$2(s)&&(o=s),[r.key||"",i,r,o]}function clearDateTimeFormat(e,t,n){const a=e;for(const s in n){const r=`${t}__${s}`;a.__datetimeFormatters.has(r)&&a.__datetimeFormatters.delete(r)}}function number(e,...t){const{numberFormats:n,unresolving:a,fallbackLocale:s,onWarn:r,localeFallbacker:o}=e,{__numberFormatters:i}=e,[l,c,u,d]=parseNumberArgs(...t),g=isBoolean$1(u.missingWarn)?u.missingWarn:e.missingWarn;isBoolean$1(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const _=!!u.part,f=getLocale(e,u),y=o(e,s,f);if(!isString$1(l)||l==="")return new Intl.NumberFormat(f,d).format(c);let w={},b,$=null;const E="number format";for(let A=0;A<y.length&&(b=y[A],w=n[b]||{},$=w[l],!isPlainObject$2($));A++)handleMissing(e,l,b,g,E);if(!isPlainObject$2($)||!isString$1(b))return a?NOT_REOSLVED:l;let T=`${b}__${l}`;isEmptyObject(d)||(T=`${T}__${JSON.stringify(d)}`);let S=i.get(T);return S||(S=new Intl.NumberFormat(b,assign$1({},$,d)),i.set(T,S)),_?S.formatToParts(c):S.format(c)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...e){const[t,n,a,s]=e,r=create();let o=create();if(!isNumber$1(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const i=t;return isString$1(n)?r.key=n:isPlainObject$2(n)&&Object.keys(n).forEach(l=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(l)?o[l]=n[l]:r[l]=n[l]}),isString$1(a)?r.locale=a:isPlainObject$2(a)&&(o=a),isPlainObject$2(s)&&(o=s),[r.key||"",i,r,o]}function clearNumberFormat(e,t,n){const a=e;for(const s in n){const r=`${t}__${s}`;a.__numberFormatters.has(r)&&a.__numberFormatters.delete(r)}}const DEFAULT_MODIFIER=e=>e,DEFAULT_MESSAGE=e=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=e=>e.length===0?"":join(e),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function getPluralIndex(e){const t=isNumber$1(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(isNumber$1(e.named.count)||isNumber$1(e.named.n))?isNumber$1(e.named.count)?e.named.count:isNumber$1(e.named.n)?e.named.n:t:t}function normalizeNamed(e,t){t.count||(t.count=e),t.n||(t.n=e)}function createMessageContext(e={}){const t=e.locale,n=getPluralIndex(e),a=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?e.pluralRules[t]:pluralDefault,s=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction$1(e.pluralRules[t])?pluralDefault:void 0,r=b=>b[a(n,b.length,s)],o=e.list||[],i=b=>o[b],l=e.named||create();isNumber$1(e.pluralIndex)&&normalizeNamed(n,l);const c=b=>l[b];function u(b,$){const E=isFunction$1(e.messages)?e.messages(b,!!$):isObject$1(e.messages)?e.messages[b]:!1;return E||(e.parent?e.parent.message(b):DEFAULT_MESSAGE)}const d=b=>e.modifiers?e.modifiers[b]:DEFAULT_MODIFIER,g=isPlainObject$2(e.processor)&&isFunction$1(e.processor.normalize)?e.processor.normalize:DEFAULT_NORMALIZE,_=isPlainObject$2(e.processor)&&isFunction$1(e.processor.interpolate)?e.processor.interpolate:DEFAULT_INTERPOLATE,f=isPlainObject$2(e.processor)&&isString$1(e.processor.type)?e.processor.type:DEFAULT_MESSAGE_DATA_TYPE,w={list:i,named:c,plural:r,linked:(b,...$)=>{const[E,T]=$;let S="text",A="";$.length===1?isObject$1(E)?(A=E.modifier||A,S=E.type||S):isString$1(E)&&(A=E||A):$.length===2&&(isString$1(E)&&(A=E||A),isString$1(T)&&(S=T||S));const L=u(b,!0)(w),j=S==="vnode"&&isArray$1(L)&&A?L[0]:L;return A?d(A)(j,S):j},message:u,type:f,interpolate:_,normalize:g,values:assign$1(create(),o,l)};return w}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=e=>isFunction$1(e);function translate$1(e,...t){const{fallbackFormat:n,postTranslation:a,unresolving:s,messageCompiler:r,fallbackLocale:o,messages:i}=e,[l,c]=parseTranslateArgs(...t),u=isBoolean$1(c.missingWarn)?c.missingWarn:e.missingWarn,d=isBoolean$1(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,g=isBoolean$1(c.escapeParameter)?c.escapeParameter:e.escapeParameter,_=!!c.resolvedMessage,f=isString$1(c.default)||isBoolean$1(c.default)?isBoolean$1(c.default)?r?l:()=>l:c.default:n?r?l:()=>l:null,y=n||f!=null&&(isString$1(f)||isFunction$1(f)),w=getLocale(e,c);g&&escapeParams(c);let[b,$,E]=_?[l,w,i[w]||create()]:resolveMessageFormat(e,l,w,o,d,u),T=b,S=l;if(!_&&!(isString$1(T)||isMessageAST(T)||isMessageFunction(T))&&y&&(T=f,S=T),!_&&(!(isString$1(T)||isMessageAST(T)||isMessageFunction(T))||!isString$1($)))return s?NOT_REOSLVED:l;let A=!1;const L=()=>{A=!0},j=isMessageFunction(T)?T:compileMessageFormat(e,l,$,T,S,L);if(A)return T;const P=getMessageContextOptions(e,$,E,c),X=createMessageContext(P),q=evaluateMessage(e,j,X),M=a?a(q,l):q;if(__INTLIFY_PROD_DEVTOOLS__){const Z={timestamp:Date.now(),key:isString$1(l)?l:isMessageFunction(T)?T.key:"",locale:$||(isMessageFunction(T)?T.locale:""),format:isString$1(T)?T:isMessageFunction(T)?T.source:"",message:M};Z.meta=assign$1({},e.__meta,getAdditionalMeta()||{}),translateDevTools(Z)}return M}function escapeParams(e){isArray$1(e.list)?e.list=e.list.map(t=>isString$1(t)?escapeHtml(t):t):isObject$1(e.named)&&Object.keys(e.named).forEach(t=>{isString$1(e.named[t])&&(e.named[t]=escapeHtml(e.named[t]))})}function resolveMessageFormat(e,t,n,a,s,r){const{messages:o,onWarn:i,messageResolver:l,localeFallbacker:c}=e,u=c(e,a,n);let d=create(),g,_=null;const f="translate";for(let y=0;y<u.length&&(g=u[y],d=o[g]||create(),(_=l(d,t))===null&&(_=d[t]),!(isString$1(_)||isMessageAST(_)||isMessageFunction(_)));y++)if(!isImplicitFallback(g,u)){const w=handleMissing(e,t,g,r,f);w!==t&&(_=w)}return[_,g,d]}function compileMessageFormat(e,t,n,a,s,r){const{messageCompiler:o,warnHtmlMessage:i}=e;if(isMessageFunction(a)){const c=a;return c.locale=c.locale||n,c.key=c.key||t,c}if(o==null){const c=()=>a;return c.locale=n,c.key=t,c}const l=o(a,getCompileContext(e,n,s,a,i,r));return l.locale=n,l.key=t,l.source=a,l}function evaluateMessage(e,t,n){return t(n)}function parseTranslateArgs(...e){const[t,n,a]=e,s=create();if(!isString$1(t)&&!isNumber$1(t)&&!isMessageFunction(t)&&!isMessageAST(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const r=isNumber$1(t)?String(t):(isMessageFunction(t),t);return isNumber$1(n)?s.plural=n:isString$1(n)?s.default=n:isPlainObject$2(n)&&!isEmptyObject(n)?s.named=n:isArray$1(n)&&(s.list=n),isNumber$1(a)?s.plural=a:isString$1(a)?s.default=a:isPlainObject$2(a)&&assign$1(s,a),[r,s]}function getCompileContext(e,t,n,a,s,r){return{locale:t,key:n,warnHtmlMessage:s,onError:o=>{throw r&&r(o),o},onCacheKey:o=>generateFormatCacheKey(t,n,o)}}function getMessageContextOptions(e,t,n,a){const{modifiers:s,pluralRules:r,messageResolver:o,fallbackLocale:i,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,g={locale:t,modifiers:s,pluralRules:r,messages:(_,f)=>{let y=o(n,_);if(y==null&&(u||f)){const[,,w]=resolveMessageFormat(u||e,_,t,i,l,c);y=o(w,_)}if(isString$1(y)||isMessageAST(y)){let w=!1;const $=compileMessageFormat(e,_,t,y,_,()=>{w=!0});return w?NOOP_MESSAGE_FUNCTION:$}else return isMessageFunction(y)?y:NOOP_MESSAGE_FUNCTION}};return e.processor&&(g.processor=e.processor),a.list&&(g.list=a.list),a.named&&(g.named=a.named),isNumber$1(a.plural)&&(g.pluralIndex=a.plural),g}initFeatureFlags$1();/*!
  * vue-i18n v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION$2="11.1.2";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const I18nErrorCodes={UNEXPECTED_RETURN_TYPE:CORE_ERROR_CODES_EXTEND_POINT,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function createI18nError(e,...t){return createCompileError(e,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(e){if(!isObject$1(e))return e;for(const t in e)if(hasOwn(e,t))if(!t.includes("."))isObject$1(e[t])&&handleFlatJson(e[t]);else{const n=t.split("."),a=n.length-1;let s=e,r=!1;for(let o=0;o<a;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=create()),!isObject$1(s[n[o]])){r=!0;break}s=s[n[o]]}r||(s[n[a]]=e[t],delete e[t]),isObject$1(s[n[a]])&&handleFlatJson(s[n[a]])}return e}function getLocaleMessages(e,t){const{messages:n,__i18n:a,messageResolver:s,flatJson:r}=t,o=isPlainObject$2(n)?n:isArray$1(a)?create():{[e]:create()};if(isArray$1(a)&&a.forEach(i=>{if("locale"in i&&"resource"in i){const{locale:l,resource:c}=i;l?(o[l]=o[l]||create(),deepCopy(c,o[l])):deepCopy(c,o)}else isString$1(i)&&deepCopy(JSON.parse(i),o)}),s==null&&r)for(const i in o)hasOwn(o,i)&&handleFlatJson(o[i]);return o}function getComponentOptions(e){return e.type}function adjustI18nResources(e,t,n){let a=isObject$1(t.messages)?t.messages:create();"__i18nGlobal"in n&&(a=getLocaleMessages(e.locale.value,{messages:a,__i18n:n.__i18nGlobal}));const s=Object.keys(a);s.length&&s.forEach(r=>{e.mergeLocaleMessage(r,a[r])});{if(isObject$1(t.datetimeFormats)){const r=Object.keys(t.datetimeFormats);r.length&&r.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(isObject$1(t.numberFormats)){const r=Object.keys(t.numberFormats);r.length&&r.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function createTextNode(e){return createVNode(Text,null,e,0)}const DEVTOOLS_META="__INTLIFY_META__",NOOP_RETURN_ARRAY=()=>[],NOOP_RETURN_FALSE=()=>!1;let composerID=0;function defineCoreMissingHandler(e){return(t,n,a,s)=>e(n,a,getCurrentInstance()||void 0,s)}const getMetaInfo=()=>{const e=getCurrentInstance();let t=null;return e&&(t=getComponentOptions(e)[DEVTOOLS_META])?{[DEVTOOLS_META]:t}:null};function createComposer(e={}){const{__root:t,__injectWithOption:n}=e,a=t===void 0,s=e.flatJson,r=inBrowser?ref:shallowRef;let o=isBoolean$1(e.inheritLocale)?e.inheritLocale:!0;const i=r(t&&o?t.locale.value:isString$1(e.locale)?e.locale:DEFAULT_LOCALE),l=r(t&&o?t.fallbackLocale.value:isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),c=r(getLocaleMessages(i.value,e)),u=r(isPlainObject$2(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),d=r(isPlainObject$2(e.numberFormats)?e.numberFormats:{[i.value]:{}});let g=t?t.missingWarn:isBoolean$1(e.missingWarn)||isRegExp$1(e.missingWarn)?e.missingWarn:!0,_=t?t.fallbackWarn:isBoolean$1(e.fallbackWarn)||isRegExp$1(e.fallbackWarn)?e.fallbackWarn:!0,f=t?t.fallbackRoot:isBoolean$1(e.fallbackRoot)?e.fallbackRoot:!0,y=!!e.fallbackFormat,w=isFunction$1(e.missing)?e.missing:null,b=isFunction$1(e.missing)?defineCoreMissingHandler(e.missing):null,$=isFunction$1(e.postTranslation)?e.postTranslation:null,E=t?t.warnHtmlMessage:isBoolean$1(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter;const S=t?t.modifiers:isPlainObject$2(e.modifiers)?e.modifiers:{};let A=e.pluralRules||t&&t.pluralRules,L;L=(()=>{a&&setFallbackContext(null);const O={version:VERSION$2,locale:i.value,fallbackLocale:l.value,messages:c.value,modifiers:S,pluralRules:A,missing:b===null?void 0:b,missingWarn:g,fallbackWarn:_,fallbackFormat:y,unresolving:!0,postTranslation:$===null?void 0:$,warnHtmlMessage:E,escapeParameter:T,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};O.datetimeFormats=u.value,O.numberFormats=d.value,O.__datetimeFormatters=isPlainObject$2(L)?L.__datetimeFormatters:void 0,O.__numberFormatters=isPlainObject$2(L)?L.__numberFormatters:void 0;const G=createCoreContext(O);return a&&setFallbackContext(G),G})(),updateFallbackLocale(L,i.value,l.value);function P(){return[i.value,l.value,c.value,u.value,d.value]}const X=computed({get:()=>i.value,set:O=>{L.locale=O,i.value=O}}),q=computed({get:()=>l.value,set:O=>{L.fallbackLocale=O,l.value=O,updateFallbackLocale(L,i.value,O)}}),M=computed(()=>c.value),Z=computed(()=>u.value),le=computed(()=>d.value);function ve(){return isFunction$1($)?$:null}function he(O){$=O,L.postTranslation=O}function ie(){return w}function ge(O){O!==null&&(b=defineCoreMissingHandler(O)),w=O,L.missing=b}const _e=(O,G,de,me,be,Ae)=>{P();let Ne;try{__INTLIFY_PROD_DEVTOOLS__,a||(L.fallbackContext=t?getFallbackContext():void 0),Ne=O(L)}finally{__INTLIFY_PROD_DEVTOOLS__,a||(L.fallbackContext=void 0)}if(de!=="translate exists"&&isNumber$1(Ne)&&Ne===NOT_REOSLVED||de==="translate exists"&&!Ne){const[De,Pe]=G();return t&&f?me(t):be(De)}else{if(Ae(Ne))return Ne;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function ye(...O){return _e(G=>Reflect.apply(translate$1,null,[G,...O]),()=>parseTranslateArgs(...O),"translate",G=>Reflect.apply(G.t,G,[...O]),G=>G,G=>isString$1(G))}function ke(...O){const[G,de,me]=O;if(me&&!isObject$1(me))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return ye(G,de,assign$1({resolvedMessage:!0},me||{}))}function R(...O){return _e(G=>Reflect.apply(datetime,null,[G,...O]),()=>parseDateTimeArgs(...O),"datetime format",G=>Reflect.apply(G.d,G,[...O]),()=>MISSING_RESOLVE_VALUE,G=>isString$1(G))}function I(...O){return _e(G=>Reflect.apply(number,null,[G,...O]),()=>parseNumberArgs(...O),"number format",G=>Reflect.apply(G.n,G,[...O]),()=>MISSING_RESOLVE_VALUE,G=>isString$1(G))}function C(O){return O.map(G=>isString$1(G)||isNumber$1(G)||isBoolean$1(G)?createTextNode(String(G)):G)}const D={normalize:C,interpolate:O=>O,type:"vnode"};function K(...O){return _e(G=>{let de;const me=G;try{me.processor=D,de=Reflect.apply(translate$1,null,[me,...O])}finally{me.processor=null}return de},()=>parseTranslateArgs(...O),"translate",G=>G[TranslateVNodeSymbol](...O),G=>[createTextNode(G)],G=>isArray$1(G))}function ue(...O){return _e(G=>Reflect.apply(number,null,[G,...O]),()=>parseNumberArgs(...O),"number format",G=>G[NumberPartsSymbol](...O),NOOP_RETURN_ARRAY,G=>isString$1(G)||isArray$1(G))}function re(...O){return _e(G=>Reflect.apply(datetime,null,[G,...O]),()=>parseDateTimeArgs(...O),"datetime format",G=>G[DatetimePartsSymbol](...O),NOOP_RETURN_ARRAY,G=>isString$1(G)||isArray$1(G))}function ne(O){A=O,L.pluralRules=A}function pe(O,G){return _e(()=>{if(!O)return!1;const de=isString$1(G)?G:i.value,me=W(de),be=L.messageResolver(me,O);return isMessageAST(be)||isMessageFunction(be)||isString$1(be)},()=>[O],"translate exists",de=>Reflect.apply(de.te,de,[O,G]),NOOP_RETURN_FALSE,de=>isBoolean$1(de))}function k(O){let G=null;const de=fallbackWithLocaleChain(L,l.value,i.value);for(let me=0;me<de.length;me++){const be=c.value[de[me]]||{},Ae=L.messageResolver(be,O);if(Ae!=null){G=Ae;break}}return G}function x(O){const G=k(O);return G??(t?t.tm(O)||{}:{})}function W(O){return c.value[O]||{}}function Q(O,G){if(s){const de={[O]:G};for(const me in de)hasOwn(de,me)&&handleFlatJson(de[me]);G=de[O]}c.value[O]=G,L.messages=c.value}function Y(O,G){c.value[O]=c.value[O]||{};const de={[O]:G};if(s)for(const me in de)hasOwn(de,me)&&handleFlatJson(de[me]);G=de[O],deepCopy(G,c.value[O]),L.messages=c.value}function U(O){return u.value[O]||{}}function m(O,G){u.value[O]=G,L.datetimeFormats=u.value,clearDateTimeFormat(L,O,G)}function v(O,G){u.value[O]=assign$1(u.value[O]||{},G),L.datetimeFormats=u.value,clearDateTimeFormat(L,O,G)}function B(O){return d.value[O]||{}}function F(O,G){d.value[O]=G,L.numberFormats=d.value,clearNumberFormat(L,O,G)}function oe(O,G){d.value[O]=assign$1(d.value[O]||{},G),L.numberFormats=d.value,clearNumberFormat(L,O,G)}composerID++,t&&inBrowser&&(watch(t.locale,O=>{o&&(i.value=O,L.locale=O,updateFallbackLocale(L,i.value,l.value))}),watch(t.fallbackLocale,O=>{o&&(l.value=O,L.fallbackLocale=O,updateFallbackLocale(L,i.value,l.value))}));const ee={id:composerID,locale:X,fallbackLocale:q,get inheritLocale(){return o},set inheritLocale(O){o=O,O&&t&&(i.value=t.locale.value,l.value=t.fallbackLocale.value,updateFallbackLocale(L,i.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:M,get modifiers(){return S},get pluralRules(){return A||{}},get isGlobal(){return a},get missingWarn(){return g},set missingWarn(O){g=O,L.missingWarn=g},get fallbackWarn(){return _},set fallbackWarn(O){_=O,L.fallbackWarn=_},get fallbackRoot(){return f},set fallbackRoot(O){f=O},get fallbackFormat(){return y},set fallbackFormat(O){y=O,L.fallbackFormat=y},get warnHtmlMessage(){return E},set warnHtmlMessage(O){E=O,L.warnHtmlMessage=O},get escapeParameter(){return T},set escapeParameter(O){T=O,L.escapeParameter=O},t:ye,getLocaleMessage:W,setLocaleMessage:Q,mergeLocaleMessage:Y,getPostTranslationHandler:ve,setPostTranslationHandler:he,getMissingHandler:ie,setMissingHandler:ge,[SetPluralRulesSymbol]:ne};return ee.datetimeFormats=Z,ee.numberFormats=le,ee.rt=ke,ee.te=pe,ee.tm=x,ee.d=R,ee.n=I,ee.getDateTimeFormat=U,ee.setDateTimeFormat=m,ee.mergeDateTimeFormat=v,ee.getNumberFormat=B,ee.setNumberFormat=F,ee.mergeNumberFormat=oe,ee[InejctWithOptionSymbol]=n,ee[TranslateVNodeSymbol]=K,ee[DatetimePartsSymbol]=re,ee[NumberPartsSymbol]=ue,ee}function convertComposerOptions(e){const t=isString$1(e.locale)?e.locale:DEFAULT_LOCALE,n=isString$1(e.fallbackLocale)||isArray$1(e.fallbackLocale)||isPlainObject$2(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,a=isFunction$1(e.missing)?e.missing:void 0,s=isBoolean$1(e.silentTranslationWarn)||isRegExp$1(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,r=isBoolean$1(e.silentFallbackWarn)||isRegExp$1(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=isBoolean$1(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.formatFallbackMessages,l=isPlainObject$2(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=isFunction$1(e.postTranslation)?e.postTranslation:void 0,d=isString$1(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,g=!!e.escapeParameterHtml,_=isBoolean$1(e.sync)?e.sync:!0;let f=e.messages;if(isPlainObject$2(e.sharedMessages)){const S=e.sharedMessages;f=Object.keys(S).reduce((L,j)=>{const P=L[j]||(L[j]={});return assign$1(P,S[j]),L},f||{})}const{__i18n:y,__root:w,__injectWithOption:b}=e,$=e.datetimeFormats,E=e.numberFormats,T=e.flatJson;return{locale:t,fallbackLocale:n,messages:f,flatJson:T,datetimeFormats:$,numberFormats:E,missing:a,missingWarn:s,fallbackWarn:r,fallbackRoot:o,fallbackFormat:i,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:g,messageResolver:e.messageResolver,inheritLocale:_,__i18n:y,__root:w,__injectWithOption:b}}function createVueI18n(e={}){const t=createComposer(convertComposerOptions(e)),{__extender:n}=e,a={id:t.id,get locale(){return t.locale.value},set locale(s){t.locale.value=s},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(s){t.fallbackLocale.value=s},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(s){t.setMissingHandler(s)},get silentTranslationWarn(){return isBoolean$1(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(s){t.missingWarn=isBoolean$1(s)?!s:s},get silentFallbackWarn(){return isBoolean$1(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(s){t.fallbackWarn=isBoolean$1(s)?!s:s},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(s){t.fallbackFormat=s},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(s){t.setPostTranslationHandler(s)},get sync(){return t.inheritLocale},set sync(s){t.inheritLocale=s},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){t.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(s){t.escapeParameter=s},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...s){return Reflect.apply(t.t,t,[...s])},rt(...s){return Reflect.apply(t.rt,t,[...s])},te(s,r){return t.te(s,r)},tm(s){return t.tm(s)},getLocaleMessage(s){return t.getLocaleMessage(s)},setLocaleMessage(s,r){t.setLocaleMessage(s,r)},mergeLocaleMessage(s,r){t.mergeLocaleMessage(s,r)},d(...s){return Reflect.apply(t.d,t,[...s])},getDateTimeFormat(s){return t.getDateTimeFormat(s)},setDateTimeFormat(s,r){t.setDateTimeFormat(s,r)},mergeDateTimeFormat(s,r){t.mergeDateTimeFormat(s,r)},n(...s){return Reflect.apply(t.n,t,[...s])},getNumberFormat(s){return t.getNumberFormat(s)},setNumberFormat(s,r){t.setNumberFormat(s,r)},mergeNumberFormat(s,r){t.mergeNumberFormat(s,r)}};return a.__extender=n,a}function defineMixin(e,t,n){return{beforeCreate(){const a=getCurrentInstance();if(!a)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const r=s.i18n;if(s.__i18n&&(r.__i18n=s.__i18n),r.__root=t,this===this.$root)this.$i18n=mergeToGlobal(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=createVueI18n(r);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(e,s);else{this.$i18n=createVueI18n({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&adjustI18nResources(t,s,s),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$te=(r,o)=>this.$i18n.te(r,o),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(a,this.$i18n)},mounted(){},unmounted(){const a=getCurrentInstance();if(!a)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(a),delete this.$i18n}}}function mergeToGlobal(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[SetPluralRulesSymbol](t.pluralizationRules||e.pluralizationRules);const n=getLocaleMessages(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(a=>e.mergeLocaleMessage(a,n[a])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(a=>e.mergeDateTimeFormat(a,t.datetimeFormats[a])),t.numberFormats&&Object.keys(t.numberFormats).forEach(a=>e.mergeNumberFormat(a,t.numberFormats[a])),e}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((a,s)=>[...a,...s.type===Fragment?s.children:[s]],[]):t.reduce((n,a)=>{const s=e[a];return s&&(n[a]=s()),n},create())}function getFragmentableTag(){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>isNumber$1(e)||!isNaN(e)}},baseFormatProps),setup(e,t){const{slots:n,attrs:a}=t,s=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(d=>d!=="_"),o=create();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=isString$1(e.plural)?+e.plural:e.plural);const i=getInterpolateArg(t,r),l=s[TranslateVNodeSymbol](e.keypath,i,o),c=assign$1(create(),a),u=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(u,c,l)}}}),Translation=TranslationImpl;function isVNode(e){return isArray$1(e)&&!isString$1(e[0])}function renderFormatter(e,t,n,a){const{slots:s,attrs:r}=t;return()=>{const o={part:!0};let i=create();e.locale&&(o.locale=e.locale),isString$1(e.format)?o.key=e.format:isObject$1(e.format)&&(isString$1(e.format.key)&&(o.key=e.format.key),i=Object.keys(e.format).reduce((g,_)=>n.includes(_)?assign$1(create(),g,{[_]:e.format[_]}):g,create()));const l=a(e.value,o,i);let c=[o.key];isArray$1(l)?c=l.map((g,_)=>{const f=s[g.type],y=f?f({[g.type]:g.value,index:_,parts:l}):[g.value];return isVNode(y)&&(y[0].key=`${g.type}-${_}`),y}):isString$1(l)&&(c=[l]);const u=assign$1(create(),r),d=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(d,u,c)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,NUMBER_FORMAT_OPTIONS_KEYS,(...a)=>n[NumberPartsSymbol](...a))}}),NumberFormat=NumberFormatImpl;function getComposer$1(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const a=n.__getInstance(t);return a!=null?a.__composer:e.global.__composer}}function vTDirective(e){const t=o=>{const{instance:i,value:l}=o;if(!i||!i.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const c=getComposer$1(e,i.$),u=parseValue(l);return[Reflect.apply(c.t,c,[...makeParams(u)]),c]};return{created:(o,i)=>{const[l,c]=t(i);inBrowser&&e.global===c&&(o.__i18nWatcher=watch(c.locale,()=>{i.instance&&i.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{inBrowser&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:i})=>{if(o.__composer){const l=o.__composer,c=parseValue(i);o.textContent=Reflect.apply(l.t,l,[...makeParams(c)])}},getSSRProps:o=>{const[i]=t(o);return{textContent:i}}}}function parseValue(e){if(isString$1(e))return{path:e};if(isPlainObject$2(e)){if(!("path"in e))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return e}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(e){const{path:t,locale:n,args:a,choice:s,plural:r}=e,o={},i=a||{};return isString$1(n)&&(o.locale=n),isNumber$1(s)&&(o.plural=s),isNumber$1(r)&&(o.plural=r),[t,i,o]}function apply(e,t,...n){const a=isPlainObject$2(n[0])?n[0]:{};(isBoolean$1(a.globalInstall)?a.globalInstall:!0)&&([Translation.name,"I18nT"].forEach(r=>e.component(r,Translation)),[NumberFormat.name,"I18nN"].forEach(r=>e.component(r,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(r=>e.component(r,DatetimeFormat))),e.directive("t",vTDirective(t))}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(e={}){const t=__VUE_I18N_LEGACY_API__&&isBoolean$1(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=isBoolean$1(e.globalInjection)?e.globalInjection:!0,a=new Map,[s,r]=createGlobal(e,t),o=makeSymbol("");function i(d){return a.get(d)||null}function l(d,g){a.set(d,g)}function c(d){a.delete(d)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(d,...g){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,u),isPlainObject$2(g[0])){const y=g[0];u.__composerExtend=y.__composerExtend,u.__vueI18nExtend=y.__vueI18nExtend}let _=null;!t&&n&&(_=injectGlobalFields(d,u.global)),__VUE_I18N_FULL_INSTALL__&&apply(d,u,...g),__VUE_I18N_LEGACY_API__&&t&&d.mixin(defineMixin(r,r.__composer,u));const f=d.unmount;d.unmount=()=>{_&&_(),u.dispose(),f()}},get global(){return r},dispose(){s.stop()},__instances:a,__getInstance:i,__setInstance:l,__deleteInstance:c};return u}function useI18n(e={}){const t=getCurrentInstance();if(t==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const n=getI18nInstance(t),a=getGlobalComposer(n),s=getComponentOptions(t),r=getScope(e,s);if(r==="global")return adjustI18nResources(a,e,s),a;if(r==="parent"){let l=getComposer(n,t,e.__useComponent);return l==null&&(l=a),l}const o=n;let i=o.__getInstance(t);if(i==null){const l=assign$1({},e);"__i18n"in s&&(l.__i18n=s.__i18n),a&&(l.__root=a),i=createComposer(l),o.__composerExtend&&(i[DisposeSymbol]=o.__composerExtend(i)),setupLifeCycle(o,t,i),o.__setInstance(t,i)}return i}function createGlobal(e,t){const n=effectScope(),a=__VUE_I18N_LEGACY_API__&&t?n.run(()=>createVueI18n(e)):n.run(()=>createComposer(e));if(a==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[n,a]}function getI18nInstance(e){const t=inject(e.isCE?I18nInjectionKey:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw createI18nError(e.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return t}function getScope(e,t){return isEmptyObject(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function getGlobalComposer(e){return e.mode==="composition"?e.global:e.global.__composer}function getComposer(e,t,n=!1){let a=null;const s=t.root;let r=getParentComponentInstance(t,n);for(;r!=null;){const o=e;if(e.mode==="composition")a=o.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const i=o.__getInstance(r);i!=null&&(a=i.__composer,n&&a&&!a[InejctWithOptionSymbol]&&(a=null))}if(a!=null||s===r)break;r=r.parent}return a}function getParentComponentInstance(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function setupLifeCycle(e,t,n){onMounted(()=>{},t),onUnmounted(()=>{const a=n;e.__deleteInstance(t);const s=a[DisposeSymbol];s&&(s(),delete a[DisposeSymbol])},t)}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(e,t){const n=Object.create(null);return globalExportProps.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const o=isRef(r.value)?{get(){return r.value.value},set(i){r.value.value=i}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,s,o)}),e.config.globalProperties.$i18n=n,globalExportMethods.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r||!r.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,r)}),()=>{delete e.config.globalProperties.$i18n,globalExportMethods.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}const DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return renderFormatter(e,t,DATETIME_FORMAT_OPTIONS_KEYS,(...a)=>n[DatetimePartsSymbol](...a))}}),DatetimeFormat=DatetimeFormatImpl;if(initFeatureFlags(),registerMessageCompiler(compile),registerMessageResolver(resolveValue),registerLocaleFallbacker(fallbackWithLocaleChain),__INTLIFY_PROD_DEVTOOLS__){const e=getGlobalThis();e.__INTLIFY__=!0,setDevToolsHook(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},_hoisted_1$i={class:"weilin_prompt_ui_window-title"},_hoisted_2$e=["title"],_sfc_main$j={__name:"DraggableWindow",props:{title:{type:String,required:!0},position:{type:Object,required:!0},size:{type:Object,required:!0},zIndex:{type:Number,default:1},name:{type:String,default:"default_window_name"}},emits:["update:position","update:size","active","close"],setup(e,{emit:t}){const n=e,{t:a}=useI18n(),s=t,r=ref({x:0,y:0}),o=ref({width:600,height:400});watch(()=>n.position,A=>{A&&(r.value={...A},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_position`},"*"))},{immediate:!0,deep:!0}),watch(()=>n.size,A=>{A&&(o.value={...A},window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_size`},"*"))},{immediate:!0,deep:!0});const i=()=>{window.parent.postMessage({type:`weilin_prompt_ui_window_change_${n.name}_scroll`},"*")};onMounted(()=>{n.position&&(r.value={...n.position}),n.size&&(o.value={...n.size})});const l=ref(!1),c=ref({x:0,y:0}),u=A=>{l.value=!0,c.value={x:A.clientX-r.value.x,y:A.clientY-r.value.y},document.addEventListener("mousemove",d),document.addEventListener("mouseup",g)},d=A=>{if(l.value){const L={x:A.clientX-c.value.x,y:A.clientY-c.value.y};r.value=L,s("update:position",L)}},g=()=>{l.value=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",g)},_=ref(!1),f=ref({x:0,y:0}),y=ref({width:0,height:0}),w=A=>{_.value=!0,f.value={x:A.clientX,y:A.clientY},y.value={...o.value},document.addEventListener("mousemove",b),document.addEventListener("mouseup",$)},b=A=>{if(_.value){const L=A.clientX-f.value.x,j=A.clientY-f.value.y,P={width:Math.max(200,y.value.width+L),height:Math.max(200,y.value.height+j)};o.value=P,s("update:size",P)}},$=()=>{_.value=!1,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",$)},E=()=>{s("active")},T=()=>{s("close")},S=A=>{E(),u(A)};return(A,L)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createBaseVNode("div",{class:"weilin_prompt_ui_draggable-window",style:normalizeStyle({left:`${r.value.x}px`,top:`${r.value.y}px`,width:`${o.value.width}px`,height:`${o.value.height}px`,zIndex:e.zIndex}),onMousedown:E},[createBaseVNode("div",{class:"weilin_prompt_ui_window-header",onMousedown:withModifiers(S,["stop"])},[createBaseVNode("div",_hoisted_1$i,toDisplayString$1(e.title),1),createBaseVNode("button",{class:"weilin_prompt_ui_close-btn",onClick:T},"")],32),createBaseVNode("div",{class:"weilin_prompt_ui_window-content",onScroll:i},[renderSlot(A.$slots,"default",{},void 0,!0)],32),createBaseVNode("div",{class:"weilin_prompt_ui_resize-handle",title:unref(a)("common.windowSize"),onMousedown:withModifiers(w,["stop"])},null,40,_hoisted_2$e)],36)]))}},DraggableWindow=_export_sfc(_sfc_main$j,[["__scopeId","data-v-fc1c036c"]]),version="v0.0.39",zh_CN={promptBox:{placeholder:"...",delete:"",newline:"",tab:"",windowTitle:"WeiLinUI "+version,windowTitleGlobal:"WeiLinUI "+version,translate:"",translatePlaceholder:"",weight:"",weightPlaceholder:"",addBracket:"",removeLayer:"",oneClickTranslate:"",hiddenHint:"",tagTips:"Tag<br>Tag<br>Tag",settings:{title:"",cancel:"",save:"",translator:"",sourceLanguage:"",targetLanguage:"",chinese_simplified:"",english:"",close:"",auto_detect:"",setting_floating_ball:"",setting_prompt_box:"",enablePromptCommaShow:"",floatingBallCount:"",floatingBallCountPlaceholder:"",floatingBallSize:"",floatingBallSizePlaceholder:"",enableFloatingBall:"",enableCommaConversion:"",enablePeriodConversion:"",enableBracketConversion:"",enableAngleBracketConversion:"",enableUnderscoreToBracket:"",setting_openai_box:"OpenAI",openai_api_key:"API Key",openai_api_key_placeholder:"API Key",openai_api_key_save:"",openaiSettings:"OpenAI",openai_base_url:"Base URL",openai_base_url_placeholder:"Base URL",openai_model:"",openai_model_placeholder:"",not_set:"",edit:"",delete:"",selectedOpenaiConfig:"OpenAI",addNewConfig:"OpenAI",setting_sponsor_me:"",sponsorMe:"",sponsorMeTip:"",sponsorMeLink:" https://afdian.com/a/weilin9999",setting_start_panel:"",startPanel:"",startPanelTip:"",selectTranslater:"",selectOptionNetworkTranslater:"",selectOptionPythonTranslater:"",apply:"",selectOptionNetworkTranslaterTitle:"",selectOptionPythonTranslaterTitle:"",selectOptionNetworkTranslaterInfo:"",selectOptionPythonTranslaterInfo:"translators",install:"",nowTranlaterPackageState:"",tranlaterPackageStateTrue:"",tranlaterPackageStateFlase:"",installed:"...",installTranslaterPackageInfo:"",translaterSetting:"",chooseTranslaterSetting:"",translaterLangSourceSetting:"",translaterLangTargeSetting:"",saveTranslaterSetting:"",testTranslaterTitle:"",inputTestTranslater:"",outPutTestTranslater:"",testingTranslater:"",inputTestTranslaterPlaceholder:"",outPutTestTranslaterPlaceholder:"",errorPrompt:""}},controls:{language:"",settings:"",switchTheme:"",darkMode:"",lightMode:"",tagManager:"",loraStack:"Lora",loraManager:"Lora",history:"",addLora:"Lora",removeLora:"Lora",lookOnLora:"Lora",aiChat:"AI",github:"Github",shareCloudData:""},theme:{toggle:""},common:{confirmDelete:"",delete:"",cancel:"",confirm:"",edit:"",save:"",refresh:"",copy:"",copySuccess:"",copyFailed:"",windowSize:"",showMore:"",showLess:""},cloudWindow:{windowTitle:"",back:"",currentPath:"",tagDatabase:"Tag ",danbooruDatabase:"Danbooru ",open:"",installed:"",install:"",installing:"..."},nodeListWindow:{windowTitle:"",openPromptUI:""},lora:{title:"Lora ",rawTitle:"LoraRaw",file:"",hash:"Hash",civitai:"Civitai",viewOnCivitai:" Civitai ",fetchFromCivitai:" Civitai ",modelNotFound:"",modelNotFoundTip:" Civitai ",name:"",nameTip:"",type:"",baseModel:"",trainedWords:"",trainedWordsTip:"",selectedWords:" {count} ",strengthMin:"",strengthMinTip:"",strengthMax:"",strengthMaxTip:"",promptWords:"",promptWordsTip:"",loraWorks:"Lora",strWeight:"",hideLora:"Lora",showLora:"Lora",baseModel:"",skipClip:"",seeLoraRaw:"LoraRaw"},tagManager:{deletePrimaryCategoryConfirm:" {name} ",deleteGroupConfirm:" {name} ",deleteTagConfirm:" {name} ",windowTitle:"",categories:"",groups:"",selectCategory:"",selectGroup:"",addPrimaryCategory:"",addGroup:"",editPrimaryCategory:"",editGroup:"",editTag:"",categoryName:"",categoryNamePlaceholder:"",categoryNameRequired:"",groupName:"",groupNamePlaceholder:"",groupNameRequired:"",addTag:"Tag",text:"Tag",textPlaceholder:"Tag",description:"Tag",descriptionPlaceholder:"Tag",textRequired:"TagTag",backgroundColor:"",colorPickerTitle:"",opacity:"",searchPlaceholder:"Tag...",noResults:"",searchInCategory:"",searchInTag:"Tag",save:"",cancel:"",confirm:"",delete:"",addSubCategory:"",editSubCategory:"",subCategoryName:"",subCategoryNamePlaceholder:"",subCategoryNameRequired:"",deleteConfirmTitle:"",deleteConfirmMessage:"{type}",deleteSuccess:"",deleteFailed:"",saveSuccess:"",saveFailed:"",colorPickerAlpha:"",colorPickerHex:"",colorPreview:"",dragToSort:"",searchTags:"",noTagsFound:"",noGroupsFound:"",noCategoriesFound:"",refresh:"",refreshing:"...",refreshSuccess:"",refreshFailed:"",search:"",searching:"...",searchResult:"",searchInPath:": {path}",category:"",group:"",tag:"",resultType:{category:"",group:"",tag:""},hasDeleteAction:"",deleteSelected:"",confirmDeleteSelected:"",cancelDelete:"",moveTag:"",targetTag:"",movePosition:"",moveBefore:"",moveAfter:"",editTag:"",deleteTag:"",editGroupMode:"",exitEditMode:"",autoAddSearchTag:"Tag"},loraManager:{windowTitle:"Lora",modelWeight:"",textEncoderWeight:"",all:"",refresh:"",cacheAll:"Lora",searchPlaceholder:"Lora...",prevPage:"",nextPage:"",noResults:"",loadingMore:"...",noMoreData:""},message:{copySuccess:"",copyFailed:"",saveSuccess:"",saveFailed:"",deleteSuccess:"",deleteFailed:"",operationSuccess:"",operationFailed:"",networkError:"",unknownError:"",refreshSuccess:"",refreshFailed:"",loadingData:"...",dataLoaded:"",editSuccess:"",editFailed:"",addSuccess:"",addFailed:"",addFavoriteSuccess:"",addFavoriteIsExist:"",error:"",editNameExist:"",moveSuccess:"",moveFailed:"",setLanguageSuccess:"",setLanguageFailed:"",startPanelSuccess:"",startPanelFailed:"",isLoading:"",loaddingPrc:" {name}%",loaddingSuccess:"",noFinishKuo:"",getTranslaterFail:"",applyTranslaterFail:"",applyToTranslaterFail:"",applyTranslaterSuccess:"",tranlaterPackageInstallFail:"",tranlaterPackageInstallSuccess:"",translaterTestFail:"",installPackageSuccess:"",installPackageFail:"",loadFailed:""},history:{title:"",search_placeholder:"...",search:"",windowTitle:"",favorites:"",history:"",refresh:"",refresh_history:"",refresh_favorites:"",add_to_favorites:"",delete_history:"",use_item:"",add_new:"",bulk_delete:"",deleteHistoryConfirm:" {name} ",deleteFavoriteConfirm:" {name} ",confirmDeleteSelected:"",cancel_delete:"",sure_delete:"",deleteSelected:"",dialog:{add_tag:"",edit_tag:"",name:"",name_placeholder:"",tag:"",tag_placeholder:"",background_color:"",background_color_placeholder:"",edit_favorite:"",delete_favorite:""},edit_favorite:"",delete_favorite:"",use_favorite:""},floatingBall:{promptBox:"",tagManager:"",loraManager:"Lora",aiWindow:"AI",restoreWindow:"",openNodeListWindow:"",tranToWeb:""},aiWindow:{windowTitle:"AI",newChat:"",chatName:"",thinking:"...",send:"",inputMessage:"..."},translaterService:{niutrans:"",mymemory:"MyMemory",alibaba:"",baidu:"",modernmt:"ModernMT",volcengine:"",iciba:"",iflytek:"",google:"",bing:"",lingvanex:"Lingvanex",yandex:"Yandex",itranslate:"iTranslate",systran:"SYSTRAN",argos:"Argos",apertium:"Apertium",reverso:"Reverso",deepl:"DeepL",cloudtranslation:"",qqtransmart:"",translatecom:"Translate.com",sogou:"",tilde:"Tilde",caiyun:"",qqfanyi:"",translateme:"TranslateMe",papago:"Papago",mirai:"",youdao:"",iflyrec:"",hujiang:"",yeekit:"",languagewire:"LanguageWire",elia:"Elia",judic:"Judic",mglip:"",utibet:""},translaterLanguage:{english:"",chinese:"",arabic:"",russian:"",french:"",german:"",spanish:"",portuguese:"",italian:"",japanese:"",korean:"",greek:"",dutch:"",hindi:"",turkish:"",malay:"",thai:"",vietnamese:"",indonesian:"",hebrew:"",polish:"",mongolian:"",czech:"",hungarian:"",estonian:"",bulgarian:"",danish:"",finnish:"",romanian:"",swedish:"",slovenian:"","persian/farsi":"/",bosnian:"",serbian:"",fijian:"",filipino:"",haitiancreole:"",catalan:"",croatian:"",latvian:"",lithuanian:"",urdu:"",ukrainian:"",welsh:"",tahiti:"",tongan:"",swahili:"",samoan:"",slovak:"",afrikaans:"",norwegian:"",bengali:"",malagasy:"",maltese:"","queretaro otomi":"","klingon/tlhingan hol":"",gujarati:"",tamil:"",telugu:"",punjabi:"",amharic:"",azerbaijani:"",bashkir:"",belarusian:"",cebuano:"",chuvash:"",esperanto:"",basque:"",irish:""},utils:{tranToWeb:"HTML",dropOrPasteImage:"",downloadHtml:"HTML",copyHtml:"HTML",copySuccess:"HTML",copyFailed:"HTML",clear:""}},en_US={promptBox:{placeholder:"Please enter text...",delete:"Delete",newline:"New Line",tab:"Tab",windowTitle:"WeiLin Prompt UI Window "+version,windowTitleGlobal:"WeiLin Global Prompt UI Window "+version,translate:"Translate",translatePlaceholder:"Please enter the text to be translated",weight:"Weight",weightPlaceholder:"Please enter the weight",addBracket:"Add Bracket",removeLayer:"Remove Bracket",oneClickTranslate:"One Click Translate Untranslated Phrases",hiddenHint:"Double-click to show",tagTips:"Double-click the left mouse button to mask the Tag<br>click the Tag to edit<br>and drag the Tag to drag",settings:{title:"Settings",cancel:"Cancel",save:"Save",translator:"Translator",sourceLanguage:"Source Language",targetLanguage:"Target Language",chinese_simplified:"Chinese Simplified",english:"English",close:"Close",auto_detect:"Auto Detect",setting_floating_ball:"Setting Floating Ball",setting_prompt_box:"Setting Prompt Box",enablePromptCommaShow:"Show Prompt Comma",floatingBallCount:"Floating Ball Count",floatingBallCountPlaceholder:"Please enter the number of floating balls",floatingBallSize:"Floating Ball Size",floatingBallSizePlaceholder:"Please enter the size of the floating ball",enableFloatingBall:"Enable Floating Ball",enableCommaConversion:"Enable Comma Conversion",enablePeriodConversion:"Enable Period Conversion",enableBracketConversion:"Enable Bracket Conversion",enableAngleBracketConversion:"Enable Angle Bracket Conversion",enableUnderscoreToBracket:"Enable Underscore to Bracket",setting_openai_box:"OpenAI Settings",openai_api_key:"API Key",openai_api_key_placeholder:"Please enter API Key",openai_api_key_save:"Save",openaiSettings:"OpenAI Settings",openaiSettings_api_key:"API Key",openaiSettings_api_key_placeholder:"Please enter API Key",openaiSettings_api_key_save:"Save",openai_base_url:"Base URL",openai_base_url_placeholder:"Please enter Base URL",openai_model:"Model",openai_model_placeholder:"Please enter Model",not_set:"Not Set",edit:"Edit",delete:"Delete",selectedOpenaiConfig:"Selected OpenAI Config",addNewConfig:"Add New Config",setting_sponsor_me:"Sponsor Me",sponsorMe:"Sponsor Me",sponsorMeTip:"Sponsor Me, Support Me to Continue Development",sponsorMeLink:"Unique Sponsor Link https://afdian.com/a/weilin9999",setting_start_panel:"Start Panel",startPanel:"Start Panel",startPanelTip:"Click Start Panel, after successful startup, the panel page will be automatically opened",selectTranslater:"select translater",selectOptionNetworkTranslater:"Three party online translation",selectOptionPythonTranslater:"Translation Library Translation",apply:"Apply",selectOptionNetworkTranslaterTitle:"Three party network translation settings",selectOptionPythonTranslaterTitle:"Translation library settings",selectOptionNetworkTranslaterInfo:"The third-party tool used is (only for online translation)",selectOptionPythonTranslaterInfo:"The translation package used is translators",install:"Install",nowTranlaterPackageState:"now transtler package state:",tranlaterPackageStateTrue:"installed",tranlaterPackageStateFlase:"not installed",installed:"is installed ....",installTranslaterPackageInfo:"Currently installing translation library, please do not close the window! Wait for installation to complete",translaterSetting:"Translation Settings",chooseTranslaterSetting:"Choose a translation service:",translaterLangSourceSetting:"Translation language:",translaterLangTargeSetting:"Translation target language:",saveTranslaterSetting:"Save Settings",testTranslaterTitle:"Test translation",inputTestTranslater:"Enter translation content:",outPutTestTranslater:"Translation result:",testingTranslater:"Test translation",inputTestTranslaterPlaceholder:"Please enter the content to be translated",outPutTestTranslaterPlaceholder:"The translation result will be displayed here",errorPrompt:"Read the prompt node failed"}},controls:{language:"Language",settings:"Settings",switchTheme:"Switch Theme",darkMode:"Dark Mode",lightMode:"Light Mode",tagManager:"Tag Manager",loraStack:"Lora Stack",loraManager:"Lora Manager",history:"History",addLora:"Add Lora",removeLora:"Remove Lora",lookOnLora:"Look On Lora",aiChat:"AI Chat",github:"Github Home",shareCloudData:"Share Cloud Data"},theme:{toggle:"Switch Theme"},lora:{title:"Lora Information",rawTitle:"LoraRaw",file:"File",hash:"Hash",civitai:"Civitai",viewOnCivitai:"View on Civitai",fetchFromCivitai:"Fetch from Civitai",modelNotFound:"Model not found",modelNotFoundTip:"The model was not found on Civitai. It might be private or deleted",name:"Name",nameTip:"Display name of the model",type:"Type",baseModel:"Base Model",trainedWords:"Trained Words",trainedWordsTip:"Keywords used in model training, click to select for copying",selectedWords:"{count} words selected",strengthMin:"Min Strength",strengthMinTip:"Recommended minimum strength value",strengthMax:"Max Strength",strengthMaxTip:"Recommended maximum strength value",promptWords:"Prompt Words",promptWordsTip:"Recommended prompt words when using this model",loraWorks:"Lora Prompt Words",strWeight:"Text Strength Weight",hideLora:"Hidden Lora",showLora:"Show Lora",baseModel:"Base Model",skipClip:"Clip Skip",seeLoraRaw:"LoraRaw"},common:{confirmDelete:"Confirm Delete",delete:"Delete",cancel:"Cancel",confirm:"Confirm",edit:"Edit",save:"Save",refresh:"Refresh",copy:"Copy",copySuccess:"Copied successfully",copyFailed:"Copy failed",windowSize:"Adjust window size",showMore:"show more",showLess:"show less"},nodeListWindow:{windowTitle:"Node List",openPromptUI:"Open Prompt UI"},tagManager:{deletePrimaryCategoryConfirm:"Are you sure you want to delete category {name}?",deleteGroupConfirm:"Are you sure you want to delete group {name}?",deleteTagConfirm:"Are you sure you want to delete tag {name}?",windowTitle:"Tag Manager",categories:"Categories",groups:"Groups",selectCategory:"Please select a category",selectGroup:"Please select a group",addPrimaryCategory:"Add Category",addGroup:"Add Group",editPrimaryCategory:"Edit Category",editGroup:"Edit Group",editTag:"Edit Tag",categoryName:"Category Name",categoryNamePlaceholder:"Enter category name",categoryNameRequired:"Category name is required",groupName:"Group Name",groupNamePlaceholder:"Enter group name",groupNameRequired:"Group name is required",addTag:"Add Tag",text:"Tag Description",textPlaceholder:"Enter tag Description",description:"Tag",descriptionPlaceholder:"Enter tag",textRequired:"Tag and Tag description cannot be empty",backgroundColor:"Background Color",colorPickerTitle:"Select Color",opacity:"Opacity",searchPlaceholder:"Search tags...",noResults:"No results found",searchInCategory:"in category",searchInTag:"in tag",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",addSubCategory:"Add Sub-category",editSubCategory:"Edit Sub-category",subCategoryName:"Sub-category Name",subCategoryNamePlaceholder:"Enter sub-category name",subCategoryNameRequired:"Sub-category name is required",deleteConfirmTitle:"Confirm Delete",deleteConfirmMessage:"This action will permanently delete this {type}. Continue?",deleteSuccess:"Deleted successfully",deleteFailed:"Delete failed",saveSuccess:"Saved successfully",saveFailed:"Save failed",colorPickerAlpha:"Opacity",colorPickerHex:"Hex Color Value",colorPreview:"Color Preview",dragToSort:"Drag to Sort",searchTags:"Search Tags",noTagsFound:"No tags found",noGroupsFound:"No groups found",noCategoriesFound:"No categories found",refresh:"Refresh",refreshing:"Refreshing...",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",search:"Search",searching:"Searching...",searchResult:"Search Result",searchInPath:"Located in: {path}",category:"Category",group:"Group",tag:"Tag",resultType:{category:"Category",group:"Group",tag:"Tag"},hasDeleteAction:"Batch Delete",deleteSelected:"Delete Selected",confirmDeleteSelected:"Are you sure you want to delete the selected tags?",cancelDelete:"Cancel Delete",moveTag:"Move Tag",targetTag:"Target Tag",movePosition:"Move Position",moveBefore:"Move Before",moveAfter:"Move After",editTag:"Edit Tag",deleteTag:"Delete Tag",editGroupMode:"Edit Group Mode",exitEditMode:"Exit Edit Mode",autoAddSearchTag:"Auto Add Search Tag With Prompt"},loraManager:{windowTitle:"Lora Manager",modelWeight:"Model Weight",textEncoderWeight:"Text Encoder Weight",all:"All",refresh:"Refresh",cacheAll:"Cache all Lora information",searchPlaceholder:"Search Lora...",noResults:"No results found",prevPage:"prev page",nextPage:"next page",loadingMore:"Loadding more ...",noMoreData:"No more data"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",saveSuccess:"Save successful",saveFailed:"Save failed",deleteSuccess:"Delete successful",deleteFailed:"Delete failed",operationSuccess:"Operation successful",operationFailed:"Operation failed",networkError:"Network error",unknownError:"Unknown error",refreshSuccess:"Refresh successful",refreshFailed:"Refresh failed",loadingData:"Loading data...",dataLoaded:"Data loaded",editSuccess:"Edit successful",editFailed:"Edit failed",addSuccess:"Add successful",addFailed:"Add failed",addFavoriteSuccess:"Added to favorites",addFavoriteIsExist:"Added to favorites",error:"Error",moveSuccess:"Move successful",moveFailed:"Move failed",setLanguageSuccess:"Set language successful",setLanguageFailed:"Set language failed",startPanelSuccess:"Start panel successful",startPanelFailed:"Start panel failed",isLoading:"Loading...",loaddingPrc:"Execution progress {name}%",loaddingSuccess:"All loaded successfully",noFinishKuo:"The parentheses are incomplete. Please check the input",getTranslaterFail:"Get translator failed",applyTranslaterFail:"Apply translator failed",applyToTranslaterFail:"Switching to a translation library requires installing a translation library. Please install the translation library first and then apply the settings",applyTranslaterSuccess:"Apply translator successful",tranlaterPackageInstallFail:"Waiting for installation timeout, please check the background installation status. If the installation is successful, click install again to verify",tranlaterPackageInstallSuccess:"Successfully installed translation package",translaterTestFail:"Translation failed, please try using another translation service",installPackageSuccess:"Successfully installed translation package",installPackageFail:"Failed to install translation package, please check the background installation status",loadFailed:"load failed"},cloudWindow:{windowTitle:"Share Cloud Window",back:"Back",currentPath:"Current Path",tagDatabase:"Tag Database",danbooruDatabase:"Danbooru Database",open:"Open Folder",installed:"Installed",install:"Install",installing:"Installing..."},history:{title:"History",search_placeholder:"Search history...",windowTitle:"History",search:"Search",favorites:"Favorites",history:"History",refresh:"Refresh",refresh_history:"Refresh history",refresh_favorites:"Refresh favorites",add_to_favorites:"Add to favorites",delete_history:"Delete history",use_item:"Use",add_new:"Add new",bulk_delete:"Bulk delete",deleteHistoryConfirm:"Are you sure you want to delete history {name}?",deleteFavoriteConfirm:"Are you sure you want to delete favorite {name}?",confirmDeleteSelected:"Are you sure you want to delete selected information?",cancel_delete:"Cancel delete",sure_delete:"Sure delete",deleteSelected:"Delete selected",dialog:{add_tag:"Add favorite",edit_tag:"Edit favorite",name:"Name",name_placeholder:"Please enter name",tag:"Tag",tag_placeholder:"Please enter tag",background_color:"Background color",background_color_placeholder:"Please select background color",edit_favorite:"Edit favorite",delete_favorite:"Delete favorite"},edit_favorite:"Edit favorite",delete_favorite:"Delete favorite",use_favorite:"Use favorite"},floatingBall:{promptBox:"open Global Prompt Box",tagManager:"open Tag Manager",loraManager:"open Lora Manager",aiWindow:"open AI Chat",restoreWindow:"reset all windows",openNodeListWindow:"open Node List",tranToWeb:"Image to Web Utils"},aiWindow:{windowTitle:"AI Chat Window",newChat:"New Chat",chatName:"Chat",thinking:"Thinking...",send:"Send",inputMessage:"Enter your message..."},translaterService:{niutrans:"niutrans",mymemory:"mymemory",alibaba:"alibaba",baidu:"baidu",modernmt:"modernmt",volcengine:"volcengine",iciba:"iciba",iflytek:"iflytek",google:"google",bing:"bing",lingvanex:"lingvanex",yandex:"yandex",itranslate:"itranslate",systran:"systran",argos:"argos",apertium:"apertium",reverso:"reverso",deepl:"deepl",cloudtranslation:"cloudtranslation",qqtransmart:"qqtransmart",translatecom:"translatecom",sogou:"sogou",tilde:"tilde",caiyun:"caiyun",qqfanyi:"qqfanyi",translateme:"translateme",papago:"papago",mirai:"mirai",youdao:"youdao",iflyrec:"iflyrec",hujiang:"hujiang",yeekit:"yeekit",languagewire:"languagewire",elia:"elia",judic:"judic",mglip:"mglip",utibet:"utibet"},translaterLanguage:{english:"english",chinese:"chinese",arabic:"arabic",russian:"russian",french:"french",german:"german",spanish:"spanish",portuguese:"portuguese",italian:"italian",japanese:"japanese",korean:"korean",greek:"greek",dutch:"dutch",hindi:"hindi",turkish:"turkish",malay:"malay",thai:"thai",vietnamese:"vietnamese",indonesian:"indonesian",hebrew:"hebrew",polish:"polish",mongolian:"mongolian",czech:"czech",hungarian:"hungarian",estonian:"estonian",bulgarian:"bulgarian",danish:"danish",finnish:"finnish",romanian:"romanian",swedish:"swedish",slovenian:"slovenian","persian/farsi":"persian/farsi",bosnian:"bosnian",serbian:"serbian",fijian:"fijian",filipino:"filipino",haitiancreole:"haitiancreole",catalan:"catalan",croatian:"croatian",latvian:"latvian",lithuanian:"lithuanian",urdu:"urdu",ukrainian:"ukrainian",welsh:"welsh",tahiti:"tahiti",tongan:"tongan",swahili:"swahili",samoan:"samoan",slovak:"slovak",afrikaans:"afrikaans",norwegian:"norwegian",bengali:"bengali",malagasy:"malagasy",maltese:"maltese","queretaro otomi":"queretaro otomi","klingon/tlhingan hol":"klingon/tlhingan hol",gujarati:"gujarati",tamil:"tamil",telugu:"telugu",punjabi:"punjabi",amharic:"amharic",azerbaijani:"azerbaijani",bashkir:"bashkir",belarusian:"belarusian",cebuano:"cebuano",chuvash:"chuvash",esperanto:"esperanto",basque:"basque",irish:"irish"},utils:{tranToWeb:"Image to HTML",dropOrPasteImage:"Drop or paste image here",downloadHtml:"Download HTML",copyHtml:"Copy HTML",copySuccess:"HTML copied to clipboard",copyFailed:"Failed to copy HTML",clear:"Clear"}};/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let n=[],a=[];const s=markRaw({install(r){setActivePinia(s),s._a=r,r.provide(piniaSymbol,s),r.config.globalProperties.$pinia=s,a.forEach(o=>n.push(o)),a=[]},use(r){return this._a?n.push(r):a.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const noop$1=()=>{};function addSubscription(e,t,n,a=noop$1){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),a())};return!n&&getCurrentScope()&&onScopeDispose(s),s}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,a)=>e.set(a,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n],s=e[n];isPlainObject$1(s)&&isPlainObject$1(a)&&e.hasOwnProperty(n)&&!isRef(a)&&!isReactive(a)?e[n]=mergeReactiveObjects(s,a):e[n]=a}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,a){const{state:s,actions:r,getters:o}=t,i=n.state.value[e];let l;function c(){i||(n.state.value[e]=s?s():{});const u=toRefs(n.state.value[e]);return assign(u,r,Object.keys(o||{}).reduce((d,g)=>(d[g]=markRaw(computed(()=>{setActivePinia(n);const _=n._s.get(e);return o[g].call(_,_)})),d),{}))}return l=createSetupStore(e,c,t,n,a,!0),l}function createSetupStore(e,t,n={},a,s,r){let o;const i=assign({actions:{}},n),l={deep:!0};let c,u,d=[],g=[],_;const f=a.state.value[e];!r&&!f&&(a.state.value[e]={}),ref({});let y;function w(j){let P;c=u=!1,typeof j=="function"?(j(a.state.value[e]),P={type:MutationType.patchFunction,storeId:e,events:_}):(mergeReactiveObjects(a.state.value[e],j),P={type:MutationType.patchObject,payload:j,storeId:e,events:_});const X=y=Symbol();nextTick().then(()=>{y===X&&(c=!0)}),u=!0,triggerSubscriptions(d,P,a.state.value[e])}const b=r?function(){const{state:P}=n,X=P?P():{};this.$patch(q=>{assign(q,X)})}:noop$1;function $(){o.stop(),d=[],g=[],a._s.delete(e)}const E=(j,P="")=>{if(ACTION_MARKER in j)return j[ACTION_NAME]=P,j;const X=function(){setActivePinia(a);const q=Array.from(arguments),M=[],Z=[];function le(ie){M.push(ie)}function ve(ie){Z.push(ie)}triggerSubscriptions(g,{args:q,name:X[ACTION_NAME],store:S,after:le,onError:ve});let he;try{he=j.apply(this&&this.$id===e?this:S,q)}catch(ie){throw triggerSubscriptions(Z,ie),ie}return he instanceof Promise?he.then(ie=>(triggerSubscriptions(M,ie),ie)).catch(ie=>(triggerSubscriptions(Z,ie),Promise.reject(ie))):(triggerSubscriptions(M,he),he)};return X[ACTION_MARKER]=!0,X[ACTION_NAME]=P,X},T={_p:a,$id:e,$onAction:addSubscription.bind(null,g),$patch:w,$reset:b,$subscribe(j,P={}){const X=addSubscription(d,j,P.detached,()=>q()),q=o.run(()=>watch(()=>a.state.value[e],M=>{(P.flush==="sync"?u:c)&&j({storeId:e,type:MutationType.direct,events:_},M)},assign({},l,P)));return X},$dispose:$},S=reactive(T);a._s.set(e,S);const L=(a._a&&a._a.runWithContext||fallbackRunWithContext)(()=>a._e.run(()=>(o=effectScope()).run(()=>t({action:E}))));for(const j in L){const P=L[j];if(isRef(P)&&!isComputed(P)||isReactive(P))r||(f&&shouldHydrate(P)&&(isRef(P)?P.value=f[j]:mergeReactiveObjects(P,f[j])),a.state.value[e][j]=P);else if(typeof P=="function"){const X=E(P,j);L[j]=X,i.actions[j]=P}}return assign(S,L),assign(toRaw(S),L),Object.defineProperty(S,"$state",{get:()=>a.state.value[e],set:j=>{w(P=>{assign(P,j)})}}),a._p.forEach(j=>{assign(S,o.run(()=>j({store:S,app:a._a,pinia:a,options:i})))}),f&&r&&n.hydrate&&n.hydrate(S.$state,f),c=!0,u=!0,S}/*! #__NO_SIDE_EFFECTS__ */function defineStore(e,t,n){let a;const s=typeof t=="function";a=s?n:t;function r(o,i){const l=hasInjectionContext();return o=o||(l?inject(piniaSymbol,null):null),o&&setActivePinia(o),o=activePinia,o._s.has(e)||(s?createSetupStore(e,t,a,o):createOptionsStore(e,a,o)),o._s.get(e)}return r.$id=e,r}const useTagStore=defineStore("tag",()=>{const e=ref([]),t=ref({user_lang:"zh_CN"}),n=ref(0);return{categories:e,setCategories:o=>{e.value=o},userSetting:t,setUserSetting:o=>{t.value=o},isFirstLoading:n,setisFirstLoading:o=>{n.value=o}}});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const n=toString.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),isArray(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(a=0;a<o;a++)i=r[a],t.call(null,e[i],i,e)}}function findKey(e,t){t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(a,s)=>{const r=e&&findKey(t,s)||s;isPlainObject(t[r])&&isPlainObject(a)?t[r]=merge(t[r],a):isPlainObject(a)?t[r]=merge({},a):isArray(a)?t[r]=a.slice():t[r]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&forEach(arguments[a],n);return t}const extend=(e,t,n,{allOwnKeys:a}={})=>(forEach(t,(s,r)=>{n&&isFunction(s)?e[r]=bind(s,n):e[r]=s},{allOwnKeys:a}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,a)=>{let s,r,o;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!a||a(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=a.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},matchAll=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};forEach(n,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(a[r]=o||s)}),Object.defineProperties(e,a)},freezeMethods=e=>{reduceDescriptors(e,(t,n)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(isFunction(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(e,t)=>{const n={},a=s=>{s.forEach(r=>{n[r]=!0})};return isArray(e)?a(e):a(String(e).split(t)),n},noop=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),n=(a,s)=>{if(isObject(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[s]=a;const r=isArray(a)?[]:{};return forEach(a,(o,i)=>{const l=n(o,s+1);!isUndefined(l)&&(r[i]=l)}),t[s]=void 0,r}}return a};return n(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((n,a)=>(_global.addEventListener("message",({source:s,data:r})=>{s===_global&&r===n&&a.length&&a.shift()()},!1),s=>{a.push(s),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}}),Object.defineProperties(AxiosError$1,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError$1.from=(e,t,n,a,s,r)=>{const o=Object.create(prototype$1);return utils$1.toFlatObject(e,o,function(l){return l!==Error.prototype},i=>i!=="isAxiosError"),AxiosError$1.call(o,e.message,t,n,a,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(s,r){return s=removeBrackets(s),!n&&r?"["+s+"]":s}).join(n?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,n){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!utils$1.isUndefined(w[y])});const a=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(s))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(utils$1.isDate(f))return f.toISOString();if(!l&&utils$1.isBlob(f))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(f)||utils$1.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,y,w){let b=f;if(f&&!w&&typeof f=="object"){if(utils$1.endsWith(y,"{}"))y=a?y:y.slice(0,-2),f=JSON.stringify(f);else if(utils$1.isArray(f)&&isFlatArray(f)||(utils$1.isFileList(f)||utils$1.endsWith(y,"[]"))&&(b=utils$1.toArray(f)))return y=removeBrackets(y),b.forEach(function(E,T){!(utils$1.isUndefined(E)||E===null)&&t.append(o===!0?renderKey([y],T,r):o===null?y:y+"[]",c(E))}),!1}return isVisitable(f)?!0:(t.append(renderKey(w,y,r),c(f)),!1)}const d=[],g=Object.assign(predicates,{defaultVisitor:u,convertValue:c,isVisitable});function _(f,y){if(!utils$1.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(f),utils$1.forEach(f,function(b,$){(!(utils$1.isUndefined(b)||b===null)&&s.call(t,b,utils$1.isString($)?$.trim():$,y,g))===!0&&_(b,y?y.concat($):[$])}),d.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return _(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,n){this._pairs.push([t,n])},prototype.toString=function(t){const n=t?function(a){return t.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const a=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(t,n):r=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(a),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(a){a!==null&&t(a)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,a,s,r){return platform.isNode&&utils$1.isBuffer(n)?(this.append(a,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},n=Object.keys(e);let a;const s=n.length;let r;for(a=0;a<s;a++)r=n[a],t[r]=e[r];return t}function formDataToJSON(e){function t(n,a,s,r){let o=n[r++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),l=r>=n.length;return o=!o&&utils$1.isArray(s)?s.length:o,l?(utils$1.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!i):((!s[o]||!utils$1.isObject(s[o]))&&(s[o]=[]),t(n,a,s[o],r)&&utils$1.isArray(s[o])&&(s[o]=arrayToObject(s[o])),!i)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const n={};return utils$1.forEachEntry(e,(a,s)=>{t(parsePropPath(a),s,n,0)}),n}return null}function stringifySafely(e,t,n){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,r=utils$1.isObject(t);if(r&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return s?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t)||utils$1.isReadableStream(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((i=utils$1.isFileList(t))||a.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return toFormData$1(i?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const n=this.transitional||defaults.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(utils$1.isResponse(t)||utils$1.isReadableStream(t))return t;if(t&&utils$1.isString(t)&&(a&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?AxiosError$1.from(i,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!n||t[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,a,s){if(utils$1.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!utils$1.isString(t)){if(utils$1.isString(a))return t.indexOf(a)!==-1;if(utils$1.isRegExp(a))return a.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function buildAccessors(e,t){const n=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,r,o){return this[a].call(this,t,s,r,o)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function r(i,l,c){const u=normalizeHeader(l);if(!u)throw new Error("header name must be a non-empty string");const d=utils$1.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=normalizeValue(i))}const o=(i,l)=>utils$1.forEach(i,(c,u)=>r(c,u,l));if(utils$1.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))o(parseHeaders(t),n);else if(utils$1.isHeaders(t))for(const[i,l]of t.entries())r(l,i,a);else t!=null&&r(n,t,a);return this}get(t,n){if(t=normalizeHeader(t),t){const a=utils$1.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return parseTokens(s);if(utils$1.isFunction(n))return n.call(this,s,a);if(utils$1.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t),t){const a=utils$1.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||matchHeaderValue(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function r(o){if(o=normalizeHeader(o),o){const i=utils$1.findKey(a,o);i&&(!n||matchHeaderValue(a,a[i],i,n))&&(delete a[i],s=!0)}}return utils$1.isArray(t)?t.forEach(r):r(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const r=n[a];(!t||matchHeaderValue(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const n=this,a={};return utils$1.forEach(this,(s,r)=>{const o=utils$1.findKey(a,r);if(o){n[o]=normalizeValue(s),delete n[r];return}const i=t?formatHeader(r):String(r).trim();i!==r&&delete n[r],n[i]=normalizeValue(s),a[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return utils$1.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&utils$1.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function r(o){const i=normalizeHeader(o);a[i]||(buildAccessors(s,o),a[i]=!0)}return utils$1.isArray(t)?t.forEach(r):r(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}}),utils$1.freezeMethods(AxiosHeaders$1);function transformData(e,t){const n=this||defaults,a=t||n,s=AxiosHeaders$1.from(a.headers);let r=a.data;return utils$1.forEach(e,function(i){r=i.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,n){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=a[r];o||(o=c),n[s]=l,a[s]=c;let d=r,g=0;for(;d!==s;)g+=n[d++],d=d%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),c-o<t)return;const _=u&&c-u;return _?Math.round(g*1e3/_):void 0}}function throttle(e,t){let n=0,a=1e3/t,s,r;const o=(c,u=Date.now())=>{n=u,s=null,r&&(clearTimeout(r),r=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=a?o(c,u):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},a-d)))},()=>s&&o(s)]}const progressEventReducer=(e,t,n=3)=>{let a=0;const s=speedometer(50,250);return throttle(r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,l=o-a,c=s(l),u=o<=i;a=o;const d={loaded:o,total:i,progress:i?o/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&u?(i-o)/c:void 0,event:r,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},n)},progressEventDecorator=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,platform.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,n,a,s,r){const o=[e+"="+encodeURIComponent(t)];utils$1.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),utils$1.isString(a)&&o.push("path="+a),utils$1.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,n){let a=!isAbsoluteURL(t);return e&&a||n==!1?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const n={};function a(c,u,d,g){return utils$1.isPlainObject(c)&&utils$1.isPlainObject(u)?utils$1.merge.call({caseless:g},c,u):utils$1.isPlainObject(u)?utils$1.merge({},u):utils$1.isArray(u)?u.slice():u}function s(c,u,d,g){if(utils$1.isUndefined(u)){if(!utils$1.isUndefined(c))return a(void 0,c,d,g)}else return a(c,u,d,g)}function r(c,u){if(!utils$1.isUndefined(u))return a(void 0,u)}function o(c,u){if(utils$1.isUndefined(u)){if(!utils$1.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function i(c,u,d){if(d in t)return a(c,u);if(d in e)return a(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(c,u,d)=>s(headersToObject(c),headersToObject(u),d,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||s,g=d(e[u],t[u],u);utils$1.isUndefined(g)&&d!==i||(n[u]=g)}),n}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:i}=t;t.headers=o=AxiosHeaders$1.from(o),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let l;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(platform.hasStandardBrowserEnv&&(a&&utils$1.isFunction(a)&&(a=a(t)),a||a!==!1&&isURLSameOrigin(t.url))){const c=s&&r&&cookies.read(r);c&&o.set(s,c)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(n,a){const s=resolveConfig(e);let r=s.data;const o=AxiosHeaders$1.from(s.headers).normalize();let{responseType:i,onUploadProgress:l,onDownloadProgress:c}=s,u,d,g,_,f;function y(){_&&_(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function b(){if(!w)return;const E=AxiosHeaders$1.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!i||i==="text"||i==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:e,request:w};settle(function(L){n(L),y()},function(L){a(L),y()},S),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(a(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,w)),w=null)},w.onerror=function(){a(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),a(new AxiosError$1(T,S.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,w)),w=null},r===void 0&&o.setContentType(null),"setRequestHeader"in w&&utils$1.forEach(o.toJSON(),function(T,S){w.setRequestHeader(S,T)}),utils$1.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),i&&i!=="json"&&(w.responseType=s.responseType),c&&([g,f]=progressEventReducer(c,!0),w.addEventListener("progress",g)),l&&w.upload&&([d,_]=progressEventReducer(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(u=E=>{w&&(a(!E||E.type?new CanceledError$1(null,e,w):E),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const $=parseProtocol(s.url);if($&&platform.protocols.indexOf($)===-1){a(new AxiosError$1("Unsupported protocol "+$+":",AxiosError$1.ERR_BAD_REQUEST,e));return}w.send(r||null)})},composeSignals=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const r=function(c){if(!s){s=!0,i();const u=c instanceof Error?c:this.reason;a.abort(u instanceof AxiosError$1?u:new CanceledError$1(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,r(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),e=null)};e.forEach(c=>c.addEventListener("abort",r));const{signal:l}=a;return l.unsubscribe=()=>utils$1.asap(i),l}},streamChunk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},readBytes=async function*(e,t){for await(const n of readStream(e))yield*streamChunk(n,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},trackStream=(e,t,n,a)=>{const s=readBytes(e,t);let r=0,o,i=l=>{o||(o=!0,a&&a(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){i(),l.close();return}let d=u.byteLength;if(n){let g=r+=d;n(g)}l.enqueue(new Uint8Array(u))}catch(c){throw i(c),c}},cancel(l){return i(l),s.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$1.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new AxiosError$1(`Response type '${t}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,a)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,t)=>{const n=utils$1.toFiniteNumber(e.getContentLength());return n??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:r,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:g}=resolveConfig(e);c=c?(c+"").toLowerCase():"text";let _=composeSignals([s,r&&r.toAbortSignal()],o),f;const y=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let w;try{if(l&&supportsRequestStream&&n!=="get"&&n!=="head"&&(w=await resolveBodyLength(u,a))!==0){let S=new Request(t,{method:"POST",body:a,duplex:"half"}),A;if(utils$1.isFormData(a)&&(A=S.headers.get("content-type"))&&u.setContentType(A),S.body){const[L,j]=progressEventDecorator(w,progressEventReducer(asyncDecorator(l)));a=trackStream(S.body,DEFAULT_CHUNK_SIZE,L,j)}}utils$1.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;f=new Request(t,{...g,signal:_,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:b?d:void 0});let $=await fetch(f);const E=supportsResponseStream&&(c==="stream"||c==="response");if(supportsResponseStream&&(i||E&&y)){const S={};["status","statusText","headers"].forEach(P=>{S[P]=$[P]});const A=utils$1.toFiniteNumber($.headers.get("content-length")),[L,j]=i&&progressEventDecorator(A,progressEventReducer(asyncDecorator(i),!0))||[];$=new Response(trackStream($.body,DEFAULT_CHUNK_SIZE,L,()=>{j&&j(),y&&y()}),S)}c=c||"text";let T=await resolvers[utils$1.findKey(resolvers,c)||"text"]($,e);return!E&&y&&y(),await new Promise((S,A)=>{settle(S,A,{data:T,headers:AxiosHeaders$1.from($.headers),status:$.status,statusText:$.statusText,config:e,request:f})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,f),{cause:b.cause||b}):AxiosError$1.from(b,b&&b.code,e,f)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let r=0;r<t;r++){n=e[r];let o;if(a=n,!isResolvedHandle(n)&&(a=knownAdapters[(o=String(n)).toLowerCase()],a===void 0))throw new AxiosError$1(`Unknown adapter '${o}'`);if(a)break;s[o||"#"+r]=a}if(!a){const r=Object.entries(s).map(([i,l])=>`adapter ${i} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(renderReason).join(`
`):" "+renderReason(r[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,e.transformResponse,a),a.headers=AxiosHeaders$1.from(a.headers),a},function(a){return isCancel$1(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,e.transformResponse,a.response),a.response.headers=AxiosHeaders$1.from(a.response.headers))),Promise.reject(a)})}const VERSION$1="1.8.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,n,a){function s(r,o){return"[Axios v"+VERSION$1+"] Transitional option '"+r+"'"+o+(a?". "+a:"")}return(r,o,i)=>{if(t===!1)throw new AxiosError$1(s(o," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[o]&&(deprecatedWarnings[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,i):!0}},validators$1.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function assertOptions(e,t,n){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const r=a[s],o=t[r];if(o){const i=e[r],l=i===void 0||o(i,r,e);if(l!==!0)throw new AxiosError$1("option "+r+" must be "+l,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+r,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?r&&!String(a.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+r):a.stack=r}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mergeConfig$1(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:r}=n;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$1.isFunction(s)?n.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&utils$1.merge(r.common,r[n.method]);r&&utils$1.forEach(["delete","get","head","post","put","patch","common"],f=>{delete r[f]}),n.headers=AxiosHeaders$1.concat(o,r);const i=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,g;if(!l){const f=[dispatchRequest.bind(this),void 0];for(f.unshift.apply(f,i),f.push.apply(f,c),g=f.length,u=Promise.resolve(n);d<g;)u=u.then(f[d++],f[d++]);return u}g=i.length;let _=n;for(d=0;d<g;){const f=i[d++],y=i[d++];try{_=f(_)}catch(w){y.call(this,w);break}}try{u=dispatchRequest.call(this,_)}catch(f){return Promise.reject(f)}for(d=0,g=c.length;d<g;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=mergeConfig$1(this.defaults,t);const n=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(n,t.params,t.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,a){return this.request(mergeConfig$1(a||{},{method:t,url:n,data:(a||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(t){function n(a){return function(r,o,i){return this.request(mergeConfig$1(i||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Axios$1.prototype[t]=n(),Axios$1.prototype[t+"Form"]=n(!0)});let CancelToken$1=class at{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const a=this;this.promise.then(s=>{if(!a._listeners)return;let r=a._listeners.length;for(;r-- >0;)a._listeners[r](s);a._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(i=>{a.subscribe(i),r=i}).then(s);return o.cancel=function(){a.unsubscribe(r)},o},t(function(r,o,i){a.reason||(a.reason=new CanceledError$1(r,o,i),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new at(function(s){t=s}),cancel:t}}};function spread$1(e){return function(n){return e.apply(null,n)}}function isAxiosError$1(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});function createInstance(e){const t=new Axios$1(e),n=bind(Axios$1.prototype.request,t);return utils$1.extend(n,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return createInstance(mergeConfig$1(e,s))},n}const axios=createInstance(defaults);axios.Axios=Axios$1,axios.CanceledError=CanceledError$1,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel$1,axios.VERSION=VERSION$1,axios.toFormData=toFormData$1,axios.AxiosError=AxiosError$1,axios.Cancel=axios.CanceledError,axios.all=function(t){return Promise.all(t)},axios.spread=spread$1,axios.isAxiosError=isAxiosError$1,axios.mergeConfig=mergeConfig$1,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,baseUrl="/weilin/prompt_ui/api",request=axios.create({baseURL:baseUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});request.interceptors.request.use(e=>e,e=>Promise.reject(e)),request.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const languageApi={getUserSetting:async()=>await request({url:"/user_init/get_settings",method:"get"}),setUserLanguage:async e=>await request({url:"/user_init/set_user_lang",method:"post",data:{user_lang:e}}),startPanel:async()=>await request({url:"/panel/start",method:"post"})},getTagStore=()=>useTagStore(),i18n=createI18n({legacy:!1,locale:"zh_CN",fallbackLocale:"zh_CN",messages:{zh_CN,en_US}}),initLocale=()=>{const e=getTagStore();languageApi.getUserSetting().then(t=>{var a;e.setUserSetting(t.data);const n=((a=e.userSetting)==null?void 0:a.user_lang)||"zh_CN";i18n.global.locale.value=n})},setLocale=e=>{i18n.global.locale.value=e,getTagStore().setUserSetting({user_lang:e})},initI18n=()=>{initLocale()},_sfc_main$i={name:"popmessage",props:{type:{type:String,default:"success"},str:{type:String,default:""}},setup(){const e={warn:{color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=ref(!1);return onMounted(()=>{t.value=!0}),{style:e,visible:t}}},_hoisted_1$h={class:"text"};function _sfc_render(e,t,n,a,s,r){return withDirectives((openBlock(),createElementBlock("div",{class:"pop-message",style:normalizeStyle(a.style[n.type])},[createBaseVNode("i",{class:normalizeClass(["icon",[a.style[n.type].icon]])},null,2),createBaseVNode("span",_hoisted_1$h,toDisplayString$1(n.str),1)],4)),[[vShow,a.visible]])}const tip=_export_sfc(_sfc_main$i,[["render",_sfc_render],["__scopeId","data-v-7ee59bf2"]]),div$1=document.createElement("div");document.body.appendChild(div$1);let timer=null;const message$1=({str:e,type:t,name:n=""})=>{let a=i18n.global.t(e);n.length>0&&(a=i18n.global.t(e,{name:n}));const s=createVNode(tip,{str:a,type:t});render$1(s,div$1),timer&&clearTimeout(timer),timer=setTimeout(()=>{render$1(null,div$1)},2e3)},_hoisted_1$g={class:"language-selector-content"},_hoisted_2$d=["onClick"],_hoisted_3$d={class:"lang-name"},_sfc_main$h={__name:"LanguageSwitcher",emits:["close"],setup(e,{expose:t,emit:n}){const{t:a}=useI18n(),s=ref(null),r=useTagStore(),o=computed(()=>r.userSetting.user_lang),i=[{code:"zh_CN",name:""},{code:"en_US",name:"English"}],l=n,c=g=>{u(g),l("close",{})},u=g=>{languageApi.setUserLanguage(g).then(_=>{setLocale(g),window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*"),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.setLanguageSuccess"})}).catch(_=>{message$1({type:"warn",str:"message.setLanguageFailed"})})};return t({setPosition:g=>{if(!s.value)return;const _=s.value;_.style.position="fixed",_.style.top=`${g.bottom}px`}}),(g,_)=>(openBlock(),createElementBlock("div",{class:"language-selector",ref_key:"selectorRef",ref:s},[createBaseVNode("div",_hoisted_1$g,[(openBlock(),createElementBlock(Fragment,null,renderList(i,(f,y)=>createBaseVNode("div",{style:normalizeStyle({"margin-top":y===0?"0":"2px"}),key:f.code,class:normalizeClass(["language-option",{active:o.value===f.code}]),onClick:w=>c(f.code)},[createBaseVNode("span",_hoisted_3$d,toDisplayString$1(f.name),1)],14,_hoisted_2$d)),64))])],512))}},LanguageSwitcher=_export_sfc(_sfc_main$h,[["__scopeId","data-v-b77d604b"]]),prefix$5="weilin_prompt_ui_",_sfc_main$g={__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,s=()=>{a("update:modelValue",!1)},r=()=>{n.closeOnClickOverlay&&s()};return(o,i)=>(openBlock(),createBlock(Teleport,{to:"#weilin_comfyui_tools_prompt_ui_div"},[createVNode(Transition,{name:`${prefix$5}dialog-fade`},{default:withCtx(()=>[e.modelValue?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$5}dialog-overlay`),onClick:r},[createVNode(Transition,{name:`${prefix$5}dialog-slide`},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(`${prefix$5}dialog`),onClick:i[0]||(i[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:normalizeClass(`${prefix$5}dialog-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$5}dialog-title`)},toDisplayString$1(e.title),3),createBaseVNode("button",{class:normalizeClass(`${prefix$5}dialog-close`),onClick:s},i[1]||(i[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)],2),createBaseVNode("div",{class:normalizeClass(`${prefix$5}dialog-content`)},[renderSlot(o.$slots,"default")],2),o.$slots.footer?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$5}dialog-footer`)},[renderSlot(o.$slots,"footer")],2)):createCommentVNode("",!0)],2)]),_:3},8,["name"])],2)):createCommentVNode("",!0)]),_:3},8,["name"])]))}},Dialog=_export_sfc(_sfc_main$g,[["__scopeId","data-v-40273bc1"]]),translatorApi={getTranslateLocal:async e=>await request({url:"/prompt/local/translate",method:"post",data:{phrase:e}}),getTranslatePackagesState:async()=>await request({url:"/translate/get/packages/state",method:"post",data:{}}),getTranslateSetting:async()=>await request({url:"/translate/get/setting",method:"post",data:{}}),applyTranslateSetting:async e=>await request({url:"/translate/apply_setting",method:"post",data:{setting:e}}),installTranslatePackage:async()=>await request({url:"/translate/install/translaterpackage",method:"post",timeout:0,data:{}}),getTranslateBuktSetting:async()=>await request({url:"/translate/get/tran_setting",method:"post",data:{}}),saveTranslateSetting:async(e,t,n)=>await request({url:"/translate/save_tran/setting",method:"post",data:{service:e,source_lang:t,target_lang:n}}),translaterText:async e=>await request({url:"/translate/tran/text",method:"post",timeout:0,data:{text:e}}),translaterInputText:async e=>await request({url:"/translate/tran/input",method:"post",timeout:0,data:{text:e}})},openaiApi={updateOpenAiSetting:async e=>await request({url:"/prompt/openai/update_settings",method:"post",data:e}),addOpenAiSetting:async e=>await request({url:"/prompt/openai/add_setting",method:"post",data:e}),deleteOpenAiSetting:async e=>await request({url:"/prompt/openai/delete_setting",method:"post",data:e}),setOpenAiSelect:async e=>await request({url:"/prompt/openai/set_select",method:"post",data:e}),getOpenAiSetting:async()=>await request({url:"/prompt/openai/get_settings",method:"get"})},translaterSerives=["alibaba","baidu","bing","deepl","youdao","qqtransmart","sogou","niutrans","mymemory","modernmt","volcengine","iciba","iflytek","google","lingvanex","yandex","itranslate","systran","argos","apertium","reverso","cloudtranslation","translatecom","tilde","caiyun","qqfanyi","translateme","papago","mirai","iflyrec","hujiang","yeekit","languagewire","elia","judic","mglip","utibet"],language=[{language:"chinese",translator:"zh"},{language:"english",translator:"en"},{language:"arabic",translator:"ar"},{language:"russian",translator:"ru"},{language:"french",translator:"fr"},{language:"german",translator:"de"},{language:"spanish",translator:"es"},{language:"portuguese",translator:"pt"},{language:"italian",translator:"it"},{language:"japanese",translator:"ja"},{language:"korean",translator:"ko"},{language:"greek",translator:"el"},{language:"dutch",translator:"nl"},{language:"hindi",translator:"hi"},{language:"turkish",translator:"tr"},{language:"malay",translator:"ms"},{language:"thai",translator:"th"},{language:"vietnamese",translator:"vi"},{language:"indonesian",translator:"id"},{language:"hebrew",translator:"he"},{language:"polish",translator:"pl"},{language:"mongolian",translator:"mn"},{language:"czech",translator:"cs"},{language:"hungarian",translator:"hu"},{language:"estonian",translator:"et"},{language:"bulgarian",translator:"bg"},{language:"danish",translator:"da"},{language:"finnish",translator:"fi"},{language:"romanian",translator:"ro"},{language:"swedish",translator:"sv"},{language:"slovenian",translator:"sl"},{language:"persian/farsi",translator:"fa"},{language:"bosnian",translator:"bs"},{language:"serbian",translator:"sr"},{language:"fijian",translator:"fj"},{language:"filipino",translator:"tl"},{language:"haitiancreole",translator:"ht"},{language:"catalan",translator:"ca"},{language:"croatian",translator:"hr"},{language:"latvian",translator:"lv"},{language:"lithuanian",translator:"lt"},{language:"urdu",translator:"ur"},{language:"ukrainian",translator:"uk"},{language:"welsh",translator:"cy"},{language:"tahiti",translator:"ty"},{language:"tongan",translator:"to"},{language:"swahili",translator:"sw"},{language:"samoan",translator:"sm"},{language:"slovak",translator:"sk"},{language:"afrikaans",translator:"af"},{language:"norwegian",translator:"no"},{language:"bengali",translator:"bn"},{language:"malagasy",translator:"mg"},{language:"maltese",translator:"mt"},{language:"queretaro otomi",translator:"otq"},{language:"klingon/tlhingan hol",translator:"tlh"},{language:"gujarati",translator:"gu"},{language:"tamil",translator:"ta"},{language:"telugu",translator:"te"},{language:"punjabi",translator:"pa"},{language:"amharic",translator:"am"},{language:"azerbaijani",translator:"az"},{language:"bashkir",translator:"ba"},{language:"belarusian",translator:"be"},{language:"cebuano",translator:"ceb"},{language:"chuvash",translator:"cv"},{language:"esperanto",translator:"eo"},{language:"basque",translator:"eu"},{language:"irish",translator:"ga"}],_hoisted_1$f={class:"settings-content"},_hoisted_2$c={class:"settings-sidebar"},_hoisted_3$c={class:"settings-main"},_hoisted_4$c={key:0},_hoisted_5$a={class:"setting-select"},_hoisted_6$a={value:"network"},_hoisted_7$a={value:"translater"},_hoisted_8$a={class:"translator-settings"},_hoisted_9$a={key:0,class:"group-box"},_hoisted_10$9={class:"group-title"},_hoisted_11$9={class:"note-top"},_hoisted_12$9={class:"setting-item"},_hoisted_13$7={value:"auto"},_hoisted_14$7={value:"chinese_simplified"},_hoisted_15$7={value:"english"},_hoisted_16$7={class:"setting-item"},_hoisted_17$7={value:"chinese_simplified"},_hoisted_18$6={value:"english"},_hoisted_19$4={key:1,class:"group-box"},_hoisted_20$4={class:"group-title"},_hoisted_21$4={class:"note-top"},_hoisted_22$4={class:"translater-innstall-status"},_hoisted_23$4={class:"translater-install-label"},_hoisted_24$4={key:0,class:"translater-install-label"},_hoisted_25$4={key:1,class:"translater-install-control"},_hoisted_26$4=["disabled"],_hoisted_27$4={key:0,class:"translater-setting-box"},_hoisted_28$4={class:"setting-small-titile"},_hoisted_29$4={class:"setting-item"},_hoisted_30$4=["index","value"],_hoisted_31$4={class:"language-selectors"},_hoisted_32$4={class:"setting-item"},_hoisted_33$4=["index","value"],_hoisted_34$4={class:"setting-item"},_hoisted_35$4=["index","value"],_hoisted_36$4={key:1,class:"tranlater-text-box"},_hoisted_37$4={class:"setting-small-titile"},_hoisted_38$4={class:"setting-item"},_hoisted_39$4=["placeholder"],_hoisted_40$4={class:"setting-item"},_hoisted_41$4=["placeholder"],_hoisted_42$4={key:1},_hoisted_43$4={class:"floating-ball-settings"},_hoisted_44$4={class:"setting-item"},_hoisted_45$4={class:"setting-item"},_hoisted_46$4=["placeholder"],_hoisted_47$3={class:"setting-item"},_hoisted_48$3=["placeholder"],_hoisted_49$3={key:2},_hoisted_50$3={class:"floating-ball-settings"},_hoisted_51$3={class:"setting-item"},_hoisted_52$3={class:"setting-item"},_hoisted_53$3={class:"setting-item"},_hoisted_54$3={class:"setting-item"},_hoisted_55$3={class:"setting-item"},_hoisted_56$3={key:3},_hoisted_57$3={class:"openai-settings"},_hoisted_58$3={class:"setting-item"},_hoisted_59$3=["value"],_hoisted_60$3={class:"config-list"},_hoisted_61$2={class:"config-header"},_hoisted_62$2={class:"config-actions"},_hoisted_63$2=["onClick"],_hoisted_64$2=["onClick"],_hoisted_65$2={key:0,class:"config-form"},_hoisted_66$2={class:"form-group"},_hoisted_67$2=["placeholder"],_hoisted_68$2={class:"form-group"},_hoisted_69$2=["placeholder"],_hoisted_70$2={class:"form-group"},_hoisted_71$2=["placeholder"],_hoisted_72$2={class:"form-actions"},_hoisted_73$2=["onClick"],_hoisted_74$2={key:1,class:"config-details"},_hoisted_75$2={key:0,class:"config-form"},_hoisted_76$2={class:"form-group"},_hoisted_77$2=["placeholder"],_hoisted_78$2={class:"form-group"},_hoisted_79$2=["placeholder"],_hoisted_80$2={class:"form-group"},_hoisted_81$1=["placeholder"],_hoisted_82$1={class:"form-actions"},_hoisted_83$1={key:4},_hoisted_84={class:"sponsor-me-settings"},_hoisted_85={key:5},_hoisted_86={class:"start-panel-settings"},_sfc_main$f={__name:"setting_dialog",setup(e,{expose:t}){const{t:n}=useI18n(),a=ref(!1),s=ref("translator"),r=ref("baidu"),o=ref(""),i=ref(localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english"),l=ref(localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified"),c=ref(localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1),u=ref(localStorage.getItem("weilin_prompt_ui_floatingBallSize")||5),d=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true"),g=ref(localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true"),_=ref(localStorage.getItem("weilin_prompt_ui_period_conversion")==="true"),f=ref(localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true"),y=ref(localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true"),w=ref(localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"),b=ref(""),$=ref(""),E=ref(""),T=ref(0),S=ref([]),A=ref(!1),L=ref({api_key:"",base_url:"https://api.openai.com/v1",model:""}),j=ref(!1),P=ref(-1),X=ref(""),q=ref(!1),M=ref(!1),Z=ref(""),le=ref(""),ve=U=>{s.value=U},he=()=>{localStorage.setItem("weilin_prompt_ui_sourceLanguage",i.value),localStorage.setItem("weilin_prompt_ui_targetLanguage",l.value),window.parent.postMessage({type:"weilin_prompt_ui_translate_setting"},"*"),message$1({type:"success",str:"message.saveSuccess"})},ie=()=>{if(c.value<1||u.value<5){message$1({type:"warn",str:"message.error"});return}localStorage.setItem("weilin_prompt_ui_floatingBallEnabled",d.value),localStorage.setItem("weilin_prompt_ui_floatingBallCount",c.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",u.value),window.parent.postMessage({type:"weilin_prompt_ui_floating_ball_setting"},"*"),message$1({type:"success",str:"message.saveSuccess"})},ge=()=>{localStorage.setItem("weilin_prompt_ui_comma_conversion",g.value),localStorage.setItem("weilin_prompt_ui_period_conversion",_.value),localStorage.setItem("weilin_prompt_ui_bracket_conversion",f.value),localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion",y.value),localStorage.setItem("weilin_prompt_ui_underscore_to_bracket",w.value),message$1({type:"success",str:"message.saveSuccess"})},_e=()=>{languageApi.getUserSetting().then(U=>{S.value=U.data.openai_settings,T.value=U.data.select_openai})},ye=()=>{L.value={api_key:"",base_url:"https://api.openai.com/v1",model:""},j.value=!1,A.value=!0},ke=U=>{openaiApi.deleteOpenAiSetting({index:U}).then(m=>{_e(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(m=>{message$1({type:"warn",str:"message.networkError"})})},R=U=>{P.value===U?P.value=-1:(L.value={...S.value[U]},P.value=U)},I=U=>{openaiApi.updateOpenAiSetting({index:U,...L.value}).then(m=>{_e(),P.value=-1,message$1({type:"success",str:"message.saveSuccess"})}).catch(m=>{message$1({type:"warn",str:"message.networkError"})})},C=()=>{openaiApi.addOpenAiSetting({...L.value}).then(U=>{_e(),A.value=!1,P.value=-1,message$1({type:"success",str:"message.saveSuccess"})}).catch(U=>{message$1({type:"warn",str:"message.networkError"})})},V=()=>{A.value=!1,P.value=-1},D=()=>{openaiApi.setOpenAiSelect({index:T.value}).then(U=>{message$1({type:"success",str:"message.saveSuccess"})}).catch(U=>{message$1({type:"warn",str:"message.networkError"})})},K=()=>{window.open("https://afdian.com/a/weilin9999","_blank")},ue=()=>{languageApi.startPanel().then(U=>{message$1({type:"success",str:"message.startPanelSuccess"})}).catch(U=>{message$1({type:"warn",str:"message.startPanelFailed"})})},re=()=>{translatorApi.getTranslatePackagesState().then(U=>{U.info=="ok"?M.value=!0:M.value=!1}).catch(U=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},ne=()=>{translatorApi.getTranslateSetting().then(U=>{localStorage.setItem("weilin_prompt_ui_translater_setting",U.data),X.value=U.data}).catch(U=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},pe=()=>{translatorApi.applyTranslateSetting(X.value).then(U=>{U.info=="ok"?(localStorage.setItem("weilin_prompt_ui_translater_setting",X.value),message$1({type:"success",str:"message.applyTranslaterSuccess"})):message$1({type:"warn",str:"message.applyToTranslaterFail"})}).catch(U=>{message$1({type:"warn",str:"message.applyTranslaterFail"})})},k=()=>{translatorApi.getTranslateBuktSetting().then(U=>{b.value=U.data.translate_service,$.value=U.data.translate_source_lang,E.value=U.data.translate_target_lang}).catch(U=>{message$1({type:"warn",str:"message.getTranslaterFail"})})},x=()=>{translatorApi.saveTranslateSetting(b.value,$.value,E.value).then(U=>{U.info=="ok"?message$1({type:"success",str:"message.saveSuccess"}):message$1({type:"warn",str:"message.saveFailed"})}).catch(U=>{message$1({type:"warn",str:"message.saveFailed"})})},W=()=>{translatorApi.translaterInputText(Z.value).then(U=>{le.value=U.text}).catch(U=>{message$1({type:"warn",str:"message.translaterTestFail"})})},Q=ref(null),Y=()=>{q.value=!0,translatorApi.installTranslatePackage().then(U=>{q.value=!1,M.value=!0,message$1({type:"success",str:"message.tranlaterPackageInstallSuccess"})}).catch(U=>{q.value=!1,message$1({type:"warn",str:"message.tranlaterPackageInstallFail"})})};return onMounted(()=>{k(),re(),ne(),_e()}),onUnmounted(()=>{Q.value&&clearInterval(Q.value)}),t({open:()=>{s.value="translator",r.value="baidu",o.value="",i.value=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",l.value=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified",c.value=localStorage.getItem("weilin_prompt_ui_floatingBallCount")||1,u.value=localStorage.getItem("weilin_prompt_ui_floatingBallSize")||5,d.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true",g.value=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",_.value=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",f.value=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",y.value=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",w.value=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",a.value=!0}}),(U,m)=>(openBlock(),createBlock(Dialog,{modelValue:a.value,"onUpdate:modelValue":m[29]||(m[29]=v=>a.value=v),title:unref(n)("promptBox.settings.title")},{footer:withCtx(()=>[createBaseVNode("button",{onClick:m[28]||(m[28]=v=>a.value=!1)},toDisplayString$1(unref(n)("promptBox.settings.close")),1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("ul",null,[createBaseVNode("li",{class:normalizeClass({active:s.value==="translator"}),onClick:m[0]||(m[0]=v=>ve("translator"))},toDisplayString$1(unref(n)("promptBox.settings.translator")),3),createBaseVNode("li",{class:normalizeClass({active:s.value==="setting_floating_ball"}),onClick:m[1]||(m[1]=v=>ve("setting_floating_ball"))},toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),3),createBaseVNode("li",{class:normalizeClass({active:s.value==="setting_prompt_box"}),onClick:m[2]||(m[2]=v=>ve("setting_prompt_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),3),createBaseVNode("li",{class:normalizeClass({active:s.value==="setting_openai_box"}),onClick:m[3]||(m[3]=v=>ve("setting_openai_box"))},toDisplayString$1(unref(n)("promptBox.settings.setting_openai_box")),3),createBaseVNode("li",{class:normalizeClass({active:s.value==="setting_sponsor_me"}),onClick:m[4]||(m[4]=v=>ve("setting_sponsor_me"))},toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),3)])]),createBaseVNode("div",_hoisted_3$c,[s.value==="translator"?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.translator")),1),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.selectTranslater")),1),withDirectives(createBaseVNode("select",{style:{"margin-left":"10px"},"onUpdate:modelValue":m[5]||(m[5]=v=>X.value=v)},[createBaseVNode("option",_hoisted_6$a,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslater")),1),createBaseVNode("option",_hoisted_7$a,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslater")),1)],512),[[vModelSelect,X.value]]),createBaseVNode("button",{class:"install-button",onClick:pe},toDisplayString$1(unref(n)("promptBox.settings.apply")),1)]),createBaseVNode("div",_hoisted_8$a,[X.value=="network"?(openBlock(),createElementBlock("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$9,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslaterTitle")),1),createBaseVNode("div",_hoisted_11$9,toDisplayString$1(unref(n)("promptBox.settings.selectOptionNetworkTranslaterInfo"))+"https://github.com/xnx3/translate",1),createBaseVNode("div",_hoisted_12$9,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.sourceLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[6]||(m[6]=v=>i.value=v)},[createBaseVNode("option",_hoisted_13$7,toDisplayString$1(unref(n)("promptBox.settings.auto_detect")),1),createBaseVNode("option",_hoisted_14$7,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_15$7,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,i.value]])]),createBaseVNode("div",_hoisted_16$7,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.targetLanguage")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[7]||(m[7]=v=>l.value=v),class:"common-select"},[createBaseVNode("option",_hoisted_17$7,toDisplayString$1(unref(n)("promptBox.settings.chinese_simplified")),1),createBaseVNode("option",_hoisted_18$6,toDisplayString$1(unref(n)("promptBox.settings.english")),1)],512),[[vModelSelect,l.value]])]),createBaseVNode("button",{class:"save-button",onClick:he},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])):createCommentVNode("",!0),X.value=="translater"?(openBlock(),createElementBlock("div",_hoisted_19$4,[createBaseVNode("div",_hoisted_20$4,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslaterTitle")),1),createBaseVNode("div",_hoisted_21$4,toDisplayString$1(unref(n)("promptBox.settings.selectOptionPythonTranslaterInfo"))+"https://github.com/UlionTse/translators",1),createBaseVNode("div",_hoisted_22$4,[createBaseVNode("div",_hoisted_23$4,toDisplayString$1(unref(n)("promptBox.settings.nowTranlaterPackageState"))+" "+toDisplayString$1(M.value?unref(n)("promptBox.settings.tranlaterPackageStateTrue"):unref(n)("promptBox.settings.tranlaterPackageStateFlase")),1),q.value?(openBlock(),createElementBlock("div",_hoisted_24$4,toDisplayString$1(unref(n)("promptBox.settings.installTranslaterPackageInfo")),1)):createCommentVNode("",!0),M.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$4,[createBaseVNode("button",{disabled:q.value,class:"install-button",onClick:Y},toDisplayString$1(q.value?unref(n)("promptBox.settings.installed"):unref(n)("promptBox.settings.install")),9,_hoisted_26$4)]))]),M.value?(openBlock(),createElementBlock("div",_hoisted_27$4,[createBaseVNode("div",_hoisted_28$4,toDisplayString$1(unref(n)("promptBox.settings.translaterSetting")),1),createBaseVNode("div",_hoisted_29$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.chooseTranslaterSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[8]||(m[8]=v=>b.value=v)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(translaterSerives),(v,B)=>(openBlock(),createElementBlock("option",{index:B,key:"tran-item_"+B,value:v},toDisplayString$1(unref(n)("translaterService."+v)),9,_hoisted_30$4))),128))],512),[[vModelSelect,b.value]])]),createBaseVNode("div",_hoisted_31$4,[createBaseVNode("div",_hoisted_32$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.translaterLangSourceSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[9]||(m[9]=v=>$.value=v)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(language),(v,B)=>(openBlock(),createElementBlock("option",{index:B,key:"lan-item_"+B,value:v.translator},toDisplayString$1(unref(n)("translaterLanguage."+v.language)),9,_hoisted_33$4))),128))],512),[[vModelSelect,$.value]])]),createBaseVNode("div",_hoisted_34$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.translaterLangTargeSetting")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[10]||(m[10]=v=>E.value=v)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(language),(v,B)=>(openBlock(),createElementBlock("option",{index:B,key:"lan-mu-item_"+B,value:v.translator},toDisplayString$1(unref(n)("translaterLanguage."+v.language)),9,_hoisted_35$4))),128))],512),[[vModelSelect,E.value]])])]),createBaseVNode("button",{class:"install-button",onClick:x},toDisplayString$1(unref(n)("promptBox.settings.saveTranslaterSetting")),1)])):createCommentVNode("",!0),M.value?(openBlock(),createElementBlock("div",_hoisted_36$4,[createBaseVNode("div",_hoisted_37$4,toDisplayString$1(unref(n)("promptBox.settings.testTranslaterTitle")),1),createBaseVNode("div",_hoisted_38$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.inputTestTranslater")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[11]||(m[11]=v=>Z.value=v),placeholder:unref(n)("promptBox.settings.inputTestTranslaterPlaceholder")},null,8,_hoisted_39$4),[[vModelText,Z.value]])]),createBaseVNode("div",_hoisted_40$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.outPutTestTranslater")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[12]||(m[12]=v=>le.value=v),readonly:"",placeholder:unref(n)("promptBox.settings.outPutTestTranslaterPlaceholder")},null,8,_hoisted_41$4),[[vModelText,le.value]])]),createBaseVNode("button",{class:"install-button",onClick:W},toDisplayString$1(unref(n)("promptBox.settings.testingTranslater")),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])):createCommentVNode("",!0),s.value==="setting_floating_ball"?(openBlock(),createElementBlock("div",_hoisted_42$4,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_floating_ball")),1),createBaseVNode("div",_hoisted_43$4,[createBaseVNode("div",_hoisted_44$4,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[13]||(m[13]=v=>d.value=v)},null,512),[[vModelCheckbox,d.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableFloatingBall")),1)])]),createBaseVNode("div",_hoisted_45$4,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallCount")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":m[14]||(m[14]=v=>c.value=v),min:"1",max:"100",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallCountPlaceholder")},null,8,_hoisted_46$4),[[vModelText,c.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_47$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.floatingBallSize")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":m[15]||(m[15]=v=>u.value=v),min:"5",max:"999999",style:{width:"100px"},placeholder:unref(n)("promptBox.settings.floatingBallSizePlaceholder")},null,8,_hoisted_48$3),[[vModelText,u.value,void 0,{number:!0}]])]),createBaseVNode("button",{class:"save-button",onClick:ie},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),s.value==="setting_prompt_box"?(openBlock(),createElementBlock("div",_hoisted_49$3,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_prompt_box")),1),createBaseVNode("div",_hoisted_50$3,[createBaseVNode("div",_hoisted_51$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[16]||(m[16]=v=>g.value=v)},null,512),[[vModelCheckbox,g.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableCommaConversion")),1)])]),createBaseVNode("div",_hoisted_52$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[17]||(m[17]=v=>_.value=v)},null,512),[[vModelCheckbox,_.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enablePeriodConversion")),1)])]),createBaseVNode("div",_hoisted_53$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[18]||(m[18]=v=>f.value=v)},null,512),[[vModelCheckbox,f.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableBracketConversion")),1)])]),createBaseVNode("div",_hoisted_54$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[19]||(m[19]=v=>y.value=v)},null,512),[[vModelCheckbox,y.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableAngleBracketConversion")),1)])]),createBaseVNode("div",_hoisted_55$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":m[20]||(m[20]=v=>w.value=v)},null,512),[[vModelCheckbox,w.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("promptBox.settings.enableUnderscoreToBracket")),1)])]),createBaseVNode("button",{class:"save-button",onClick:ge},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),s.value==="setting_openai_box"?(openBlock(),createElementBlock("div",_hoisted_56$3,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.openaiSettings")),1),createBaseVNode("div",_hoisted_57$3,[createBaseVNode("div",_hoisted_58$3,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.selectedOpenaiConfig")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":m[21]||(m[21]=v=>T.value=v),onChange:D},[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.value,(v,B)=>(openBlock(),createElementBlock("option",{key:B,value:B},toDisplayString$1(v.model)+" ("+toDisplayString$1(v.base_url)+") ",9,_hoisted_59$3))),128))],544),[[vModelSelect,T.value]])]),createBaseVNode("div",_hoisted_60$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.value,(v,B)=>(openBlock(),createElementBlock("div",{key:B,class:"config-item"},[createBaseVNode("div",_hoisted_61$2,[createBaseVNode("span",null,toDisplayString$1(v.model),1),createBaseVNode("div",_hoisted_62$2,[createBaseVNode("button",{onClick:F=>R(B)},toDisplayString$1(P.value===B?unref(n)("promptBox.settings.cancel"):unref(n)("promptBox.settings.edit")),9,_hoisted_63$2),createBaseVNode("button",{onClick:F=>ke(B)},toDisplayString$1(unref(n)("promptBox.settings.delete")),9,_hoisted_64$2)])]),P.value===B?(openBlock(),createElementBlock("div",_hoisted_65$2,[createBaseVNode("div",_hoisted_66$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[22]||(m[22]=F=>L.value.api_key=F),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_67$2),[[vModelText,L.value.api_key]])]),createBaseVNode("div",_hoisted_68$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[23]||(m[23]=F=>L.value.base_url=F),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_69$2),[[vModelText,L.value.base_url]])]),createBaseVNode("div",_hoisted_70$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[24]||(m[24]=F=>L.value.model=F),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_71$2),[[vModelText,L.value.model]])]),createBaseVNode("div",_hoisted_72$2,[createBaseVNode("button",{onClick:F=>I(B)},toDisplayString$1(unref(n)("promptBox.settings.save")),9,_hoisted_73$2)])])):(openBlock(),createElementBlock("div",_hoisted_74$2,[createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+": "+toDisplayString$1(v.api_key?"******":unref(n)("promptBox.settings.not_set")),1),createBaseVNode("div",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+": "+toDisplayString$1(v.base_url),1)]))]))),128))]),A.value?(openBlock(),createElementBlock("div",_hoisted_75$2,[createBaseVNode("div",_hoisted_76$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_api_key"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[25]||(m[25]=v=>L.value.api_key=v),placeholder:unref(n)("promptBox.settings.openai_api_key_placeholder")},null,8,_hoisted_77$2),[[vModelText,L.value.api_key]])]),createBaseVNode("div",_hoisted_78$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_base_url"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[26]||(m[26]=v=>L.value.base_url=v),placeholder:unref(n)("promptBox.settings.openai_base_url_placeholder")},null,8,_hoisted_79$2),[[vModelText,L.value.base_url]])]),createBaseVNode("div",_hoisted_80$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("promptBox.settings.openai_model"))+":",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m[27]||(m[27]=v=>L.value.model=v),placeholder:unref(n)("promptBox.settings.openai_model_placeholder")},null,8,_hoisted_81$1),[[vModelText,L.value.model]])]),createBaseVNode("div",_hoisted_82$1,[createBaseVNode("button",{onClick:V},toDisplayString$1(unref(n)("promptBox.settings.cancel")),1),createBaseVNode("button",{onClick:C},toDisplayString$1(unref(n)("promptBox.settings.save")),1)])])):createCommentVNode("",!0),A.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"add-button",onClick:ye},toDisplayString$1(unref(n)("promptBox.settings.addNewConfig")),1))])])):createCommentVNode("",!0),s.value==="setting_sponsor_me"?(openBlock(),createElementBlock("div",_hoisted_83$1,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_sponsor_me")),1),createBaseVNode("div",_hoisted_84,[createBaseVNode("h1",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeTip")),1),createBaseVNode("h2",null,toDisplayString$1(unref(n)("promptBox.settings.sponsorMeLink")),1),createBaseVNode("button",{class:"sponsor-me-button",onClick:K},toDisplayString$1(unref(n)("promptBox.settings.sponsorMe")),1)])])):createCommentVNode("",!0),s.value==="setting_start_panel"?(openBlock(),createElementBlock("div",_hoisted_85,[createBaseVNode("h3",null,toDisplayString$1(unref(n)("promptBox.settings.setting_start_panel")),1),createBaseVNode("div",_hoisted_86,[createBaseVNode("h4",null,toDisplayString$1(unref(n)("promptBox.settings.startPanelTip")),1),createBaseVNode("button",{class:"start-panel-button",onClick:ue},toDisplayString$1(unref(n)("promptBox.settings.startPanel")),1)])])):createCommentVNode("",!0)])])]),_:1},8,["modelValue","title"]))}},SettingDialog=_export_sfc(_sfc_main$f,[["__scopeId","data-v-30cb0f31"]]),_hoisted_1$e=["title"],_hoisted_2$b={class:"switch-icon"},_hoisted_3$b={key:0,class:"moon",viewBox:"0 0 24 24"},_hoisted_4$b={key:1,class:"sun",viewBox:"0 0 24 24"},STORAGE_PREFIX$5="weilin_tools_",_sfc_main$e={__name:"ThemeSwitch",setup(e){const{t}=useI18n(),n=`${STORAGE_PREFIX$5}theme`,a=ref(localStorage.getItem(n)==="dark"),s=()=>{a.value=!a.value;const r=document.getElementById("weilin_comfyui_tools_prompt_ui_div");r&&r.setAttribute("data-theme",a.value?"dark":"light"),localStorage.setItem(n,a.value?"dark":"light")};return(r,o)=>(openBlock(),createElementBlock("button",{class:"theme-switch",onClick:s,title:unref(t)("theme.toggle")},[createBaseVNode("div",_hoisted_2$b,[a.value?(openBlock(),createElementBlock("svg",_hoisted_3$b,o[0]||(o[0]=[createBaseVNode("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_4$b,o[1]||(o[1]=[createBaseVNode("circle",{cx:"12",cy:"12",r:"5"},null,-1),createBaseVNode("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"},null,-1)])))]),renderSlot(r.$slots,"default",{isDark:a.value},void 0,!0)],8,_hoisted_1$e))}},ThemeSwitch=_export_sfc(_sfc_main$e,[["__scopeId","data-v-e8b2125f"]]),STORAGE_PREFIX$4="weilin_tools_",tagsApi={getTagsList:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/get_group_tags",method:"get",params:{...e,lang:t}})},addPrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/add_new_f_group",method:"post",data:{...e,lang:t}})},editPrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_f_group",method:"post",data:{...e,lang:t}})},deletePrimaryCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_f_group",method:"post",data:{...e,lang:t}})},addSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/add_new_s_group",method:"post",data:{...e,lang:t}})},editSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_s_group",method:"post",data:{...e,lang:t}})},deleteSubCategory:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_s_group",method:"post",data:{...e,lang:t}})},addNewTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/new_tags",method:"post",data:{...e,lang:t}})},editTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/edit_tags",method:"post",data:{...e,lang:t}})},deleteTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/delete_tags",method:"post",data:{...e,lang:t}})},batchDeleteTags:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/batch_delete_tags",method:"post",data:{...e,lang:t}})},moveTag:async e=>{const t=localStorage.getItem(`${STORAGE_PREFIX$4}userLocale`)||"zh_CN";return await request({url:"/prompt/move_tag",method:"post",data:{...e,lang:t}})}},_hoisted_1$d={class:"tag-manager"},_hoisted_2$a={class:"toolbar"},_hoisted_3$a={class:"toolbar-top"},_hoisted_4$a={class:"search-container"},_hoisted_5$9=["placeholder"],_hoisted_6$9={key:0,class:"no-results"},_hoisted_7$9=["onClick"],_hoisted_8$9={class:"result-content"},_hoisted_9$9={class:"result-text"},_hoisted_10$8={class:"result-path"},_hoisted_11$8={class:"group-edit-mode"},_hoisted_12$8={class:"category-tabs"},_hoisted_13$6={class:"tabs-wrapper primary-tabs"},_hoisted_14$6={class:"tabs-scroll"},_hoisted_15$6=["onClick","onMouseenter","onMouseleave"],_hoisted_16$6={class:"tab-text"},_hoisted_17$6={key:0,class:"tab-actions"},_hoisted_18$5=["onClick"],_hoisted_19$3=["onClick"],_hoisted_20$3={class:"group-edit-mode"},_hoisted_21$3={key:0,class:"tabs-wrapper group-tabs"},_hoisted_22$3={class:"tabs-scroll"},_hoisted_23$3=["onClick","onMouseenter","onMouseleave"],_hoisted_24$3={class:"tab-text"},_hoisted_25$3={key:0,class:"tab-actions"},_hoisted_26$3=["onClick"],_hoisted_27$3=["onClick"],_hoisted_28$3={class:"group-edit-mode"},_hoisted_29$3={class:"tags-content"},_hoisted_30$3={class:"tags-header"},_hoisted_31$3={class:"tags-title"},_hoisted_32$3={class:"tags-actions"},_hoisted_33$3=["disabled"],_hoisted_34$3=["disabled"],_hoisted_35$3=["disabled"],_hoisted_36$3={key:0,class:"tags-grid"},_hoisted_37$3=["onClick"],_hoisted_38$3={class:"tag-actions"},_hoisted_39$3=["onClick","title"],_hoisted_40$3=["onClick","title"],_hoisted_41$3=["onClick","title"],_hoisted_42$3={class:"tag-desc"},_hoisted_43$3=["value"],_hoisted_44$3={key:0,class:"dialog-overlay"},_hoisted_45$3={class:"dialog-header"},_hoisted_46$3={class:"dialog-body"},_hoisted_47$2={key:0,class:"form-group"},_hoisted_48$2=["placeholder"],_hoisted_49$2={key:1,class:"form-group"},_hoisted_50$2=["placeholder"],_hoisted_51$2={class:"form-group"},_hoisted_52$2={class:"color-picker"},_hoisted_53$2={class:"color-controls"},_hoisted_54$2={class:"alpha-control"},_hoisted_55$2={class:"alpha-value"},_hoisted_56$2={class:"dialog-footer"},_hoisted_57$2={key:1,class:"dialog-overlay"},_hoisted_58$2={class:"dialog-header"},_hoisted_59$2={class:"dialog-body"},_hoisted_60$2={class:"form-group"},_hoisted_61$1=["placeholder"],_hoisted_62$1={class:"form-group"},_hoisted_63$1=["placeholder"],_hoisted_64$1={class:"form-group"},_hoisted_65$1={class:"color-picker"},_hoisted_66$1={class:"color-controls"},_hoisted_67$1={class:"alpha-control"},_hoisted_68$1={class:"alpha-value"},_hoisted_69$1={class:"dialog-footer"},_hoisted_70$1={key:2,class:"dialog-overlay"},_hoisted_71$1={class:"dialog-header"},_hoisted_72$1={class:"dialog-body"},_hoisted_73$1={class:"confirm-message"},_hoisted_74$1={class:"dialog-footer"},_hoisted_75$1={key:3,class:"dialog-overlay"},_hoisted_76$1={class:"dialog-content"},_hoisted_77$1={class:"dialog-header"},_hoisted_78$1={class:"dialog-body"},_hoisted_79$1={class:"form-group"},_hoisted_80$1=["value"],_hoisted_81={class:"form-group"},_hoisted_82={class:"radio-group"},_hoisted_83={class:"dialog-footer"},_sfc_main$d={__name:"tag_index",props:{tagManager:{type:String,default:"prompt"}},setup(e){const t=useTagStore(),{t:n}=useI18n(),a=ref([]),s=ref(null),r=ref(null),o=ref(!1),i=ref(!1),l=ref(!1),c=ref(!1),u=ref("primary"),d=ref([]),g=ref(!1),_=ref("None"),f=ref("None"),y=ref(0),w=ref(0),b=ref(null),$=ref(0),E=ref(!1),T=ref(null),S=ref("before"),A=ref(null),L=e,j=ref({name:"",color:"rgba(255, 123, 2, .4)",id_index:"",groups:[]}),P=ref({name:"",id_index:"",color:"rgba(255, 123, 2, .4)",tags:[]}),X=ref({text:"",desc:"",id_index:"",color:"rgba(255, 123, 2, .4)"}),q=J=>{const ae=J.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(ae){const[,te,$e,Te,Ee]=ae,z=`#${((1<<24)+(parseInt(te)<<16)+(parseInt($e)<<8)+parseInt(Te)).toString(16).slice(1)}`,N=Ee?Math.round(parseFloat(Ee)*100):100;return{hex:z,alpha:N}}return{hex:"#FFFFFF",alpha:100}},M=()=>{window.postMessage({type:"weilin_prompt_ui_tag_manager_refresh"},"*")},Z=async()=>{try{const J=await tagsApi.getTagsList();if(t.setCategories(J.data),a.value=t.categories,r.value){const ae=a.value.flatMap(te=>te.groups).find(te=>te.p_uuid===r.value.p_uuid);ae?r.value=ae:r.value=null}if(s.value){const ae=a.value.find(te=>te.p_uuid===s.value.p_uuid);ae?s.value=ae:s.value=null}}catch(J){console.error(":",J)}};onMounted(()=>{Le(),window.addEventListener("click",Ye),window.addEventListener("resize",Le),window.addEventListener("message",Ke),window.addEventListener("keydown",Je),a.value=t.categories,a.value.length<=0&&M()}),onBeforeUnmount(()=>{window.removeEventListener("click",Ye),window.removeEventListener("resize",Le),window.removeEventListener("message",Ke),window.removeEventListener("keydown",Je)});const le=computed(()=>r.value?r.value.tags||[]:[]),ve=J=>{s.value=J,r.value=null,g.value=!1,d.value=[]},he=J=>{r.value=J,g.value=!1,d.value=[]},ie=J=>{u.value=J,l.value=!1,K.value=q("rgba(255, 123, 2, .4)"),J==="primary"?j.value={name:"",color:"rgba(255, 123, 2, .4)",groups:[]}:P.value={name:"",color:"rgba(255, 123, 2, .4)",tags:[]},o.value=!0},ge=J=>{l.value=!0,u.value="primary",j.value={...J},K.value=q(J.color),o.value=!0},_e=J=>{l.value=!0,u.value="group",P.value={...J},K.value=q(J.color),o.value=!0},ye=()=>{if(u.value==="primary"){if(!j.value.name){message$1({type:"warn",str:"tagManager.categoryNameRequired"});return}l.value?a.value.findIndex(ae=>ae.id_index===j.value.id_index)!==-1&&tagsApi.editPrimaryCategory({id_index:j.value.id_index,name:j.value.name,color:j.value.color}).then(ae=>{ae.code===200?(M(),message$1({type:"success",str:"message.editSuccess"})):ae.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(ae=>{message$1({type:"warn",str:"message.networkError"})}):tagsApi.addPrimaryCategory({name:j.value.name,color:j.value.color}).then(J=>{J.code===200?(M(),message$1({type:"success",str:"message.addSuccess"})):J.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.addFailed"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})})}else{if(!P.value.name){message$1({type:"warn",str:"tagManager.groupNameRequired"});return}l.value?tagsApi.editSubCategory({id_index:P.value.id_index,name:P.value.name,color:P.value.color}).then(J=>{J.code===200?(M(),message$1({type:"success",str:"message.editSuccess"})):J.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})}):tagsApi.addSubCategory({name:P.value.name,color:P.value.color,key:s.value.id_index,p_uuid:s.value.p_uuid}).then(J=>{J.code===200?(M(),message$1({type:"success",str:"message.addSuccess"})):J.code===201?message$1({type:"error",str:"message.editNameExist"}):message$1({type:"error",str:"message.editFailed"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})})}R()},ke=()=>l.value?u.value==="primary"?n("tagManager.editPrimaryCategory"):n("tagManager.editSubCategory"):u.value==="primary"?n("tagManager.addPrimaryCategory"):n("tagManager.addSubCategory"),R=()=>{o.value=!1,j.value={id:"",name:"",parentId:null,subCategories:[],backgroundColor:"transparent"},K.value={hex:"#FFFFFF",alpha:0}};ref([]);const I=()=>{r.value&&(c.value=!1,X.value={id:"",text:"",desc:"",categoryId:r.value.id,g_uuid:r.value.g_uuid,backgroundColor:P.value.color},K.value=q(P.value.color),i.value=!0)},C=J=>{c.value=!0,X.value={...J},K.value=q(J.color),i.value=!0},V=()=>{if(!X.value.text||!X.value.desc){message$1({type:"warn",str:"tagManager.textRequired"});return}c.value&&r.value?tagsApi.editTags({id_index:X.value.id_index,text:X.value.text,desc:X.value.desc,color:X.value.color}).then(J=>{M(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.editSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})}):r.value&&tagsApi.addNewTags({id_index:r.value.id_index,g_uuid:r.value.g_uuid,text:X.value.text,desc:X.value.desc,color:X.value.color?X.value.color:"rgba(255, 123, 2, .4)"}).then(J=>{M(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.addSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})}),D()},D=()=>{i.value=!1,X.value={text:"",desc:"",color:"rgba(255, 123, 2, .4)"},c.value=!1},K=ref({hex:"#FFFFFF",alpha:100}),ue=computed(()=>ne(K.value.hex,K.value.alpha)),re=()=>{const J=ne(K.value.hex,K.value.alpha);o.value?u.value==="primary"?j.value.color=J:P.value.color=J:i.value&&(X.value.color=J)},ne=(J,ae)=>{const te=parseInt(J.slice(1,3),16),$e=parseInt(J.slice(3,5),16),Te=parseInt(J.slice(5,7),16);return`rgba(${te}, ${$e}, ${Te}, ${ae/100})`},pe=ref(""),k=ref([]),x=ref(!1),W=()=>{x.value=pe.value.trim().length>0;const J=pe.value.trim().toLowerCase();if(!J){k.value=[];return}const ae=[];a.value.forEach(te=>{var Te;const $e=String((te==null?void 0:te.name)||"");$e&&$e.toLowerCase().includes(J)&&ae.push({type:"category",item:te,path:[$e]}),(Te=te.groups)==null||Te.forEach(Ee=>{var N;const z=String((Ee==null?void 0:Ee.name)||"");z&&z.toLowerCase().includes(J)&&ae.push({type:"group",item:Ee,path:[$e,z]}),(N=Ee.tags)==null||N.forEach(H=>{const se=String((H==null?void 0:H.text)||""),ce=String((H==null?void 0:H.desc)||"");(se&&se.toLowerCase().includes(J)||ce&&ce.toLowerCase().includes(J))&&ae.push({type:"tag",item:H,path:[$e,z,se]})})})}),k.value=ae};watch(pe,()=>{W()});const Q=J=>{var ae;if(!(!(J!=null&&J.type)||!(J!=null&&J.item))){if(J.type==="category")J.item&&ve(J.item);else if(J.type==="group"){const te=a.value.find($e=>{var Te;return(Te=$e==null?void 0:$e.groups)==null?void 0:Te.some(Ee=>{var z;return String(Ee==null?void 0:Ee.name)===String((z=J.item)==null?void 0:z.name)})});te&&J.item&&(ve(te),he(J.item))}else if(J.type==="tag"){const te=a.value.find($e=>{var Te;return(Te=$e==null?void 0:$e.groups)==null?void 0:Te.some(Ee=>{var z;return(z=Ee==null?void 0:Ee.tags)==null?void 0:z.some(N=>{var H;return String(N==null?void 0:N.text)===String((H=J.item)==null?void 0:H.text)})})});if(te){const $e=(ae=te.groups)==null?void 0:ae.find(Te=>{var Ee;return(Ee=Te==null?void 0:Te.tags)==null?void 0:Ee.some(z=>{var N;return String(z==null?void 0:z.text)===String((N=J.item)==null?void 0:N.text)})});$e&&(ve(te),he($e),$.value==1&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:J.item.text},"*"),b.value=J.item.id_index,setTimeout(()=>{b.value=null},5e3))}}pe.value=""}},Y=J=>{if(!J||J==="transparent")return"var(--primary-text)";let ae,te,$e,Te=1;if(J.startsWith("rgba")){const z=J.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);z&&([,ae,te,$e,Te]=z.map(Number))}else if(J.startsWith("rgb")){const z=J.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);z&&([,ae,te,$e]=z.map(Number))}return Te<.5?"var(--primary-text)":(ae*299+te*587+$e*114)/1e3>128?"#000000":"#ffffff"},U=J=>{L.tagManager==="prompt"&&window.postMessage({type:"weilin_prompt_ui_insertTag",tagText:J.text},"*")},m=ref(!1),v=ref(""),B=ref(null),F=computed(()=>{if(!B.value)return"";switch(v.value){case"category":return n("tagManager.deletePrimaryCategoryConfirm",{name:B.value.name});case"group":return n("tagManager.deleteGroupConfirm",{name:B.value.name});case"tag":return n("tagManager.deleteTagConfirm",{name:B.value.text});case"deleteSelected":return n("tagManager.confirmDeleteSelected");default:return""}}),oe=J=>{v.value="category",B.value=J,m.value=!0},ee=J=>{v.value="group",B.value=J,m.value=!0},O=J=>{v.value="tag",B.value=J,m.value=!0},G=async()=>{try{switch(v.value){case"category":tagsApi.deletePrimaryCategory({p_uuid:B.value.p_uuid}).then(J=>{M(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})});break;case"group":tagsApi.deleteSubCategory({g_uuid:B.value.g_uuid}).then(J=>{M(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})});break;case"tag":tagsApi.deleteTags({id_index:B.value.id_index}).then(J=>{M(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelected":tagsApi.batchDeleteTags({id_indexs:d.value}).then(J=>{M(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(J=>{message$1({type:"warn",str:"message.networkError"})});break}Pe()}catch(J){console.error(":",J)}},de=J=>{A.value=J.id_index,E.value=!0},me=async()=>{try{tagsApi.moveTag({id_index:A.value,reference_id_index:T.value,position:S.value}).then(J=>{M(),E.value=!1,message$1({type:"success",str:n("message.moveSuccess")})}).catch(J=>{message$1({type:"error",str:n("message.moveFailed")})})}catch(J){console.error(":",J),message$1({type:"error",str:n("message.moveFailed")})}},be=computed(()=>r.value.tags.filter(J=>J.id_index!==A.value)),Ae=()=>{g.value=!0},Ne=()=>{g.value=!1,d.value=[]},De=()=>{d.value.length!==0&&(v.value="deleteSelected",B.value={},m.value=!0)},Pe=()=>{m.value=!1,v.value="",B.value=null},Ue=async()=>{try{await M()}catch(J){console.error(":",J)}},We=ref(),Oe=ref({}),Le=()=>{if(We.value){const J=We.value.getBoundingClientRect();Oe.value={position:"fixed",top:`${J.bottom}px`,left:`${J.left}px`,width:`${J.width}px`,zIndex:1e3}}},Ke=J=>{J.data.type==="weilin_prompt_ui_window_change_tagManager_position"||J.data.type==="weilin_prompt_ui_window_change_tagManager_size"||J.data.type==="weilin_prompt_ui_window_change_tagManager_scroll"||J.data.type==="weilin_prompt_ui_window_change_promptBox_position"||J.data.type==="weilin_prompt_ui_window_change_promptBox_size"||J.data.type==="weilin_prompt_ui_window_change_promptBox_scroll"?Le():J.data.type==="weilin_prompt_ui_window_change_click_outside"||J.data.type==="weilin_prompt_ui_tag_manager_refresh"&&Z()},Ye=J=>{x.value&&!We.value.contains(J.target)&&(x.value=!1)},Je=J=>{J.key==="Escape"&&(x.value=!1)},qe=J=>{w.value==1&&(_.value="TabID-"+J)},Qe=J=>{_.value="None"},Xe=J=>{y.value==1&&(f.value="TabID-"+J)},Ze=J=>{f.value="None"};return(J,ae)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$a,[createBaseVNode("button",{class:"refresh-btn",onClick:Ue},ae[24]||(ae[24]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),createBaseVNode("div",_hoisted_4$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=te=>pe.value=te),placeholder:unref(n)("tagManager.searchPlaceholder"),class:"search-input",ref_key:"searchInput",ref:We,onInput:ae[1]||(ae[1]=te=>x.value=pe.value.trim().length>0)},null,40,_hoisted_5$9),[[vModelText,pe.value]]),x.value?(openBlock(),createElementBlock("div",{key:0,class:"search-results",style:normalizeStyle(Oe.value)},[k.value.length===0?(openBlock(),createElementBlock("div",_hoisted_6$9,toDisplayString$1(unref(n)("tagManager.noResults")),1)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(k.value,te=>(openBlock(),createElementBlock("div",{key:`${te.type}-${te.item.name||te.item.text}`,class:"search-result-item",onClick:$e=>Q(te)},[createBaseVNode("div",_hoisted_8$9,[createBaseVNode("span",_hoisted_9$9,toDisplayString$1(te.item.name||te.item.text),1),createBaseVNode("span",_hoisted_10$8,toDisplayString$1(te.path.join(" > ")),1)])],8,_hoisted_7$9))),128))],4)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$8,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":ae[2]||(ae[2]=te=>$.value=te),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,$.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.autoAddSearchTag")),1)])])]),createBaseVNode("div",_hoisted_12$8,[createBaseVNode("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,(te,$e)=>{var Te,Ee,z;return openBlock(),createElementBlock("div",{key:"Tabss-"+$e,class:normalizeClass(["tab-item",{active:((Te=s.value)==null?void 0:Te.name)===te.name}]),style:normalizeStyle({backgroundColor:((Ee=s.value)==null?void 0:Ee.name)===te.name?"var(--primary-color)":te.color,color:((z=s.value)==null?void 0:z.name)===te.name?"#ffffff":Y(te.color)}),onClick:N=>ve(te),onMouseenter:N=>qe($e),onMouseleave:N=>Qe()},[createBaseVNode("span",_hoisted_16$6,toDisplayString$1(te.name),1),_.value=="TabID-"+$e?(openBlock(),createElementBlock("div",_hoisted_17$6,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(N=>ge(te),["stop"])},ae[25]||(ae[25]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_18$5),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(N=>oe(te),["stop"])},ae[26]||(ae[26]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_19$3)])):createCommentVNode("",!0)],46,_hoisted_15$6)}),128)),createBaseVNode("button",{class:"add-tab",onClick:ae[3]||(ae[3]=te=>ie("primary"))},[ae[27]||(ae[27]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addPrimaryCategory")),1)]),createBaseVNode("div",_hoisted_20$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":ae[4]||(ae[4]=te=>w.value=te),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,w.value]]),createTextVNode(" "+toDisplayString$1(w.value==1?unref(n)("tagManager.exitEditMode"):unref(n)("tagManager.editGroupMode")),1)])])])]),s.value?(openBlock(),createElementBlock("div",_hoisted_21$3,[createBaseVNode("div",_hoisted_22$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value.groups,(te,$e)=>{var Te,Ee,z;return openBlock(),createElementBlock("div",{key:"TabsSw-"+$e,class:normalizeClass(["tab-item",{active:((Te=r.value)==null?void 0:Te.name)===te.name}]),style:normalizeStyle({backgroundColor:((Ee=r.value)==null?void 0:Ee.name)===te.name?"var(--primary-color)":te.color,color:((z=r.value)==null?void 0:z.name)===te.name?"#ffffff":Y(te.color)}),onClick:N=>he(te),onMouseenter:N=>Xe($e),onMouseleave:N=>Ze()},[createBaseVNode("span",_hoisted_24$3,toDisplayString$1(te.name),1),f.value=="TabID-"+$e?(openBlock(),createElementBlock("div",_hoisted_25$3,[createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers(N=>_e(te),["stop"])},ae[28]||(ae[28]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_26$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers(N=>ee(te),["stop"])},ae[29]||(ae[29]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"action-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_27$3)])):createCommentVNode("",!0)],46,_hoisted_23$3)}),128)),s.value?(openBlock(),createElementBlock("button",{key:0,class:"add-tab",onClick:ae[5]||(ae[5]=te=>ie("group"))},[ae[30]||(ae[30]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addGroup")),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_28$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":ae[6]||(ae[6]=te=>y.value=te),"true-value":1,"false-value":0},null,512),[[vModelCheckbox,y.value]]),createTextVNode(" "+toDisplayString$1(y.value==1?unref(n)("tagManager.exitEditMode"):unref(n)("tagManager.editGroupMode")),1)])])])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_29$3,[createBaseVNode("div",_hoisted_30$3,[createBaseVNode("div",_hoisted_31$3,toDisplayString$1(r.value?r.value.name:unref(n)("tagManager.selectCategory")),1),createBaseVNode("div",_hoisted_32$3,[createBaseVNode("button",{class:"add-btn",onClick:I,disabled:!r.value},[ae[31]||(ae[31]=createBaseVNode("span",{class:"plus-icon"},"+",-1)),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.addTag")),1)],8,_hoisted_33$3),g.value?(openBlock(),createElementBlock("button",{key:0,class:"delete-btn",onClick:De,disabled:!d.value.length},toDisplayString$1(unref(n)("tagManager.deleteSelected")),9,_hoisted_34$3)):(openBlock(),createElementBlock("button",{key:1,class:"has-delete-action-btn",onClick:Ae,disabled:!r.value},toDisplayString$1(unref(n)("tagManager.hasDeleteAction")),9,_hoisted_35$3)),g.value?(openBlock(),createElementBlock("button",{key:2,class:"cancel-delete-btn",onClick:Ne},toDisplayString$1(unref(n)("tagManager.cancelDelete")),1)):createCommentVNode("",!0)])]),r.value?(openBlock(),createElementBlock("div",_hoisted_36$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,te=>(openBlock(),createElementBlock("div",{key:"tag-grid-"+te.id_index,class:normalizeClass(b.value===te.id_index?"tag-wrapper highlight":"tag-wrapper")},[createBaseVNode("div",{class:"tag-content",onClick:$e=>U(te)},[createBaseVNode("div",{class:"tag-main",style:normalizeStyle({backgroundColor:te.color||"transparent"})},[createTextVNode(toDisplayString$1(te.desc)+" ",1),createBaseVNode("div",_hoisted_38$3,[createBaseVNode("button",{class:"action-btn move",onClick:withModifiers($e=>de(te),["stop"]),title:unref(n)("tagManager.moveTag")},ae[32]||(ae[32]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"move-icon"},[createBaseVNode("path",{d:"M13 6v3h8V6h-8zm0 5v3h8v-3h-8zm-8 5v3h8v-3H5zm0-5v3h8v-3H5zm0-5v3h8V6H5z"})],-1)]),8,_hoisted_39$3),createBaseVNode("button",{class:"action-btn edit",onClick:withModifiers($e=>C(te),["stop"]),title:unref(n)("tagManager.editTag")},ae[33]||(ae[33]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"edit-icon"},[createBaseVNode("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)]),8,_hoisted_40$3),createBaseVNode("button",{class:"action-btn delete",onClick:withModifiers($e=>O(te),["stop"]),title:unref(n)("tagManager.deleteTag")},ae[34]||(ae[34]=[createBaseVNode("svg",{viewBox:"0 0 24 24",class:"delete-icon"},[createBaseVNode("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,_hoisted_41$3)])],4),createBaseVNode("div",_hoisted_42$3,toDisplayString$1(te.text),1)],8,_hoisted_37$3),g.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ae[7]||(ae[7]=$e=>d.value=$e),value:te.id_index,class:"tag-checkbox"},null,8,_hoisted_43$3)),[[vModelCheckbox,d.value]]):createCommentVNode("",!0)],2))),128))])):createCommentVNode("",!0)]),o.value?(openBlock(),createElementBlock("div",_hoisted_44$3,[createBaseVNode("div",{class:"dialog-content",onMousedown:ae[12]||(ae[12]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_45$3,[createBaseVNode("h2",null,toDisplayString$1(ke()),1),createBaseVNode("button",{class:"close-btn",onClick:R},"")]),createBaseVNode("div",_hoisted_46$3,[u.value=="primary"?(openBlock(),createElementBlock("div",_hoisted_47$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.categoryName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ae[8]||(ae[8]=te=>j.value.name=te),placeholder:unref(n)("tagManager.categoryNamePlaceholder"),onKeyup:withKeys(ye,["enter"])},null,40,_hoisted_48$2),[[vModelText,j.value.name]])])):createCommentVNode("",!0),u.value=="group"?(openBlock(),createElementBlock("div",_hoisted_49$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.groupName")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ae[9]||(ae[9]=te=>P.value.name=te),placeholder:unref(n)("tagManager.groupNamePlaceholder"),onKeyup:withKeys(ye,["enter"])},null,40,_hoisted_50$2),[[vModelText,P.value.name]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_51$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_52$2,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:ue.value})},null,4),createBaseVNode("div",_hoisted_53$2,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ae[10]||(ae[10]=te=>K.value.hex=te),onInput:re,class:"color-input"},null,544),[[vModelText,K.value.hex]]),createBaseVNode("div",_hoisted_54$2,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":ae[11]||(ae[11]=te=>K.value.alpha=te),min:"0",max:"100",onInput:re,class:"alpha-slider"},null,544),[[vModelText,K.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_55$2,toDisplayString$1(K.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_56$2,[createBaseVNode("button",{class:"cancel-btn",onClick:R},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:ye},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),i.value?(openBlock(),createElementBlock("div",_hoisted_57$2,[createBaseVNode("div",{class:"dialog-content",onMousedown:ae[17]||(ae[17]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_58$2,[createBaseVNode("h2",null,toDisplayString$1(c.value?unref(n)("tagManager.editTag"):unref(n)("tagManager.addTag")),1),createBaseVNode("button",{class:"close-btn",onClick:D},"")]),createBaseVNode("div",_hoisted_59$2,[createBaseVNode("div",_hoisted_60$2,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.text")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ae[13]||(ae[13]=te=>X.value.desc=te),placeholder:unref(n)("tagManager.textPlaceholder")},null,8,_hoisted_61$1),[[vModelText,X.value.desc]])]),createBaseVNode("div",_hoisted_62$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.description")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ae[14]||(ae[14]=te=>X.value.text=te),placeholder:unref(n)("tagManager.descriptionPlaceholder"),rows:"4"},"            ",8,_hoisted_63$1),[[vModelText,X.value.text]])]),createBaseVNode("div",_hoisted_64$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.backgroundColor")),1),createBaseVNode("div",_hoisted_65$1,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:ue.value})},null,4),createBaseVNode("div",_hoisted_66$1,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ae[15]||(ae[15]=te=>K.value.hex=te),onInput:re,class:"color-input"},null,544),[[vModelText,K.value.hex]]),createBaseVNode("div",_hoisted_67$1,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":ae[16]||(ae[16]=te=>K.value.alpha=te),min:"0",max:"100",onInput:re,class:"alpha-slider"},null,544),[[vModelText,K.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_68$1,toDisplayString$1(K.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_69$1,[createBaseVNode("button",{class:"cancel-btn",onClick:D},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:V},toDisplayString$1(unref(n)("common.confirm")),1)])],32)])):createCommentVNode("",!0),m.value?(openBlock(),createElementBlock("div",_hoisted_70$1,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:ae[18]||(ae[18]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_71$1,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:Pe},"")]),createBaseVNode("div",_hoisted_72$1,[createBaseVNode("p",_hoisted_73$1,toDisplayString$1(F.value),1)]),createBaseVNode("div",_hoisted_74$1,[createBaseVNode("button",{class:"cancel-btn",onClick:Pe},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:G},toDisplayString$1(unref(n)("common.delete")),1)])],32)])):createCommentVNode("",!0),E.value?(openBlock(),createElementBlock("div",_hoisted_75$1,[createBaseVNode("div",_hoisted_76$1,[createBaseVNode("div",_hoisted_77$1,[createBaseVNode("h2",null,toDisplayString$1(unref(n)("tagManager.moveTag")),1),createBaseVNode("button",{class:"close-btn",onClick:ae[19]||(ae[19]=te=>E.value=!1)},"")]),createBaseVNode("div",_hoisted_78$1,[createBaseVNode("div",_hoisted_79$1,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.targetTag")),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":ae[20]||(ae[20]=te=>T.value=te),class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(be.value,te=>(openBlock(),createElementBlock("option",{key:te.id_index,value:te.id_index},toDisplayString$1(te.desc+" --> "+te.text),9,_hoisted_80$1))),128))],512),[[vModelSelect,T.value]])]),createBaseVNode("div",_hoisted_81,[createBaseVNode("label",null,toDisplayString$1(unref(n)("tagManager.movePosition")),1),createBaseVNode("div",_hoisted_82,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":ae[21]||(ae[21]=te=>S.value=te),value:"before"},null,512),[[vModelRadio,S.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveBefore")),1)]),createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio-input",type:"radio","onUpdate:modelValue":ae[22]||(ae[22]=te=>S.value=te),value:"after"},null,512),[[vModelRadio,S.value]]),createTextVNode(" "+toDisplayString$1(unref(n)("tagManager.moveAfter")),1)])])])]),createBaseVNode("div",_hoisted_83,[createBaseVNode("button",{class:"cancel-btn",onClick:ae[23]||(ae[23]=te=>E.value=!1)},toDisplayString$1(unref(n)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:me},toDisplayString$1(unref(n)("common.confirm")),1)])])])):createCommentVNode("",!0)]))}},TagManager=_export_sfc(_sfc_main$d,[["__scopeId","data-v-81dc8878"]]),baseZIndex=100,activeWindow=ref(""),windowZIndexes=ref({}),windowManager={setActiveWindow(e){activeWindow.value!==e&&(activeWindow.value=e,Object.keys(windowZIndexes.value).forEach(t=>{windowZIndexes.value[t]=baseZIndex}),windowZIndexes.value[e]=baseZIndex+10)},getZIndex(e){return windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex),windowZIndexes.value[e]},registerWindow(e){windowZIndexes.value[e]||(windowZIndexes.value[e]=baseZIndex)},unregisterWindow(e){delete windowZIndexes.value[e]}},loraApi={getLoraList:async e=>await request({url:"/get_lora_list",method:"get",params:e}),getAllLoraList:async e=>await request({url:"/get_lora_load_all",method:"get",params:e}),getAllLoraStatus:async e=>await request({url:"/get_lora_load_status",method:"get",params:e}),getLoraDetail:async e=>await request({url:"/lorainfo/api/loras/info",method:"get",params:e}),getLoraRefresh:async e=>await request({url:"/lorainfo/api/loras/info/refresh",method:"get",params:e}),postUplaodImg:async(e,t,n)=>{const a=new FormData;return a.append("image",e),a.append("path",t),a.append("fileName",n),await request({url:"/lorainfo/api/loras/set/img",method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}})},postLoraSave:async(e,t)=>{const n=new FormData;return n.append("json",JSON.stringify(t)),await request({url:"/lorainfo/api/loras/info?file="+e,method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}})},getLoraFolderList:async()=>await request({url:"/get_lora_folder_list",method:"post"}),getLoraRangeList:async e=>await request({url:"/get_lora_list_by_range",method:"post",data:{range:e}}),searchLoraGetFolderList:async e=>await request({url:"/get_lora_list_by_search",method:"post",data:{search:e}})};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var REG_LINK$1=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,script$a={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=REG_LINK$1.test(t),a;return this.expand?(a={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),a.innerHTML='"'.concat(t.toString(),'"')):a.innerText='"'.concat(t.toString(),'"')):a={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},h("span",{},[this.canExtend&&h("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),h("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),h("span",a)])}};script$a.__file="src/Components/types/json-string.vue";var script$9={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return h("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}};script$9.__file="src/Components/types/json-undefined.vue";var script$8={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var t=Number.isInteger(this.jsonValue);return h("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":t,"jv-number-float":!t},innerText:this.jsonValue.toString()})}};script$8.__file="src/Components/types/json-number.vue";var script$7={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return h("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}};script$7.__file="src/Components/types/json-boolean.vue";var script$6={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},data:function(){return{value:{}}},computed:{ordered:function(){var t=this;if(!this.sort)return this.value;var n={};return Object.keys(this.value).sort().forEach(function(a){n[a]=t.value[a]}),n}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this;setTimeout(function(){n.value=t},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=[];if(!this.previewMode&&!this.keyName&&t.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),t.push(h("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand){for(var n in this.ordered)if(this.ordered.hasOwnProperty(n)){var a=this.ordered[n];t.push(h(script$1,{key:n,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:n,depth:this.depth+1,value:a,previewMode:this.previewMode}))}}return!this.expand&&Object.keys(this.value).length&&t.push(h("span",{style:{display:this.expand?"none":void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal object content (keys: ".concat(Object.keys(this.ordered).join(", "),")"),innerText:"..."})),t.push(h("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),h("span",t)}};script$6.__file="src/Components/types/json-object.vue";var script$5={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},data:function(){return{value:[]}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a===0&&(this.value=[]),setTimeout(function(){t.length>a&&(n.value.push(t[a]),n.setValue(t,a+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand);try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[];return!this.previewMode&&!this.keyName&&n.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),n.push(h("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(a,s){n.push(h(script$1,{key:s,style:{display:t.expand?void 0:"none"},sort:t.sort,depth:t.depth+1,value:a,previewMode:t.previewMode}))}),!this.expand&&this.value.length&&n.push(h("span",{style:{display:void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal ".concat(this.value.length," hidden items"),innerText:"..."})),n.push(h("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),h("span",n)}};script$5.__file="src/Components/types/json-array.vue";var script$4={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return h("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}};script$4.__file="src/Components/types/json-function.vue";var script$3={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var t=this.jsonValue,n=this.timeformat;return h("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'.concat(n(t),'"')})}};script$3.__file="src/Components/types/json-date.vue";var REG_LINK=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,script$2={name:"JsonString",props:{jsonValue:{type:RegExp,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=REG_LINK.test(t),a;return this.expand?(a={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),a.innerHTML="".concat(t.toString())):a.innerText="".concat(t.toString())):a={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},h("span",{},[this.canExtend&&h("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),h("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),h("span",a)])}};script$2.__file="src/Components/types/json-regexp.vue";var script$1={name:"JsonBox",inject:["expandDepth","keyClick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},data:function(){return{expand:!0}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)},methods:{toggle:function(){this.expand=!this.expand;try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[],a;this.value===null||this.value===void 0?a=script$9:Array.isArray(this.value)?a=script$5:Object.prototype.toString.call(this.value)==="[object Date]"?a=script$3:_typeof(this.value)==="object"?a=script$6:typeof this.value=="number"?a=script$8:typeof this.value=="string"?a=script$a:typeof this.value=="boolean"?a=script$7:typeof this.value=="function"&&(a=script$4),this.value.constructor===RegExp&&(a=script$2);var s=this.keyName&&this.value&&(Array.isArray(this.value)||_typeof(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&s&&n.push(h("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),this.keyName&&n.push(h("span",{class:{"jv-key":!0},onClick:function(){t.keyClick(t.keyName)},innerText:"".concat(this.keyName,":")})),n.push(h(a,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,"onUpdate:expand":function(o){t.expand=o}})),h("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!s,toggle:!this.previewMode&&s}},n)}};script$1.__file="src/Components/json-box.vue";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var clipboard$2={exports:{}};(function(e,t){(function(a,s){e.exports=s()})(commonjsGlobal,function(){return function(){var n={686:function(r,o,i){i.d(o,{default:function(){return ke}});var l=i(279),c=i.n(l),u=i(370),d=i.n(u),g=i(817),_=i.n(g);function f(R){try{return document.execCommand(R)}catch{return!1}}var y=function(I){var C=_()(I);return f("cut"),C},w=y;function b(R){var I=document.documentElement.getAttribute("dir")==="rtl",C=document.createElement("textarea");C.style.fontSize="12pt",C.style.border="0",C.style.padding="0",C.style.margin="0",C.style.position="absolute",C.style[I?"right":"left"]="-9999px";var V=window.pageYOffset||document.documentElement.scrollTop;return C.style.top="".concat(V,"px"),C.setAttribute("readonly",""),C.value=R,C}var $=function(I,C){var V=b(I);C.container.appendChild(V);var D=_()(V);return f("copy"),V.remove(),D},E=function(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},V="";return typeof I=="string"?V=$(I,C):I instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(I==null?void 0:I.type)?V=$(I.value,C):(V=_()(I),f("copy")),V},T=E;function S(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(C){return typeof C}:S=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},S(R)}var A=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=I.action,V=C===void 0?"copy":C,D=I.container,K=I.target,ue=I.text;if(V!=="copy"&&V!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(K!==void 0)if(K&&S(K)==="object"&&K.nodeType===1){if(V==="copy"&&K.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(V==="cut"&&(K.hasAttribute("readonly")||K.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ue)return T(ue,{container:D});if(K)return V==="cut"?w(K):T(K,{container:D})},L=A;function j(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j=function(C){return typeof C}:j=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},j(R)}function P(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function X(R,I){for(var C=0;C<I.length;C++){var V=I[C];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}function q(R,I,C){return I&&X(R.prototype,I),C&&X(R,C),R}function M(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),I&&Z(R,I)}function Z(R,I){return Z=Object.setPrototypeOf||function(V,D){return V.__proto__=D,V},Z(R,I)}function le(R){var I=ie();return function(){var V=ge(R),D;if(I){var K=ge(this).constructor;D=Reflect.construct(V,arguments,K)}else D=V.apply(this,arguments);return ve(this,D)}}function ve(R,I){return I&&(j(I)==="object"||typeof I=="function")?I:he(R)}function he(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function ie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ge(R){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},ge(R)}function _e(R,I){var C="data-clipboard-".concat(R);if(I.hasAttribute(C))return I.getAttribute(C)}var ye=function(R){M(C,R);var I=le(C);function C(V,D){var K;return P(this,C),K=I.call(this),K.resolveOptions(D),K.listenClick(V),K}return q(C,[{key:"resolveOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof D.action=="function"?D.action:this.defaultAction,this.target=typeof D.target=="function"?D.target:this.defaultTarget,this.text=typeof D.text=="function"?D.text:this.defaultText,this.container=j(D.container)==="object"?D.container:document.body}},{key:"listenClick",value:function(D){var K=this;this.listener=d()(D,"click",function(ue){return K.onClick(ue)})}},{key:"onClick",value:function(D){var K=D.delegateTarget||D.currentTarget,ue=this.action(K)||"copy",re=L({action:ue,container:this.container,target:this.target(K),text:this.text(K)});this.emit(re?"success":"error",{action:ue,text:re,trigger:K,clearSelection:function(){K&&K.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(D){return _e("action",D)}},{key:"defaultTarget",value:function(D){var K=_e("target",D);if(K)return document.querySelector(K)}},{key:"defaultText",value:function(D){return _e("text",D)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(D){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return T(D,K)}},{key:"cut",value:function(D){return w(D)}},{key:"isSupported",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],K=typeof D=="string"?[D]:D,ue=!!document.queryCommandSupported;return K.forEach(function(re){ue=ue&&!!document.queryCommandSupported(re)}),ue}}]),C}(c()),ke=ye},828:function(r){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function l(c,u){for(;c&&c.nodeType!==o;){if(typeof c.matches=="function"&&c.matches(u))return c;c=c.parentNode}}r.exports=l},438:function(r,o,i){var l=i(828);function c(g,_,f,y,w){var b=d.apply(this,arguments);return g.addEventListener(f,b,w),{destroy:function(){g.removeEventListener(f,b,w)}}}function u(g,_,f,y,w){return typeof g.addEventListener=="function"?c.apply(null,arguments):typeof f=="function"?c.bind(null,document).apply(null,arguments):(typeof g=="string"&&(g=document.querySelectorAll(g)),Array.prototype.map.call(g,function(b){return c(b,_,f,y,w)}))}function d(g,_,f,y){return function(w){w.delegateTarget=l(w.target,_),w.delegateTarget&&y.call(g,w)}}r.exports=u},879:function(r,o){o.node=function(i){return i!==void 0&&i instanceof HTMLElement&&i.nodeType===1},o.nodeList=function(i){var l=Object.prototype.toString.call(i);return i!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in i&&(i.length===0||o.node(i[0]))},o.string=function(i){return typeof i=="string"||i instanceof String},o.fn=function(i){var l=Object.prototype.toString.call(i);return l==="[object Function]"}},370:function(r,o,i){var l=i(879),c=i(438);function u(f,y,w){if(!f&&!y&&!w)throw new Error("Missing required arguments");if(!l.string(y))throw new TypeError("Second argument must be a String");if(!l.fn(w))throw new TypeError("Third argument must be a Function");if(l.node(f))return d(f,y,w);if(l.nodeList(f))return g(f,y,w);if(l.string(f))return _(f,y,w);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(f,y,w){return f.addEventListener(y,w),{destroy:function(){f.removeEventListener(y,w)}}}function g(f,y,w){return Array.prototype.forEach.call(f,function(b){b.addEventListener(y,w)}),{destroy:function(){Array.prototype.forEach.call(f,function(b){b.removeEventListener(y,w)})}}}function _(f,y,w){return c(document.body,f,y,w)}r.exports=u},817:function(r){function o(i){var l;if(i.nodeName==="SELECT")i.focus(),l=i.value;else if(i.nodeName==="INPUT"||i.nodeName==="TEXTAREA"){var c=i.hasAttribute("readonly");c||i.setAttribute("readonly",""),i.select(),i.setSelectionRange(0,i.value.length),c||i.removeAttribute("readonly"),l=i.value}else{i.hasAttribute("contenteditable")&&i.focus();var u=window.getSelection(),d=document.createRange();d.selectNodeContents(i),u.removeAllRanges(),u.addRange(d),l=u.toString()}return l}r.exports=o},279:function(r){function o(){}o.prototype={on:function(i,l,c){var u=this.e||(this.e={});return(u[i]||(u[i]=[])).push({fn:l,ctx:c}),this},once:function(i,l,c){var u=this;function d(){u.off(i,d),l.apply(c,arguments)}return d._=l,this.on(i,d,c)},emit:function(i){var l=[].slice.call(arguments,1),c=((this.e||(this.e={}))[i]||[]).slice(),u=0,d=c.length;for(u;u<d;u++)c[u].fn.apply(c[u].ctx,l);return this},off:function(i,l){var c=this.e||(this.e={}),u=c[i],d=[];if(u&&l)for(var g=0,_=u.length;g<_;g++)u[g].fn!==l&&u[g].fn._!==l&&d.push(u[g]);return d.length?c[i]=d:delete c[i],this}},r.exports=o,r.exports.TinyEmitter=o}},a={};function s(r){if(a[r])return a[r].exports;var o=a[r]={exports:{}};return n[r](o,o.exports,s),o.exports}return function(){s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,{a:o}),o}}(),function(){s.d=function(r,o){for(var i in o)s.o(o,i)&&!s.o(r,i)&&Object.defineProperty(r,i,{enumerable:!0,get:o[i]})}}(),function(){s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)}}(),s(686)}().default})})(clipboard$2);var Clipboard$1=getDefaultExportFromCjs$1(clipboard$2.exports),debounce=function(t,n){var a=Date.now(),s;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];Date.now()-a<n&&s&&clearTimeout(s),s=setTimeout(function(){t.apply(void 0,o)},n),a=Date.now()}},script={name:"JsonViewer",components:{JsonBox:script$1},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:function(t){return t.toLocaleString()}},previewMode:{type:Boolean,default:!1},parse:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,keyClick:this.keyClick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},emits:["onKeyClick"],computed:{jvClass:function(){return"jv-container jv-"+this.theme+(this.boxed?" boxed":"")},copyText:function(){var t=this.copyable,n=t.copyText,a=t.copiedText,s=t.timeout,r=t.align;return{copyText:n||"copy",copiedText:a||"copied!",timeout:s||2e3,align:r}},parseValue:function(){if(!this.parse||typeof this.value!="string")return this.value;try{return JSON.parse(this.value)}catch{return this.value}}},watch:{value:function(){this.onResized()}},mounted:function(){var t=this;if(this.debounceResized=debounce(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable){var n=new Clipboard$1(this.$refs.clip,{text:function(){return JSON.stringify(t.value,null,2)}});n.on("success",function(a){t.onCopied(a)})}},methods:{onResized:function(){this.debounceResized()},debResized:function(){var t=this;this.$nextTick(function(){t.$refs.jsonBox&&(t.$refs.jsonBox.$el.clientHeight>=250?t.expandableCode=!0:t.expandableCode=!1)})},keyClick:function(t){this.$emit("onKeyClick",t)},onCopied:function(t){var n=this;this.copied||(this.copied=!0,setTimeout(function(){n.copied=!1},this.copyText.timeout),this.$emit("copied",t))},toggleExpandCode:function(){this.expandCode=!this.expandCode}}};function render(e,t,n,a,s,r){var o=resolveComponent("json-box");return openBlock(),createElementBlock("div",{class:normalizeClass(r.jvClass)},[n.copyable?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass("jv-tooltip ".concat(r.copyText.align||"right"))},[createBaseVNode("span",{ref:"clip",class:normalizeClass(["jv-button",{copied:s.copied}])},[renderSlot(e.$slots,"copy",{copied:s.copied},function(){return[createTextVNode(toDisplayString$1(s.copied?r.copyText.copiedText:r.copyText.copyText),1)]})],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(["jv-code",{open:s.expandCode,boxed:n.boxed}])},[createVNode(o,{ref:"jsonBox",value:r.parseValue,sort:n.sort,"preview-mode":n.previewMode},null,8,["value","sort","preview-mode"])],2),s.expandableCode&&n.boxed?(openBlock(),createElementBlock("div",{key:1,class:"jv-more",onClick:t[0]||(t[0]=function(){return r.toggleExpandCode&&r.toggleExpandCode.apply(r,arguments)})},[createBaseVNode("span",{class:normalizeClass(["jv-toggle",{open:!!s.expandCode}])},null,2)])):createCommentVNode("v-if",!0)],2)}script.render=render,script.__file="src/Components/json-viewer.vue";const _hoisted_1$c={class:"lora-raw__content"},STORAGE_PREFIX$3="weilin_tools_",_sfc_main$c={__name:"lora_raw",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:a}=useI18n(),s=ref({}),r=ref(!1),o={loraRaw:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},l=ref((()=>{try{const _=localStorage.getItem(`${STORAGE_PREFIX$3}loraRawState`);if(_){const f=JSON.parse(_),y={...o};return f.loraRaw&&(y.loraRaw={...o.loraRaw,...f.loraRaw}),y}}catch(_){console.error("Error loading window states:",_)}return{...o}})());watch(l,_=>{try{localStorage.setItem(`${STORAGE_PREFIX$3}loraRawState`,JSON.stringify(_))}catch(f){console.error("Error saving window states:",f)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("loraRaw")}),onUnmounted(()=>{windowManager.unregisterWindow("loraRaw")});const c=_=>{r.value=!1},u=(_,f)=>{l.value[_]&&(l.value[_].position={...f})},d=(_,f)=>{l.value[_]&&(l.value[_].size={...f})};return t({open:_=>{r.value=!0,windowManager.setActiveWindow("loraRaw"),s.value=_}}),(_,f)=>r.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(a)("lora.rawTitle"),position:l.value.loraRaw.position,size:l.value.loraRaw.size,"z-index":unref(windowManager).getZIndex("loraRaw"),"onUpdate:position":f[0]||(f[0]=y=>u("loraRaw",y)),"onUpdate:size":f[1]||(f[1]=y=>d("loraRaw",y)),onActive:f[2]||(f[2]=y=>unref(windowManager).setActiveWindow("loraRaw")),onClose:f[3]||(f[3]=y=>c())},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[createVNode(unref(script),{value:s.value,copyable:"",sort:"",theme:"dark"},null,8,["value"])])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0)}},loraRaw=_export_sfc(_sfc_main$c,[["__scopeId","data-v-4c910f08"]]),_hoisted_1$b={class:"lora-detail__content"},_hoisted_2$9={key:0,class:"lora-detail__loading"},_hoisted_3$9={key:1,class:"lora-detail__body"},_hoisted_4$9={class:"lora-detail__tags"},_hoisted_5$8=["title"],_hoisted_6$8=["title"],_hoisted_7$8={class:"lora-detail__table"},_hoisted_8$8={class:"label"},_hoisted_9$8={colspan:"2"},_hoisted_10$7={colspan:"3"},_hoisted_11$7={class:"label"},_hoisted_12$7={colspan:"2",class:"hash"},_hoisted_13$5={class:"label"},_hoisted_14$5={colspan:"2"},_hoisted_15$5=["href"],_hoisted_16$5={key:1,class:"not-found"},_hoisted_17$5=["title"],_hoisted_18$4={class:"label"},_hoisted_19$2=["title"],_hoisted_20$2={key:1,class:"text"},_hoisted_21$2={class:"actions"},_hoisted_22$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_23$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_24$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_25$2={class:"label"},_hoisted_26$2={colspan:"2"},_hoisted_27$2={class:"label"},_hoisted_28$2={colspan:"2"},_hoisted_29$2={class:"label"},_hoisted_30$2=["title"],_hoisted_31$2=["onUpdate:modelValue","type","onKeyup"],_hoisted_32$2={key:1,class:"text"},_hoisted_33$2={class:"actions"},_hoisted_34$2=["onClick"],_hoisted_35$2={viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_36$2={key:0,d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},_hoisted_37$2={key:1,d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},_hoisted_38$2={key:0},_hoisted_39$2={class:"label"},_hoisted_40$2=["title"],_hoisted_41$2={key:0,class:"word-selection"},_hoisted_42$2={colspan:"2"},_hoisted_43$2={class:"word-list"},_hoisted_44$2=["onClick"],_hoisted_45$2={key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},_hoisted_46$2={key:1},_hoisted_47$1={key:0,class:"lora-detail__images"},_hoisted_48$1={class:"image-wrapper"},_hoisted_49$1=["onClick"],_hoisted_50$1=["src"],_hoisted_51$1={class:"image-info"},_hoisted_52$1={key:0,class:"info-item"},_hoisted_53$1=["href"],_hoisted_54$1={key:1,class:"info-item"},_hoisted_55$1={key:2,class:"info-item"},_hoisted_56$1={key:3,class:"info-item"},_hoisted_57$1={key:4,class:"info-item"},_hoisted_58$1={key:5,class:"info-item"},_hoisted_59$1={key:6,class:"info-item"},_hoisted_60$1={key:7,class:"info-item"},STORAGE_PREFIX$2="weilin_tools_",_sfc_main$b={__name:"lora_detail",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:a}=useI18n(),s=ref(!1),r=ref({}),o=ref(!1),i={loraDetail:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},c=ref((()=>{try{const R=localStorage.getItem(`${STORAGE_PREFIX$2}loraDetailState`);if(R){const I=JSON.parse(R),C={...i};return I.loraDetail&&(C.loraDetail={...i.loraDetail,...I.loraDetail}),C}}catch(R){console.error("Error loading window states:",R)}return{...i}})());watch(c,R=>{try{localStorage.setItem(`${STORAGE_PREFIX$2}loraDetailState`,JSON.stringify(R))}catch(I){console.error("Error saving window states:",I)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("loraDetail")}),onUnmounted(()=>{windowManager.unregisterWindow("loraDetail")});const u=R=>{o.value=!1},d=(R,I)=>{c.value[R]&&(c.value[R].position={...I})},g=(R,I)=>{c.value[R]&&(c.value[R].size={...I})};t({open:R=>{o.value=!0,windowManager.setActiveWindow("loraDetail"),s.value=!0,r.value=R,nextTick(()=>{S()})}});const f=ref(""),y=ref(),w=R=>{y.value.open(R)},b=ref({}),$=ref({}),E=ref([]),T=[{key:"strengthMin",label:a("lora.strengthMin"),tip:a("lora.strengthMinTip"),type:"number"},{key:"strengthMax",label:a("lora.strengthMax"),tip:a("lora.strengthMaxTip"),type:"number"},{key:"strWeight",label:a("lora.strWeight"),tip:a("lora.strWeightTip"),type:"number"},{key:"loraWorks",label:a("lora.promptWords"),tip:a("lora.promptWordsTip")}],S=()=>{f.value=r.value.name,r.value={},E.value=[],$.value={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},loraApi.getLoraDetail({file:f.value,refresh:!1,light:!1}).then(R=>{r.value=R.data,nextTick(function(){var I,C,V,D,K,ue;r.value.name=r.value.name||((C=(I=r.value.raw)===null||I===void 0?void 0:I.metadata)===null||C===void 0?void 0:C.ss_output_name===void 0?C["modelspec.title"]:C.ss_output_name)||"",$.value.nameValue=r.value.name,r.value.strengthMin=(V=r.value.strengthMin)!==null&&V!==void 0?V:"",$.value.minValue=r.value.strengthMin,r.value.strengthMax=(D=r.value.strengthMax)!==null&&D!==void 0?D:"",$.value.maxValue=r.value.strengthMax,r.value.userNote=(K=r.value.userNote)!==null&&K!==void 0?K:"",$.value.notesValue=r.value.userNote,r.value.loraWorks=(ue=r.value.loraWorks)!==null&&ue!==void 0?ue:"",$.value.loraWorksValue=r.value.loraWorks,s.value=!1})}).catch(R=>{message$1({type:"warn",str:"message.networkError"}),s.value=!1})},A=R=>{let C=new URL(R).pathname.split("/").pop();return C=C.split("?")[0],decodeURIComponent(C)},L=async R=>{try{const I=await fetch(R),C=A(R),V=await I.blob();loraApi.postUplaodImg(V,r.value.file,C).then(D=>{message$1({type:"success",str:"message.saveSuccess"})}).catch(D=>{message$1({type:"warn",str:"message.unknownError"})})}catch{message$1({type:"warn",str:"message.unknownError"})}},j=computed(()=>{var R;return(R=r.value.links)==null?void 0:R.find(I=>I.includes("civitai.com/models"))}),P=computed(()=>{var R,I;return((I=(R=r.value.raw)==null?void 0:R.civitai)==null?void 0:I.error)==="Model not found"}),X=computed(()=>r.value.trainedWords||[]),q=async()=>{s.value=!0,loraApi.getLoraRefresh({file:f.value}).then(R=>{r.value=R.data,nextTick(function(){s.value=!1})}).catch(R=>{message$1({type:"warn",str:"message.networkError"}),s.value=!1})},M=R=>{b.value[R]?le(R):Z(R)},Z=R=>{b.value[R]=!0,$.value[R]=r.value[R],nextTick(()=>{R==="name"&&nameInput.value&&nameInput.value.focus()})},le=R=>{he({[R]:$.value[R]}),b.value[R]=!1},ve=R=>{b.value[R]=!1,$.value[R]=r.value[R]},he=R=>{s.value=!0,loraApi.postLoraSave(f.value,R).then(I=>{r.value=I.data,nextTick(function(){var C,V,D,K,ue;r.value.name=r.value.name||((V=(C=r.value.raw)===null||C===void 0?void 0:C.metadata)===null||V===void 0?void 0:V.ss_output_name===void 0?V["modelspec.title"]:V.ss_output_name)||"",$.value.nameValue=r.value.name,r.value.strengthMin=(D=r.value.strengthMin)!==null&&D!==void 0?D:"",$.value.minValue=r.value.strengthMin,r.value.strengthMax=(K=r.value.strengthMax)!==null&&K!==void 0?K:"",$.value.maxValue=r.value.strengthMax,r.value.userNote=(ue=r.value.userNote)!==null&&ue!==void 0?ue:"",$.value.notesValue=r.value.userNote,s.value=!1}),message$1({type:"success",str:"message.saveSuccess"})}).catch(I=>{message$1({type:"warn",str:"message.networkError"}),s.value=!1})},ie=R=>{const I=E.value.indexOf(R);I===-1?E.value.push(R):E.value.splice(I,1)},ge=R=>E.value.includes(R),_e=async()=>{E.value.length&&navigator.clipboard.writeText(E.value).then(R=>{message$1({type:"success",str:"message.copySuccess"})},R=>{message$1({type:"warn",str:"message.copyFailed"})})};ref(!1),ref(!1),computed(()=>s.value?a("common.loading"):a("common.ready"));const ye=ref(!0),ke=()=>{ye.value=!ye.value};return(R,I)=>(openBlock(),createElementBlock(Fragment,null,[o.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(a)("lora.title"),position:c.value.loraDetail.position,size:c.value.loraDetail.size,"z-index":unref(windowManager).getZIndex("loraDetail"),"onUpdate:position":I[5]||(I[5]=C=>d("loraDetail",C)),"onUpdate:size":I[6]||(I[6]=C=>g("loraDetail",C)),onActive:I[7]||(I[7]=C=>unref(windowManager).setActiveWindow("loraDetail")),onClose:I[8]||(I[8]=C=>u())},{default:withCtx(()=>{var C;return[createBaseVNode("div",_hoisted_1$b,[s.value?(openBlock(),createElementBlock("div",_hoisted_2$9,I[9]||(I[9]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"is-rotating"},[createBaseVNode("path",{d:"M12 4V2C6.48 2 2 6.48 2 12H4C4 7.58 7.58 4 12 4Z"})],-1)]))):(openBlock(),createElementBlock("div",_hoisted_3$9,[I[24]||(I[24]=createBaseVNode("div",{class:"lora-detail__title"},"Lora ",-1)),createBaseVNode("ul",_hoisted_4$9,[r.value.type?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass(["lora-detail__tag",`-type-${r.value.type.toLowerCase()}`]),title:unref(a)("lora.type")},toDisplayString$1(r.value.type),11,_hoisted_5$8)):createCommentVNode("",!0),r.value.baseModel?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(["lora-detail__tag",`-basemodel-${r.value.baseModel.toLowerCase()}`]),title:unref(a)("lora.baseModel")},toDisplayString$1(r.value.baseModel),11,_hoisted_6$8)):createCommentVNode("",!0)]),createBaseVNode("table",_hoisted_7$8,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_8$8,toDisplayString$1(unref(a)("lora.file")),1),createBaseVNode("td",_hoisted_9$8,toDisplayString$1(r.value.file),1),createBaseVNode("td",_hoisted_10$7,[createBaseVNode("button",{class:"fetch-btn",onClick:I[0]||(I[0]=V=>w(r.value.raw.metadata))},toDisplayString$1(unref(a)("lora.seeLoraRaw")),1)])]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_11$7,toDisplayString$1(unref(a)("lora.hash")),1),createBaseVNode("td",_hoisted_12$7,toDisplayString$1(r.value.sha256),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_13$5,toDisplayString$1(unref(a)("lora.civitai")),1),createBaseVNode("td",_hoisted_14$5,[j.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",{href:j.value,target:"_blank",class:"civitai-link"},[I[10]||(I[10]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"civitai-icon"},[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(a)("lora.viewOnCivitai")),1)],8,_hoisted_15$5),createBaseVNode("button",{class:"refresh-btn",onClick:q},toDisplayString$1(unref(a)("common.refresh")),1)],64)):P.value?(openBlock(),createElementBlock("div",_hoisted_16$5,[createBaseVNode("i",null,toDisplayString$1(unref(a)("lora.modelNotFound")),1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(a)("lora.modelNotFoundTip")},I[11]||(I[11]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_17$5))])):(openBlock(),createElementBlock("button",{key:2,class:"fetch-btn",onClick:q},toDisplayString$1(unref(a)("lora.fetchFromCivitai")),1))])]),createBaseVNode("tr",{class:normalizeClass({"is-editing":b.value.name})},[createBaseVNode("td",_hoisted_18$4,[createTextVNode(toDisplayString$1(unref(a)("lora.name"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(a)("lora.nameTip")},I[12]||(I[12]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_19$2))]),createBaseVNode("td",null,[b.value.name?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":I[1]||(I[1]=V=>$.value.name=V),type:"text",onKeyup:[I[2]||(I[2]=withKeys(V=>le("name"),["enter"])),I[3]||(I[3]=withKeys(V=>ve("name"),["esc"]))],ref:"nameInput"},null,544)),[[vModelText,$.value.name]]):(openBlock(),createElementBlock("span",_hoisted_20$2,toDisplayString$1(r.value.name),1))]),createBaseVNode("td",_hoisted_21$2,[createBaseVNode("button",{class:"edit-btn",onClick:I[4]||(I[4]=V=>M("name"))},[(openBlock(),createElementBlock("svg",_hoisted_22$2,[b.value.name?(openBlock(),createElementBlock("path",_hoisted_23$2)):(openBlock(),createElementBlock("path",_hoisted_24$2))]))])])],2),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_25$2,toDisplayString$1(unref(a)("lora.baseModel")),1),createBaseVNode("td",_hoisted_26$2,toDisplayString$1(!r.value.baseModelFile&&!r.value.baseModelFile?"":(r.value.baseModel||"")+(r.value.baseModelFile?`
                                        (${r.value.baseModelFile})`:"")),1)]),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_27$2,toDisplayString$1(unref(a)("lora.skipClip")),1),createBaseVNode("td",_hoisted_28$2,toDisplayString$1((R._t=(R._s=r.value.raw)===null||R._s===void 0?void 0:R._s.metadata)===null||R._t===void 0?void 0:R._t.ss_clip_skip),1)]),(openBlock(),createElementBlock(Fragment,null,renderList(T,V=>createBaseVNode("tr",{key:V.key,class:normalizeClass({"is-editing":b.value[V.key]})},[createBaseVNode("td",_hoisted_29$2,[createTextVNode(toDisplayString$1(V.label)+" ",1),V.tip?(openBlock(),createElementBlock("svg",{key:0,viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:V.tip},I[13]||(I[13]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_30$2)):createCommentVNode("",!0)]),createBaseVNode("td",null,[b.value[V.key]?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":D=>$.value[V.key]=D,type:V.type||"text",onKeyup:[withKeys(D=>le(V.key),["enter"]),withKeys(D=>ve(V.key),["esc"])]},null,40,_hoisted_31$2)),[[vModelDynamic,$.value[V.key]]]):(openBlock(),createElementBlock("span",_hoisted_32$2,toDisplayString$1(r.value[V.key]),1))]),createBaseVNode("td",_hoisted_33$2,[createBaseVNode("button",{class:"edit-btn",onClick:D=>M(V.key)},[(openBlock(),createElementBlock("svg",_hoisted_35$2,[b.value[V.key]?(openBlock(),createElementBlock("path",_hoisted_36$2)):(openBlock(),createElementBlock("path",_hoisted_37$2))]))],8,_hoisted_34$2)])],2)),64)),X.value.length?(openBlock(),createElementBlock("tr",_hoisted_38$2,[createBaseVNode("td",_hoisted_39$2,[createTextVNode(toDisplayString$1(unref(a)("lora.trainedWords"))+" ",1),(openBlock(),createElementBlock("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"help-icon",title:unref(a)("lora.trainedWordsTip")},I[14]||(I[14]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1)]),8,_hoisted_40$2)),E.value.length?(openBlock(),createElementBlock("div",_hoisted_41$2,[createTextVNode(toDisplayString$1(unref(a)("lora.selectedWords",{count:E.value.length}))+" ",1),createBaseVNode("button",{class:"copy-btn",onClick:_e},toDisplayString$1(unref(a)("common.copy")),1)])):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_42$2,[createBaseVNode("ul",_hoisted_43$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ye.value?X.value.slice(0,10):X.value,(V,D)=>(openBlock(),createElementBlock("li",{key:"words-"+D,class:normalizeClass(["word-item",{"is-selected":ge(V.word),"is-hidden":ye.value&&D>=10}]),onClick:K=>ie(V.word)},[createBaseVNode("span",null,toDisplayString$1(V.word),1),V.civitai?(openBlock(),createElementBlock("svg",_hoisted_45$2,I[15]||(I[15]=[createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-7v4h3l-4 7z"},null,-1)]))):createCommentVNode("",!0),V.count!=null?(openBlock(),createElementBlock("small",_hoisted_46$2,toDisplayString$1(V.count),1)):createCommentVNode("",!0)],10,_hoisted_44$2))),128)),X.value.length>10?(openBlock(),createElementBlock("li",{key:0,class:"toggle-btn",onClick:ke},toDisplayString$1(ye.value?unref(a)("common.showMore"):unref(a)("common.showLess")),1)):createCommentVNode("",!0)])])])):createCommentVNode("",!0)])]),(C=r.value.images)!=null&&C.length?(openBlock(),createElementBlock("ul",_hoisted_47$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.images,(V,D)=>(openBlock(),createElementBlock("li",{key:D,class:"lora-detail__image-item"},[createBaseVNode("figure",null,[createBaseVNode("div",_hoisted_48$1,[createBaseVNode("div",{class:"image-action",onClick:K=>L(V.url)}," Lora ",8,_hoisted_49$1),createBaseVNode("img",{src:V.url},null,8,_hoisted_50$1)]),createBaseVNode("figcaption",_hoisted_51$1,[V.civitaiUrl?(openBlock(),createElementBlock("span",_hoisted_52$1,[createBaseVNode("a",{href:V.civitaiUrl,target:"_blank",class:"civitai-link"},I[16]||(I[16]=[createTextVNode(" C civitai "),createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})],-1)]),8,_hoisted_53$1)])):createCommentVNode("",!0),V.seed?(openBlock(),createElementBlock("span",_hoisted_54$1,[I[17]||(I[17]=createBaseVNode("label",null," seed",-1)),createTextVNode(" "+toDisplayString$1(V.seed),1)])):createCommentVNode("",!0),V.steps?(openBlock(),createElementBlock("span",_hoisted_55$1,[I[18]||(I[18]=createBaseVNode("label",null," steps",-1)),createTextVNode(" "+toDisplayString$1(V.steps),1)])):createCommentVNode("",!0),V.cfg?(openBlock(),createElementBlock("span",_hoisted_56$1,[I[19]||(I[19]=createBaseVNode("label",null," cfg",-1)),createTextVNode(" "+toDisplayString$1(V.cfg),1)])):createCommentVNode("",!0),V.sampler?(openBlock(),createElementBlock("span",_hoisted_57$1,[I[20]||(I[20]=createBaseVNode("label",null," sampler",-1)),createTextVNode(" "+toDisplayString$1(V.sampler),1)])):createCommentVNode("",!0),V.model?(openBlock(),createElementBlock("span",_hoisted_58$1,[I[21]||(I[21]=createBaseVNode("label",null," model",-1)),createTextVNode(" "+toDisplayString$1(V.model),1)])):createCommentVNode("",!0),V.positive?(openBlock(),createElementBlock("span",_hoisted_59$1,[I[22]||(I[22]=createBaseVNode("label",null," positive",-1)),createTextVNode(" "+toDisplayString$1(V.positive),1)])):createCommentVNode("",!0),V.negative?(openBlock(),createElementBlock("span",_hoisted_60$1,[I[23]||(I[23]=createBaseVNode("label",null," negative",-1)),createTextVNode(" "+toDisplayString$1(V.negative),1)])):createCommentVNode("",!0)])])]))),128))])):createCommentVNode("",!0)]))])]}),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),createVNode(loraRaw,{ref_key:"loraRawRef",ref:y},null,512)],64))}},loraDetail=_export_sfc(_sfc_main$b,[["__scopeId","data-v-ccdcfef4"]]),_hoisted_1$a={class:"header-actions"},_hoisted_2$8=["title"],_hoisted_3$8={class:"lora-info"},_hoisted_4$8={class:"lora-header"},_hoisted_5$7=["title"],_hoisted_6$7={class:"lora-actions"},_hoisted_7$7=["onClick","title"],_hoisted_8$7=["onClick","title"],_hoisted_9$7={class:"lora-weights"},_hoisted_10$6={class:"weight-item"},_hoisted_11$6=["onUpdate:modelValue"],_hoisted_12$6={class:"weight-item"},_hoisted_13$4=["onUpdate:modelValue"],_hoisted_14$4={class:"lora-footer"},_hoisted_15$4=["onClick","title"],_hoisted_16$4={viewBox:"0 0 24 24",width:"14",height:"14"},_hoisted_17$4={key:0,d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},_hoisted_18$3={key:1,d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},prefix$4="weilin_prompt_ui_",_sfc_main$a={__name:"lora_stack",props:{isOpen:{type:Boolean,default:!1},selectedLoras:{type:Array,default:[]}},emits:["close","update:selectedLoras"],setup(e,{expose:t,emit:n}){const{t:a}=useI18n(),s=e,r=n,o=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora"},"*")},i=g=>{g.hidden=!g.hidden,r("update:selectedLoras",s.selectedLoras)},l=g=>{console.log(s.selectedLoras),s.selectedLoras&&!s.selectedLoras.find(_=>_.name===g.name)&&(s.selectedLoras.push({name:g.name,weight:1,text_encoder_weight:1,...g}),r("update:selectedLoras",s.selectedLoras))},c=g=>{const _=s.selectedLoras.findIndex(f=>f.name===g.name);_>-1&&(s.selectedLoras.splice(_,1),r("update:selectedLoras",s.selectedLoras))},u=ref(),d=g=>{u.value.open({name:g.lora})};return window.addEventListener("message",g=>{g.data.type==="weilin_prompt_ui_selectLora"&&l(g.data.lora)}),t({addLora:l,removeLora:c}),(g,_)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$4}lora-stack`),style:normalizeStyle([{width:e.isOpen?"300px":"0"},{paddingRight:e.isOpen?"16px":"0"}])},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-header`)},[createBaseVNode("h3",{class:normalizeClass(`${prefix$4}lora-title`)},toDisplayString$1(unref(a)("controls.loraStack")),3),createBaseVNode("div",_hoisted_1$a,[createBaseVNode("button",{class:normalizeClass(`${prefix$4}add-btn`),onClick:o,title:unref(a)("controls.addLora")},_[1]||(_[1]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)]),10,_hoisted_2$8),createBaseVNode("button",{class:normalizeClass(`${prefix$4}close-btn`),onClick:_[0]||(_[0]=f=>g.$emit("close"))},_[2]||(_[2]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),2)])],2),createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$4}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.selectedLoras,f=>(openBlock(),createElementBlock("div",{key:f.name,class:normalizeClass(["lora-item",{"hidden-lora":f.hidden}])},[createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$8,[createBaseVNode("span",{class:"lora-name",title:f.name},toDisplayString$1(f.name),9,_hoisted_5$7),createBaseVNode("div",_hoisted_6$7,[createBaseVNode("button",{class:"look-on-btn",onClick:y=>d(f),title:unref(a)("controls.lookOnLora")},_[3]||(_[3]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[createBaseVNode("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),createBaseVNode("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),createBaseVNode("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),createBaseVNode("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)]),8,_hoisted_7$7),createBaseVNode("button",{class:"remove-btn",onClick:y=>c(f),title:unref(a)("controls.removeLora")},_[4]||(_[4]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_8$7)])]),createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$6,[createBaseVNode("label",null,toDisplayString$1(unref(a)("loraManager.modelWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":y=>f.weight=y,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_11$6),[[vModelText,f.weight]])]),createBaseVNode("div",_hoisted_12$6,[createBaseVNode("label",null,toDisplayString$1(unref(a)("loraManager.textEncoderWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":y=>f.text_encoder_weight=y,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_13$4),[[vModelText,f.text_encoder_weight]])])]),createBaseVNode("div",_hoisted_14$4,[createBaseVNode("button",{class:"hide-btn",onClick:y=>i(f),title:f.hidden?unref(a)("lora.showLora"):unref(a)("lora.hideLora")},[(openBlock(),createElementBlock("svg",_hoisted_16$4,[f.hidden?(openBlock(),createElementBlock("path",_hoisted_18$3)):(openBlock(),createElementBlock("path",_hoisted_17$4))])),createTextVNode(" "+toDisplayString$1(f.hidden?unref(a)("lora.showLora"):unref(a)("lora.hideLora")),1)],8,_hoisted_15$4)])])],2))),128))],2)],2)],2),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:u},null,512)],6))}},LoraStack=_export_sfc(_sfc_main$a,[["__scopeId","data-v-77ab3041"]]);function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i18nJsautotranslate$1={exports:{}},i18nJsautotranslate=i18nJsautotranslate$1.exports,hasRequiredI18nJsautotranslate;function requireI18nJsautotranslate(){return hasRequiredI18nJsautotranslate||(hasRequiredI18nJsautotranslate=1,function(module){if(typeof translate=="object"&&typeof translate.version=="string")throw new Error("translate.js  translate.js ");var translate={version:"3.13.12.20250307",useVersion:"v2",setUseVersion2:function(){translate.useVersion="v2",console.log(" v2.10 V2:"+translate.version+" translate.setUseVersion2() ")},translate:null,includedLanguages:"zh-CN,zh-TW,en",resourcesUrl:"//res.zvo.cn/translate",selectLanguageTag:{documentId:"translate",show:!0,languages:"",alreadyRender:!1,selectOnChange:function(e){var t=e.target.value;translate.changeLanguage(t)},refreshRender:function(){let e=document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage");e&&e.parentNode.removeChild(e),translate.selectLanguageTag.alreadyRender=!1,translate.selectLanguageTag.render()},customUI:function(e){var t=function(i){translate.selectLanguageTag.selectOnChange(i)},n=document.createElement("select");n.id=translate.selectLanguageTag.documentId+"SelectLanguage",n.className=translate.selectLanguageTag.documentId+"SelectLanguage";for(var a=translate.language.getCurrent(),s=0;s<e.length;s++){var r=document.createElement("option");if(r.setAttribute("value",e[s].id),translate.selectLanguageTag.languages.length>0){var o=(","+translate.selectLanguageTag.languages+",").toLowerCase();if(o.indexOf(","+e[s].id.toLowerCase()+",")<0)continue}a!=null&&typeof a<"u"&&a.length>0?a==e[s].id&&r.setAttribute("selected","selected"):e[s].id==translate.language.getLocal()&&r.setAttribute("selected","selected"),r.appendChild(document.createTextNode(e[s].name)),n.appendChild(r)}window.addEventListener?n.addEventListener("change",t,!1):n.attachEvent("onchange",t),document.getElementById(translate.selectLanguageTag.documentId).appendChild(n)},render:function(){if(!translate.selectLanguageTag.alreadyRender&&(translate.selectLanguageTag.alreadyRender=!0,!!translate.selectLanguageTag.show)){if(document.getElementById(translate.selectLanguageTag.documentId)==null){var e=document.getElementsByTagName("body");if(e.length==0){console.log("body tag not find, translate.selectLanguageTag.render() is not show Select Language");return}var t=e[0],n=document.createElement("div");n.id=translate.selectLanguageTag.documentId,t.appendChild(n)}else if(document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage")!=null)return;translate.request.post(translate.request.api.language,{},function(a){if(a.result==0){console.log("load language list error : "+a.info);return}translate.selectLanguageTag.customUI(a.list)},null)}}},localLanguage:"zh-CN",googleTranslateElementInit:function(){var e="";document.getElementById("translate")!=null&&(e="translate"),translate.translate=new google.translate.TranslateElement({pageLanguage:"zh-CN",includedLanguages:translate.selectLanguageTag.languages,layout:0},e)},execute_v1:function(){console.log("=====ERROR======"),console.log("The v1 version has been discontinued since 2022. Please use the latest V3 version and refer to: http://translate.zvo.cn/41162.html")},setCookie:function(e,t){var n=e+"="+escape(t);document.cookie=n},getCookie:function(e){for(var t=document.cookie,n=t.split("; "),a=0;a<n.length;a++){var s=n[a].split("=");if(s[0]==e)return unescape(s[1])}return""},currentLanguage:function(){var e=translate.getCookie("googtrans");return e.length>0?e.substr(e.lastIndexOf("/")+1,e.length-1):translate.localLanguage},changeLanguage:function(e){var t=",en,de,hi,lt,hr,lv,ht,hu,zh-CN,hy,uk,mg,id,ur,mk,ml,mn,af,mr,uz,ms,el,mt,is,it,my,es,et,eu,ar,pt-PT,ja,ne,az,fa,ro,nl,en-GB,no,be,fi,ru,bg,fr,bs,sd,se,si,sk,sl,ga,sn,so,gd,ca,sq,sr,kk,st,km,kn,sv,ko,sw,gl,zh-TW,pt-BR,co,ta,gu,ky,cs,pa,te,tg,th,la,cy,pl,da,tr,";if(t.indexOf(","+e+",")>-1){console.log("v1v12021v2 http://translate.zvo.cn/41549.html"),translate.check();var n="/"+translate.localLanguage+"/"+e,a=document.location.host.split(".");if(a.length>2){var s=a[a.length-2]+"."+a[a.length-1];document.cookie="googtrans=;expires="+new Date(1)+";domain="+s+";path=/",document.cookie="googtrans="+n+";domain="+s+";path=/"}translate.setCookie("googtrans",""+n),translate.refreshCurrentPage();return}if(translate.useVersion="v2",translate.to!=null&&translate.to.length>0&&translate.to!=translate.language.getLocal())var r=!0;if(translate.to=e,translate.storage.set("to",e),r)location.reload();else{translate.execute();const o=document.querySelectorAll("iframe");for(let i=0;i<o.length;i++){const c=o[i].contentWindow;typeof c.translate=="object"&&typeof c.translate.version=="string"&&c.translate.execute()}}},check:function(){window.location.protocol=="file:"&&console.log(`\r
---WARNING----\r
translate.js filehttphttps\r
------------`)},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(e){if(e==null||typeof e>"u")return!1;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var a=translate.element.getNodeName(t).toLowerCase();if(a.length>0){if(a=="body"||a=="html"||a=="#document")return!1;if(translate.ignore.tag.indexOf(a)>-1)return!0}if(t.className!=null){var s=t.className;if(s==null||typeof s!="string")continue;s=s.trim().split(" ");for(var r=0;r<s.length;r++)if(s[r]!=null&&s[r].trim().length>0&&translate.ignore.class.indexOf(s[r])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.ignore.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1},text:[]},refreshCurrentPage:function(){location.reload()},nomenclature:{data:new Array,old_Data:[],set:function(e){alert(" translate.nomenclature.set  append https://github.com/xnx3/translate ")},append:function(e,t,n){typeof translate.nomenclature.data[e]>"u"&&(translate.nomenclature.data[e]=new Array),typeof translate.nomenclature.data[e][t]>"u"&&(translate.nomenclature.data[e][t]=new Array);for(var a=n.split(`
`),s=0;s<a.length;s++){var r=a[s].trim();if(!(r.length<1)){var o=r.split("=");if(o.length==2){var i=o[0].trim(),l=o[1].trim();i.length==0||l.length==0||(translate.nomenclature.data[e][t][i]=l)}}}translate.nomenclature.data[e][t]=translate.util.objSort(translate.nomenclature.data[e][t])},get:function(){return translate.nomenclature.data},dispose:function(e){if(e==null||e.length==0||typeof translate.nomenclature.data[translate.language.getLocal()]>"u"||typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]>"u")return e;for(var t in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var n=translate.nomenclature.data[translate.language.getLocal()][translate.to][t];if(typeof n!="function"){var a=e.indexOf(t);if(a>-1)if(translate.language.getLocal()=="english"){var s="";if(a!=0){s=e.substr(a-1,1);var r=translate.language.getCharLanguage(s);if(r=="english"||r=="romance")continue}var o="";if(a+t.length!=e.length){o=e.substr(a+t.length,1);var r=translate.language.getCharLanguage(o);if(r=="english"||r=="romance")continue}e=e.replace(new RegExp(s+t+o,"g"),s+n+o)}else e=e.replace(new RegExp(t,"g"),n)}}return e}},office:{export:function(){if(translate.language.getLocal()==translate.language.getCurrent()){alert("");return}var e="";for(var t in translate.nodeQueue){translate.nodeQueue[t];for(var n in translate.nodeQueue[t].list)if(!(typeof n!="string"||n.length<1))for(var a in translate.nodeQueue[t].list[n])e=e+`
`+translate.nodeQueue[t].list[n][a].original+"="+translate.storage.get("hash_"+translate.language.getCurrent()+"_"+a)}e.length>0?(e="translate.office.append('"+translate.language.getCurrent()+"',`"+e+"\n`);",translate.util.loadMsgJs(),msg.popups({text:'<textarea id="msgPopupsTextarea" style="width:100%; height:100%; color: black; padding: 8px;">loaing...</textarea>',width:"750px",height:"600px",padding:"1px"}),document.getElementById("msgPopupsTextarea").value=e):msg.alert("")},showPanel:function(){let e=document.createElement("div");e.setAttribute("id","translate_export"),e.setAttribute("class","ignore");let t=document.createElement("button");t.onclick=function(){translate.office.export()},t.innerHTML="",t.setAttribute("style","margin-left: 72px; margin-top: 30px; margin-bottom: 20px; font-size: 25px; background-color: blue; padding: 15px; padding-top: 3px; padding-bottom: 3px; border-radius: 3px;"),e.appendChild(t);let n=document.createElement("div");n.innerHTML='1. <br/>2. <br/>3. <br/><a href="asd" target="_black" style="color: aliceblue;"></a>',n.setAttribute("style","font-size: 14px; padding: 12px;"),e.appendChild(n),e.setAttribute("style","background-color: black; color: #fff; width: 320px; height: 206px; position: fixed; bottom: 50px; right: 50px;"),document.body.appendChild(e),translate.util.loadMsgJs()},append:function(e,t){for(var n=t.split(`
`),a=0;a<n.length;a++){var s=n[a].trim();if(!(s.length<1)){var r=s.split("=");if(r.length==2){var o=r[0],i=r[1];o.length==0||i.length==0||translate.storage.set("hash_"+e+"_"+translate.util.hash(o),i)}}}}},setAutoDiscriminateLocalLanguage:function(){translate.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(e){e==null||typeof e>"u"||(typeof e.length>"u"?translate.documents[0]=e:translate.documents=e,translate.nodeQueue={})},getDocuments:function(){if(translate.documents!=null&&typeof translate.documents<"u"&&translate.documents.length>0)return translate.documents;var e=new Array;return e[0]=document.documentElement,e},listener:{isStart:!1,start:function(){translate.temp_linstenerStartInterval=setInterval(function(){if(document.readyState=="complete"){if(clearInterval(translate.temp_linstenerStartInterval),translate.language.getCurrent()==translate.language.getLocal()&&!translate.language.translateLocal)return;translate.listener.addListener()}},300)},ignoreNode:[],translateExecuteNodeIgnoreExpireTime:1e3,addIgnore:function(e,t){let n="";typeof e=="string"?n=e:n=nodeuuid.uuid(e),translate.listener.ignoreNode[n]=Date.now()+t},refreshIgnoreNode:function(){var e=Date.now();for(const t in translate.listener.ignoreNode)translate.listener.ignoreNode[t]<e&&delete translate.listener.ignoreNode[t]},addListener:function(){translate.listener.isStart=!0,translate.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},translate.listener.callback=function(a,s){var r=[];for(let d of a){let g=[];d.type==="childList"?d.addedNodes.length>0?g=d.addedNodes:d.removedNodes.length>0:d.type==="attributes"||d.type==="characterData"&&(g=[d.target]);for(let _ of g){for(var o=!1,i=0;i<r.length;i++)if(r[i].isSameNode(_)){o=!0;break}if(o)break;r.push.apply(r,[_])}}if(r.length>0){var l=[];for(let d of r){for(var c=!1,u=0;u<translate.inProgressNodes.length;u++)if(translate.inProgressNodes[u].node.isSameNode(d)){c=!0;break}if(c)continue;let g=nodeuuid.uuid(d);typeof translate.listener.ignoreNode[g]=="number"&&translate.listener.ignoreNode[g]>Date.now()||l.push(d)}if(l.length<1)return;setTimeout(function(){translate.execute(l)},10)}},translate.listener.observer=new MutationObserver(translate.listener.callback);for(var e=translate.getDocuments(),t=0;t<e.length;t++){var n=e[t];n!=null&&translate.listener.observer.observe(n,translate.listener.config)}},renderTaskFinish:function(e){},execute:{renderStartByApi:[],renderStartByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderStartByApi.length;t++)try{translate.listener.execute.renderStartByApi[t](e)}catch(n){console.log(n)}},renderFinishByApi:[],renderFinishByApiRun:function(e){for(var t=0;t<translate.listener.execute.renderFinishByApi.length;t++)try{translate.listener.execute.renderFinishByApi[t](e)}catch(n){console.log(n)}}}},renderTask:class{constructor(){this.taskQueue=[],this.nodes=[]}add(e,t,n,a){var s=translate.element.nodeAnalyse.get(e,a),r=translate.util.hash(s.text);typeof this.nodes[r]>"u"&&(this.nodes[r]=new Array),this.nodes[r].push(e);var o=this.taskQueue[r];(o==null||typeof o>"u")&&(o=new Array);var i=new Array;t.substr(0,1)==" "&&n.substr(0,1)!=" "&&(n=" "+n),t.substr(t.length-1,1)===" "&&n.substr(0,1)!=" "&&(n=n+" "),i.originalText=t,i.resultText=n,i.attribute=a,o.push(i),this.taskQueue[r]=o}execute(){for(var e in this.taskQueue){var t=this.taskQueue[e];typeof t!="function"&&(t.sort((i,l)=>l.originalText.length-i.originalText.length),this.taskQueue[e]=t)}translate.listener.refreshIgnoreNode();for(var e in this.nodes)for(var t=this.taskQueue[e],n=0;n<this.nodes[e].length;n++)for(var a=0;a<t.length;a++){var s=t[a];if(typeof t!="function"){var r=this.nodes[e][a];setTimeout(function(c){for(var u=0;u<translate.inProgressNodes.length;u++)if(translate.inProgressNodes[u].node.isSameNode(c)){translate.inProgressNodes[u].number=translate.inProgressNodes[u].number-1,translate.inProgressNodes[u].number<1&&translate.inProgressNodes.splice(u,1);break}},50,r),translate.listener.addIgnore(this.nodes[e][a],translate.listener.translateExecuteNodeIgnoreExpireTime),translate.element.nodeAnalyse.set(this.nodes[e][a],s.originalText,s.resultText,s.attribute)}}if(typeof this.taskQueue<"u"&&Object.keys(this.taskQueue).length>0){var o=this;setTimeout(function(){for(var i in o.nodes)for(var l in o.nodes[i]){var c=translate.element.nodeAnalyse.get(o.nodes[i][0]),u=nodeuuid.uuid(c.node);u.length!=0&&(translate.nodeHistory[u]={},translate.nodeHistory[u].node=c.node,translate.nodeHistory[u].translateText=c.text)}translate.listener.renderTaskFinish(o)},50)}}},state:0,waitingExecute:{queue:[],add:function(e){translate.waitingExecute.queue.push(e);let t=setInterval(function(){if(translate.state==0){clearInterval(t);var n=translate.waitingExecute.get();translate.execute(n)}},500)},get:function(){return translate.waitingExecute.queue.length>0?translate.waitingExecute.queue.shift():(console.log(" translate.waitingExecute.get quque"),null)},isAllExecuteFinish:function(e){for(var t in translate.translateRequest[e])for(var n=0;n<translate.translateRequest[e][t].length;n++)if(translate.translateRequest[e][t][n].executeFinish==0)return;translate.state=0,translate.executeNumber++,translate.listener.execute.renderFinishByApiRun(e)}},executeNumber:0,execute:function(e){if(translate.state!=0){console.log(""),translate.waitingExecute.add(e);return}translate.state=1,typeof e<"u"&&(translate.useVersion="v2"),translate.useVersion=="v1"&&(console.log("https://github.com/xnx3/translate  v2.5 v1v1v1v2v2"),translate.useVersion="v2");try{translate.init()}catch{}var t=translate.util.uuid();if(translate.to==null||translate.to==""){var n=translate.storage.get("to");n!=null&&typeof n<"u"&&n.length>0&&(translate.to=n)}try{translate.selectLanguageTag.render()}catch(k){console.log(k)}if(translate.to==null||typeof translate.to>"u"||translate.to.length==0){translate.autoDiscriminateLocalLanguage&&translate.executeByLocalLanguage(),translate.state=0;return}if(translate.to==translate.language.getLocal()&&!translate.language.translateLocal){translate.state=0;return}translate.images.execute();var a;typeof e<"u"&&e!=null?typeof e.length>"u"?(a=new Array,a[0]=e):a=e:a=translate.getDocuments(),a.length>500&&(console.log("------tip------"),console.log("translate.execute( docs ) docs.length 500 docs.length : "+a.length+" , http://translate.zvo.cn/43006.html  500"));for(var s=0;s<a.length&s<500;s++){var r=a[s];translate.element.whileNodes(t,r)}if(translate.language.translateLanguagesRange.length>0)for(var o in translate.nodeQueue[t].list)translate.language.translateLanguagesRange.indexOf(o)<0&&delete translate.nodeQueue[t].list[o];typeof translate.nodeQueue[t]>"u"&&(translate.nodeQueue[t]=new Array,translate.nodeQueue[t].list=[],console.log("--- translate.js warn tip  ---"),console.log("translate.js translate.js  translate.js  translate.execute() "));for(var o in translate.nodeQueue[t].list){for(var i in translate.nodeQueue[t].list[o])if(typeof translate.nodeQueue[t].list[o][i]!="function"){for(var l=translate.nodeQueue[t].list[o][i].nodes.length-1;l>-1;l--){var c=translate.element.nodeAnalyse.get(translate.nodeQueue[t].list[o][i].nodes[l].node),u=nodeuuid.uuid(c.node);typeof translate.nodeHistory[u]<"u"&&translate.nodeHistory[u].translateText==c.text&&translate.nodeQueue[t].list[o][i].nodes.splice(l,1)}translate.nodeQueue[t].list[o][i].nodes.length==0&&delete translate.nodeQueue[t].list[o][i]}Object.keys(translate.nodeQueue[t].list[o]).length==0&&delete translate.nodeQueue[t].list[o]}var d={},g={},_={},f=[];for(var o in translate.nodeQueue[t].list){if(o==null||typeof o>"u"||o.length==0||o=="undefined")continue;d[o]=[],g[o]=[];let x=new translate.renderTask;_[o]=[];for(var i in translate.nodeQueue[t].list[o])if(typeof translate.nodeQueue[t].list[o][i]!="function"){var y=translate.nodeQueue[t].list[o][i].original,w=translate.nodeQueue[t].list[o][i].translateText,b=y==w?i:translate.util.hash(w);translate.nodeQueue[t].list[o][i].cacheHash=b;var $=translate.storage.get("hash_"+translate.to+"_"+b);if($!=null&&$.length>0){for(var E=0;E<translate.nodeQueue[t].list[o][i].nodes.length;E++){for(var T=translate.nodeQueue[t].list[o][i].nodes[E].node,S=!1,A=0;A<translate.inProgressNodes.length;A++)translate.inProgressNodes[A].node.isSameNode(T)&&(translate.inProgressNodes[A].number++,S=!0);S||translate.inProgressNodes.push({node:T,number:1});var L=translate.nodeQueue[t].list[o][i].nodes[E].beforeText+$+translate.nodeQueue[t].list[o][i].nodes[E].afterText;x.add(translate.nodeQueue[t].list[o][i].nodes[E].node,y,L,translate.nodeQueue[t].list[o][i].nodes[E].attribute);for(var j=-1,s=0;s<_[o].length;s++)if(translate.nodeQueue[t].list[o][i].nodes[E].node.isSameNode(_[o][s].node)){j=s;break}for(var P=-1,s=0;s<f.length;s++)if(translate.nodeQueue[t].list[o][i].nodes[E].node.isSameNode(f[s].node)){P=s;break}j==-1&&(j=_[o].length,_[o][j]={},_[o][j].node=translate.nodeQueue[t].list[o][i].nodes[E].node,_[o][j].array=[]),P==-1&&(P=f.length,f[P]={},f[P].node=translate.nodeQueue[t].list[o][i].nodes[E].node,f[P].array=[]);var X=_[o][j].array.length;_[o][j].array[X]=L;var q=f[P].array.length;f[P].array[q]=L}continue}d[o].push(w),g[o].push(i)}x.execute()}for(var o in _){for(var M=Object.keys(translate.nodeQueue[t].list[o]),Z=M.length,s=0;s<_[o].length;s++){for(var le=0;le<f.length;le++)if(_[o][s].node.isSameNode(f[le].node)){_[o][s].array=f[le].array;break}_[o][s].array.sort(function(W,Q){return Q.length-W.length});for(var ve=translate.element.nodeAnalyse.get(_[o][s].node),he=ve.text,ie=0;ie<_[o][s].array.length;ie++)_[o][s].array[ie]<1||(he=he.replace(new RegExp(translate.util.regExp.pattern(_[o][s].array[ie]),"g"),translate.util.regExp.resultText(`
`)));for(var ge=he.split(`
`),_e=0;_e<ge.length;_e++)ge[_e]<1||translate.addNodeToQueue(t,ve.node,ge[_e])}var ye=Object.keys(translate.nodeQueue[t].list[o]),ke=ye.length;if(Z-ke!=0)for(var R=0;R<ye.length;R++){var I=ye[R];if(M.indexOf(I)==-1){var C=translate.nodeQueue[t].list[o][I],b=C.original==C.translateText?I:translate.util.hash(C.translateText);translate.nodeQueue[t].list[o][I].cacheHash=b,d[o].push(C.translateText),g[o].push(I)}}}var V=[];for(var o in translate.nodeQueue[t].list)typeof d[o]>"u"||d[o].length<1||o!=translate.to&&V.push(o);if(V.length==0){translate.state=0,translate.executeNumber++;return}for(var o in g)if(!(typeof g[o]>"u")&&!(g[o].length<1))for(var D=0;D<g[o].length;D++)for(var K=g[o][D],ue=0;ue<translate.nodeQueue[t].list[o][K].nodes.length;ue++){for(var T=translate.nodeQueue[t].list[o][K].nodes[ue].node,S=!1,A=0;A<translate.inProgressNodes.length;A++)translate.inProgressNodes[A].node.isSameNode(T)&&(translate.inProgressNodes[A].number++,S=!0);S||translate.inProgressNodes.push({node:T,number:1})}translate.state=20,translate.listener.execute.renderStartByApiRun(t);for(var re in V){var o=V[re];if(typeof d[o]>"u"||d[o].length<1){console.log(", typeof(translateTextArray[lang]) == 'undefined' || translateTextArray[lang].length < 1"),translate.state=0,translate.executeNumber++;return}(typeof translate.translateRequest[t]>"u"||translate.translateRequest[t]==null)&&(translate.translateRequest[t]={}),translate.translateRequest[t][o]={},translate.translateRequest[t][o].executeFinish=0,translate.translateRequest[t][o].addtime=Math.floor(Date.now()/1e3);var ne=translate.request.api.translate,pe={from:o,to:translate.to,text:encodeURIComponent(JSON.stringify(d[o]))};translate.request.post(ne,pe,function(x){if(x.result==0){translate.translateRequest[t][Y].result=2,translate.translateRequest[t][Y].executeFinish=1,translate.translateRequest[t][Y].stoptime=Math.floor(Date.now()/1e3),translate.waitingExecute.isAllExecuteFinish(t),console.log("=======ERROR START======="),console.log(d[x.from]),console.log("response : "+x.info),console.log("=======ERROR END  =======");return}if(typeof translate.nodeQueue[t]>"u"){console.log(" translate.js  translate.js  translate.js ");return}let W=new translate.renderTask;for(var Q=0;Q<g[x.from].length;Q++){var Y=x.from,U=x.text[Q];if(U!=null){U.toLowerCase().indexOf(d[x.from][Q].toLowerCase())>-1&&(U=d[x.from][Q]);var m=g[x.from][Q],v=translate.nodeQueue[t].list[Y][m].cacheHash,B="";try{B=translate.nodeQueue[t].list[Y][m].original}catch(oe){console.log("uuid:"+t+", originalWord:"+B+", lang:"+Y+", hash:"+m+", text:"+U+", queue:"+translate.nodeQueue[t]),console.log(oe);continue}for(var F=0;F<translate.nodeQueue[t].list[Y][m].nodes.length;F++)W.add(translate.nodeQueue[t].list[Y][m].nodes[F].node,B,translate.nodeQueue[t].list[Y][m].nodes[F].beforeText+U+translate.nodeQueue[t].list[Y][m].nodes[F].afterText,translate.nodeQueue[t].list[Y][m].nodes[F].attribute);translate.storage.set("hash_"+x.to+"_"+v,U)}}W.execute(),translate.translateRequest[t][Y].result=1,translate.translateRequest[t][Y].executeFinish=1,translate.translateRequest[t][Y].stoptime=Math.floor(Date.now()/1e3),setTimeout(function(){translate.waitingExecute.isAllExecuteFinish(t)},10)},function(x){translate.translateRequest[t][o].executeFinish=1,translate.translateRequest[t][o].stoptime=Math.floor(Date.now()/1e3),translate.translateRequest[t][o].result=3,translate.waitingExecute.isAllExecuteFinish(t)})}},translateRequest:{},nodeHistory:{},element:{tagAttribute:{},nodeAnalyse:{get:function(e,t){return translate.element.nodeAnalyse.analyse(e,"","",t)},set:function(e,t,n,a){translate.element.nodeAnalyse.analyse(e,t,n,a)},analyse:function(e,t,n,a){var s=new Array;s.node=e,s.text="";var r=translate.element.getNodeName(e);if(a!=null&&typeof a=="string"&&a.length>0){if(s.text=e[a],typeof t<"u"&&t.length>0){typeof e[a]<"u"&&(e[a]=e[a].replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)));var o=e.getAttribute(a);o!=null&&typeof o<"u"&&e.setAttribute(a,o.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n)))}return s}if(r=="#text"&&typeof e.parentNode<"u"){var i=translate.element.getNodeName(e.parentNode);i=="TEXTAREA"&&(r="TEXTAREA",e=e.parentNode)}if(r=="INPUT"||r=="TEXTAREA"){if(e.attributes==null||typeof e.attributes>"u")return s.text="",s;if(r=="INPUT"&&typeof e.attributes.type<"u"&&typeof e.attributes.type.nodeValue!=null&&(e.attributes.type.nodeValue.toLowerCase()=="button"||e.attributes.type.nodeValue.toLowerCase()=="submit")){var l=e.attributes.value;if(l!=null&&typeof l<"u"&&typeof l.nodeValue<"u"&&l.nodeValue.length>0)return typeof t<"u"&&t.length>0&&(l.nodeValue=l.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),s.text=l.nodeValue,s.node=l,s}return typeof e.attributes.placeholder<"u"?(typeof t<"u"&&t.length>0&&(e.attributes.placeholder.nodeValue=e.attributes.placeholder.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),s.text=e.attributes.placeholder.nodeValue,s.node=e.attributes.placeholder,s):(s.text="",s)}if(r=="META"){if(typeof e.name<"u"&&e.name!=null){var c=e.name.toLowerCase(),u=e.getAttribute("property"),d="";if(typeof u<"u"&&u!=null&&u.length>0&&(d=u.toLowerCase()),c=="keywords"||c=="description"||c=="sharetitle"||d=="og:title"||d=="og:description"||d=="og:site_name"||d=="og:novel:latest_chapter_name")return typeof t<"u"&&t!=null&&t.length>0&&(e.content=e.content.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),s.text=e.content,s}return s.text="",s}return r=="IMG"?typeof e.alt>"u"||e.alt==null?(s.text="",s):(typeof t<"u"&&t.length>0&&(e.alt=e.alt.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),s.text=e.alt,s):(e.nodeValue==null||typeof e.nodeValue>"u"||e.nodeValue.trim().length==0?s.text="":(typeof t<"u"&&t!=null&&t.length>0&&(e.nodeValue=e.nodeValue.replace(new RegExp(translate.util.regExp.pattern(t),"g"),translate.util.regExp.resultText(n))),s.text=e.nodeValue),s)}},getNodeName:function(e){if(e==null||typeof e>"u"||e.nodeName==null||typeof e.nodeName>"u")return"";var t=e.nodeName;return t},whileNodes:function(e,t){if(!(t==null||typeof t>"u")){(typeof translate.nodeQueue[e]>"u"||translate.nodeQueue[e]==null)&&(translate.nodeQueue[e]=new Array,translate.nodeQueue[e].expireTime=Date.now()+120*1e3,translate.nodeQueue[e].list=new Array),typeof t=="object"&&typeof t.title=="string"&&t.title.length>0&&(translate.ignore.isIgnore(t)||translate.addNodeToQueue(e,t,t.title,"title"));var n=translate.element.getNodeName(t).toLowerCase();if(typeof translate.element.tagAttribute[n]<"u")for(var a in translate.element.tagAttribute[n]){var s=translate.element.tagAttribute[n][a],r=t.getAttribute(s);(typeof r>"u"||r==null)&&(r=t[s]),!(typeof r>"u"||r==null)&&translate.addNodeToQueue(e,t,r,s)}var o=t.childNodes;if(!(o==null||typeof o>"u"))if(o.length>0)for(var i=0;i<o.length;i++)translate.element.whileNodes(e,o[i]);else translate.element.findNode(e,t)}},findNode:function(e,t){if(!(t==null||typeof t>"u")&&t.parentNode!=null){var n=translate.element.getNodeName(t.parentNode);if(n!=""&&!(translate.ignore.tag.indexOf(n.toLowerCase())>-1)&&!translate.ignore.isIgnore(t)){var a=translate.element.nodeAnalyse.get(t);a.text.length>0&&translate.addNodeToQueue(e,a.node,a.text)}}}},addNodeToQueue:function(e,t,n,a){if(!(t==null||n==null||n.length==0)){var s=translate.element.getNodeName(t);if(s.toLowerCase()!="#comment"){if(translate.util.hash(n),translate.util.findTag(n)){if(t.parentNode==null)return;var r=translate.element.getNodeName(t.parentNode);if(r=="SCRIPT"||r=="STYLE")return}var o=new Array;o.push(n);for(var i=0;i<translate.ignore.text.length;i++)translate.ignore.text[i].trim().length!=0&&(o=translate.addNodeToQueueTextAnalysis(e,t,o,a,translate.ignore.text[i],translate.ignore.text[i]));if(typeof translate.temp_nomenclature>"u"&&(translate.temp_nomenclature=new Array),typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(l=new Array),typeof translate.nomenclature.data[translate.language.getLocal()]<"u"&&typeof translate.nomenclature.data[translate.language.getLocal()][translate.to]<"u"){var l;for(var c in translate.nomenclature.data[translate.language.getLocal()][translate.to]){var u=translate.nomenclature.data[translate.language.getLocal()][translate.to][c];o=translate.addNodeToQueueTextAnalysis(e,t,o,a,c,u),typeof l<"u"&&l.push(c)}typeof translate.temp_nomenclature[translate.language.getLocal()]>"u"&&(translate.temp_nomenclature[translate.language.getLocal()]=l)}for(var d=0;d<o.length;d++)o[d].trim().length!=0&&(translate.ignore.text.indexOf(o[d].trim())>-1||typeof translate.temp_nomenclature[translate.language.getLocal()]<"u"&&translate.temp_nomenclature[translate.language.getLocal()].indexOf(o[d].trim())>-1||translate.addNodeToQueueAnalysis(e,t,o[d],a))}}},addNodeToQueueTextAnalysis:function(e,t,n,a,s,r){for(var o=new Array,i=0;i<n.length;i++){var l=n[i];if(l.trim()!=r.trim()){var c=l.indexOf(s);if(c>-1){if(s!=r){var u=c-r.length;u<0&&(u=0);var d=c+r.length;d>l.length&&(d=l.length);var g=l.substring(u,d);if(g.indexOf(r)>-1)continue}if(translate.language.wordBlankConnector(translate.to)){if(c>0){var _=l.charAt(c-1);/\s/.test(_)||(r=" "+r)}c+s.length<l.length&&(l.charAt(c+s.length),/\s/.test(_)||(r=r+" "))}s!=r&&translate.element.nodeAnalyse.set(t,s,r,a);for(var f=l.split(s),y=0;y<f.length;y++){var w=f[y];w.trim().length!=0&&(n.push(w),o.push(l))}}}}if(o.length>0)for(var b=0;b<o.length;b++){let $=n.indexOf(o[b]);$>-1&&n.splice($,1)}return n},addNodeToQueueAnalysis:function(e,t,n,a){var s=translate.language.recognition(n),r=s.languageArray;typeof r[translate.to]<"u"&&delete r[translate.to];var o=translate.whole.isWhole(t);if(o){var i=s.languageName;translate.addNodeQueueItem(e,t,n,a,i,"","")}else for(var i in r)for(var l=0;l<r[i].list.length;l++)if(!(typeof r[i].list[l]>"u"||typeof r[i].list[l].text>"u")){var c=r[i].list[l].text,u=r[i].list[l].beforeText,d=r[i].list[l].afterText;translate.addNodeQueueItem(e,t,c,a,i,u,d)}},addNodeQueueItem:function(e,t,n,a,s,r,o){(translate.nodeQueue[e].list[s]==null||typeof translate.nodeQueue[e].list[s]>"u")&&(translate.nodeQueue[e].list[s]=new Array);var i=translate.util.hash(n);(translate.nodeQueue[e].list[s][i]==null||typeof translate.nodeQueue[e].list[s][i]>"u")&&(translate.nodeQueue[e].list[s][i]=new Array,translate.nodeQueue[e].list[s][i].nodes=new Array,translate.nodeQueue[e].list[s][i].original=n,translate.nodeQueue[e].list[s][i].translateText=n);var l=!1;if(typeof t.isSameNode<"u"){for(var c=0;c<translate.nodeQueue[e].list[s][i].nodes.length;c++)if(t.isSameNode(translate.nodeQueue[e].list[s][i].nodes[c].node)){l=!0;continue}}if(!l){var u=translate.nodeQueue[e].list[s][i].nodes.length;translate.nodeQueue[e].list[s][i].nodes[u]=new Array,translate.nodeQueue[e].list[s][i].nodes[u].node=t,translate.nodeQueue[e].list[s][i].nodes[u].attribute=a,translate.nodeQueue[e].list[s][i].nodes[u].beforeText=r,translate.nodeQueue[e].list[s][i].nodes[u].afterText=o}},whole:{isEnableAll:!1,enableAll:function(){translate.whole.isEnableAll=!0},class:[],tag:[],id:[],executeTip:function(){translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0||console.log(" translate.whole  http://translate.zvo.cn/42557.html "),translate.whole.tag.indexOf("html")>-1&&console.log(" translate.whole.tag  html  body ")},isWhole:function(e){if(translate.whole.class.length==0&&translate.whole.tag.length==0&&translate.whole.id.length==0&&translate.whole.isEnableAll==!1||e==null||typeof e>"u")return!1;if(translate.whole.isEnableAll)return!0;for(var t=e,n=100;n-- >0;){if(t==null||typeof t>"u")return!1;var a=translate.element.getNodeName(t).toLowerCase();if(a.length>0){if(a=="html"||a=="#document")return!1;if(translate.whole.tag.indexOf(a)>-1)return!0}if(t.className!=null){var s=t.className;if(s==null||typeof s!="string")continue;s=s.trim().split(" ");for(var r=0;r<s.length;r++)if(s[r]!=null&&s[r].trim().length>0&&translate.whole.class.indexOf(s[r])>-1)return!0}if(t.id!=null&&typeof t.id<"u"&&translate.whole.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1}},language:{englishVarietys:["french","italian","deutsch"],local:"",translateLocal:!1,translateLanguagesRange:[],setLocal:function(e){translate.useVersion="v2",translate.language.local=e},getLocal:function(){return(translate.language.local==null||translate.language.local.length<1)&&translate.language.autoRecognitionLocalLanguage(),translate.language.local},getCurrent:function(){var e=translate.storage.get("to");return e!=null&&typeof e<"u"&&e.length>0?e:translate.language.getLocal()},setDefaultTo:function(e){var t=translate.storage.get("to");t!=null&&typeof t<"u"&&t.length>0||(translate.storage.set("to",e),translate.to=e)},clearCacheLanguage:function(){translate.to="",translate.storage.set("to","")},setUrlParamControl:function(e){(typeof e>"u"||e.length<1)&&(e="language");var t=translate.util.getUrlParam(e);typeof t>"u"||t==""||t=="null"||t=="undefined"||(translate.storage.set("to",t),translate.to=t)},autoRecognitionLocalLanguage:function(){if(!(translate.language.local!=null&&translate.language.local.length>2)){var e=document.body.outerText;if(e==null||typeof e>"u"||e.length<1){translate.language.local="chinese_simplified";return}e=e.replace(/\n|\t|\r/g,""),translate.language.local="chinese_simplified";var t=translate.language.recognition(e);return translate.language.local=t.languageName,translate.language.local}},get:function(e){for(var t=new Array,n=new Array,a=[],s=[],r=0;r<e.length;r++){var o=e.charAt(r),i=translate.language.getCharLanguage(o);i==""&&(i="unidentification");var l=translate.language.analyse(i,n,a,s,o);n=l.langStrs,typeof a.language<"u"&&(s.language=a.language,s.charstr=a.charstr,s.storage_language=a.storage_language),a.language=l.storage_language,a.charstr=o,a.storage_language=l.storage_language,t.push(i)}return typeof n.unidentification<"u"&&delete n.unidentification,typeof n.specialCharacter<"u"&&delete n.specialCharacter,typeof n.number<"u"&&delete n.number,n},recognition:function(e){var t=translate.language.get(e),n=[],a=[],s=0;for(var r in t)if(typeof t[r]=="object"){for(var o=0,i=0;i<t[r].length;i++)o=o+t[r][i].text.length;s=s+o,n[r]=o,a[r]=o}var l=[];for(var c in n)n[c]/s>.01&&(l[l.length]=c+"");if(l.length>1&&l.indexOf("english")>-1)if(l.indexOf("romance")>-1){var u=translate.language.romanceSentenceAnaly(e);u.length==0?console.log("     "+e+"  https://translate.zvo.cn/4030.html"):(n[u]=n.romance+n.english,n.english=0)}else n.english=0;l.indexOf("chinese_simplified")>-1&&l.indexOf("chinese_traditional")>-1&&(n.chinese_simplified=0);var d="",g=0;for(var c in n)n[c]>g&&(d=c,g=n[c]);var _={};for(var c in t)_[c]={},_[c].number=a[c],_[c].list=t[c];var f={languageName:d,languageArray:_};if(f.languageName=="english"){var y=translate.language.getLocal();translate.language.englishVarietys.indexOf(y)>-1&&(f.languageName=y)}return f},getCharLanguage:function(e){if(e==null||typeof e>"u")return"";if(this.russian(e))return"russian";if(this.english(e))return"english";if(this.romance(e))return"romance";if(this.specialCharacter(e))return"specialCharacter";if(this.number(e))return"number";var t=this.chinese(e);return t=="simplified"?"chinese_simplified":t=="traditional"?"chinese_traditional":this.japanese(e)?"japanese":this.korean(e)?"korean":""},analyse:function(e,t,n,a,s){typeof t[e]>"u"&&(t[e]=new Array);var r=0;typeof n.storage_language>"u"||(translate.language.connector(s)&&(e=n.storage_language),n.storage_language==e?r=t[e].length-1:r=t[e].length),typeof t[e][r]>"u"&&(t[e][r]=new Array,t[e][r].beforeText="",t[e][r].afterText="",t[e][r].text=""),t[e][r].text=t[e][r].text+s,translate.language.wordBlankConnector(translate.language.getLocal())==!1&&translate.language.wordBlankConnector(translate.to)&&n.storage_language!=null&&typeof n.storage_language<"u"&&n.storage_language.length>0&&n.storage_language!="specialCharacter"&&(translate.language.wordBlankConnector(n.storage_language)==!1&&translate.language.wordBlankConnector(e)?t[n.storage_language][t[n.storage_language].length-1].afterText=" ":n.storage_language=="english"&&e!="english"&&(t[e][r].beforeText=" "));var o=new Array;return o.langStrs=t,o.storage_language=e,o},connector:function(e){return!!(/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(e)||/.*[\u0030-\u0039]+.*$/.test(e)||/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(e)||/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(e))},wordBlankConnector:function(e){if(e==null||typeof e>"u")return!0;switch(e.trim().toLowerCase()){case"chinese_simplified":return!1;case"chinese_traditional":return!1;case"korean":return!1;case"japanese":return!1}return!0},chinese_traditional_dict:"",chinese:function(e){return/.*[\u4e00-\u9fa5]+.*$/.test(e)?this.chinese_traditional_dict.indexOf(e)>-1?"traditional":"simplified":""},japanese:function(e){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(e)},korean:function(e){return!!/.*[\uAC00-\uD7AF]+.*$/.test(e)},russian:function(e){return!!/.*[\u0411\u0412\u0414\u0416\u0417\u0418\u0419\u041B\u041C\u041D\u041E\u041F\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042E\u042F\u0407\u0406]+.*$/.test(e)},number:function(e){return!!/.*[\u0030-\u0039]+.*$/.test(e)},english:function(e){return/.*[\u0041-\u005a]+.*$/.test(e)?!0:!!/.*[\u0061-\u007a]+.*$/.test(e)},romance_dict:["","","","","","","","","","","","",""],romance:function(e){return this.romance_dict.indexOf(e)>-1},romanceSentenceAnaly:function(e){const t={french:{score:0,chars:["","","","","",""]},spanish:{score:0,chars:["","",""],pairs:["ll"]},italian:{score:0,chars:["",""],pairs:["cc","ss"]},portuguese:{score:0,chars:["",""]}};for(let s=0;s<e.length;s++){const r=e[s].toLowerCase();if(Object.keys(t).forEach(o=>{t[o].chars.includes(r)&&(t[o].score+=1)}),s<e.length-1){const o=e.slice(s,s+2).toLowerCase();Object.keys(t).forEach(i=>{const l=t[i].pairs;l&&l.includes(o)&&(t[i].score+=2)})}}let n="",a=-1;return Object.keys(t).forEach(s=>{t[s].score>a&&(a=t[s].score,n=s)}),n||""},specialCharacter:function(e){return!!(/.*[\u2460-\u24E9]+.*$/.test(e)||/.*[\u2500-\u25FF]+.*$/.test(e)||/.*[\u3200-\u33FF]+.*$/.test(e)||/.*[\uFF00-\uFF5E]+.*$/.test(e)||/.*[\u2000-\u22FF]+.*$/.test(e)||/.*[\u3001-\u3036]+.*$/.test(e)||/.*[\u0020-\u002F]+.*$/.test(e)||/.*[\u003B\u003B\u003C\u003D\u003E\u003F\u005B\u005C\u005D\u005E\u005F\u0060\u007B\u007C\u007D\u007E]+.*$/.test(e)||/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(e)||/.*[\u2000-\u200B]+.*$/.test(e)||/.*[\u00A1-\u0105]+.*$/.test(e)||/.*[\u2C60-\u2C77]+.*$/.test(e))}},executeByLocalLanguage:function(){var e=translate.util.browserDefaultLanguage();if(typeof e<"u"&&e.length>0){translate.changeLanguage(e);return}translate.request.post(translate.request.api.ip,{},function(t){t.result==0?(console.log("==== ERROR  ===="),console.log(t.info),console.log("==== ERROR END ====")):(translate.storage.set("to",t.language),translate.to=t.language,translate.selectLanguageTag,translate.execute())},null)},util:{uuid:function(){var e=new Date().getTime();window.performance&&typeof window.performance.now=="function"&&(e+=performance.now());var t="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var a=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n=="x"?a:a&3|8).toString(16)});return t},findTag:function(e){var t=/<[^>]+>/g;return t.test(e)},arrayFindMaxNumber:function(e){for(var t={},n=[],a=0,s=0,r=e.length;s<r;s++)t[e[s]]?t[e[s]]++:t[e[s]]=1,t[e[s]]>a&&(a=t[e[s]]);for(var o in t)t[o]===a&&n.push(o);return n},hash:function(e){if(e==null||typeof e>"u")return e;var t=0,n,a;if(e.length===0)return t;for(n=0;n<e.length;n++)a=e.charCodeAt(n),t=(t<<5)-t+a,t|=0;return t+""},charReplace:function(e){return e==null?"":(e=e.trim(),e=e.replace(/\t|\n|\v|\r|\f/g,""),e)},regExp:{pattern:function(e){return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\"/g,'\\"'),e=e.replace(/\?/g,"\\?"),e=e.replace(/\$/g,"\\$"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\|/g,"\\|"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\*/g,"\\*"),e=e.replace(/\[/g,"\\["),e=e.replace(/\]/g,"\\]"),e=e.replace(/\^/g,"\\^"),e=e.replace(/\{/g,"\\{"),e=e.replace(/\}/g,"\\}"),e},resultText:function(e){return e}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):""},synchronizesLoadJs:function(e){var t=null;if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch{t=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(t=new XMLHttpRequest);if(t.open("GET",e,!1),t.send(null),t.readyState==4)if(t.status>=200&&t.status<300||t.status==0||t.status==304){var n=document.getElementsByTagName("HTML")[0],a=document.createElement("script");a.language="javascript",a.type="text/javascript";try{a.appendChild(document.createTextNode(t.responseText))}catch{a.text=t.responseText}return n.appendChild(a),!0}else return!1;else return!1},loadMsgJs:function(){typeof msg<"u"||translate.util.synchronizesLoadJs("https://res.zvo.cn/msg/msg.js")},objSort:function(e){var t=Array.from(Object.keys(e));t.sort(function(s,r){return r.length-s.length});var n=new Array;for(var a of t)n[a]=e[a];return n},versionStringToInt:function(e){var t=e.split("."),n=0;return n=parseInt(t[0])*1e3*1e3+n,n=parseInt(t[1])*1e3+n,n=parseInt(t[2])+n,n},split:function(e,t,n){let a=t,s=[];if(JSON.stringify(e).length<=t)s.push(e);else{let r=JSON.stringify(e).trim().substring(1,JSON.stringify(e).length-1);if(JSON.stringify(e).length-t<=2){t=t-4;let o=r.substring(0,r.lastIndexOf('","')+1),i=r.substring(r.lastIndexOf('","')+2);s.push(JSON.parse("["+o+"]")),s.push(JSON.parse("["+i+"]"))}else{t=t-2;let o=0;for(;o-r.length<0;){let i="";o+t-r.length>=0?i=r.substring(o):i=r.substring(o,o+t);let l=i.length,c=1;i.endsWith('"')?i.endsWith('","')?l-=2:i.startsWith('"')||(l=i.lastIndexOf('","')+1):i.endsWith('",')?l-=1:(l=i.lastIndexOf('","')+1,l<=0&&(i.startsWith('"')?l=i.length-1:l=i.length-2,i.endsWith('"')||(c=0)));let u="";l-i.length>0||l-0==0?(u=i,l=l+u.length):u=i.substring(0,l),!u.startsWith('"')&&!u.startsWith(',"')&&(u='"'+u),u.endsWith('"')||(u=u+'"'),o+=l+c,u="["+u+"]";try{s.push(JSON.parse(u))}catch{o=o-(l+c)+1}}}}return n&&n>0&&(s=translate.util._splitMaxSize(s,a,n)),s},_splitMaxSize:function(e,t,n){let a=[],s=[];if(e.forEach(function(r,o){if(r=s.concat(r),r.length>n){let l=r.slice(0,n),c=r.slice(n),u=1;for(;JSON.stringify(l).length>t&&(l=r.slice(0,n-u),c=r.slice(n-u),u++,!(u>=r.length+1)););a.push(l),s.length=0,s=c}else{let l=r,c=[],u=1;for(;JSON.stringify(l).length>t&&(l=r.slice(0,n-u),c=r.slice(n-u),u++,!(u>=r.length+1)););a.push(l),s.length=0,s=c}}),s.length>0){let r=[];r.push(s);let o=translate.util._splitMaxSize(r,t,n);a=a.concat(o)}return a},browserLanguage:{"zh-CN":"chinese_simplified","zh-TW":"chinese_traditional","zh-HK":"chinese_traditional",co:"corsican",gn:"guarani",rw:"kinyarwanda",ha:"hausa",no:"norwegian",nl:"dutch",yo:"yoruba",en:"english","en-US":"english",kok:"gongen",la:"latin",ne:"nepali",fr:"french",cs:"czech",haw:"hawaiian",ka:"georgian",ru:"russian",fa:"persian",bho:"bhojpuri",hi:"hindi",be:"belarusian",sw:"swahili",is:"icelandic",yi:"yiddish",tw:"twi",ga:"irish",gu:"gujarati",km:"khmer",sk:"slovak",he:"hebrew",kn:"kannada",hu:"hungarian",ta:"tamil",ar:"arabic",bn:"bengali",az:"azerbaijani",sm:"samoan",af:"afrikaans",id:"indonesian",da:"danish",sn:"shona",bm:"bambara",lt:"lithuanian",vi:"vietnamese",mt:"maltese",tk:"turkmen",as:"assamese",ca:"catalan",si:"singapore",ceb:"cebuano",gd:"scottish-gaelic",sa:"sanskrit",pl:"polish",gl:"galician",lv:"latvian",uk:"ukrainian",tt:"tatar",cy:"welsh",ja:"japanese",fil:"filipino",ay:"aymara",lo:"lao",te:"telugu",ro:"romanian",ht:"haitian_creole",doi:"dogrid",sv:"swedish",mai:"maithili",th:"thai",hy:"armenian",my:"burmese",ps:"pashto",hmn:"hmong",dv:"dhivehi",lb:"luxembourgish",sd:"sindhi",ku:"kurdish",tr:"turkish",mk:"macedonian",bg:"bulgarian",ms:"malay",lg:"luganda",mr:"marathi",et:"estonian",ml:"malayalam",de:"deutsch",sl:"slovene",ur:"urdu",pt:"portuguese",ig:"igbo",ckb:"kurdish_sorani",om:"oromo",el:"greek",es:"spanish",fy:"frisian",so:"somali",am:"amharic",ny:"nyanja",pa:"punjabi",eu:"basque",it:"italian",sq:"albanian",ko:"korean",tg:"tajik",fi:"finnish",ky:"kyrgyz",ee:"ewe",hr:"croatian",kri:"creole",qu:"quechua",bs:"bosnian",mi:"maori"},browserDefaultLanguage:function(){var e=navigator.language||navigator.userLanguage;if(typeof e=="string"&&e.length>0){var t=translate.util.browserLanguage[e];if(typeof t>"u")console.log("browser default language : "+e+", translate.js current translate channel not support this language ");else return t}return""}},service:{name:"translate.service",use:function(e){if(translate.enterprise.isUse==!0){console.log(" translate.enterprise.use(); (https://translate.zvo.cn/4087.html) ,  translate.service.use('"+e+"'); (https://translate.zvo.cn/4081.html) ");return}typeof e=="string"&&e=="client.edge"&&(translate.service.name=e,translate.whole.enableAll())},edge:{api:{auth:"https://edge.microsoft.com/translate/auth",translate:"https://api.cognitive.microsofttranslator.com/translate?from={from}&to={to}&api-version=3.0&includeSentenceLength=true"},language:{json:[{id:"ukrainian",name:"",serviceId:"uk"},{id:"norwegian",name:"Norge",serviceId:"no"},{id:"welsh",name:"Iaith Weleg",serviceId:"cy"},{id:"dutch",name:"nederlands",serviceId:"nl"},{id:"japanese",name:"",serviceId:"ja"},{id:"filipino",name:"Pilipino",serviceId:"fil"},{id:"english",name:"English",serviceId:"en"},{id:"lao",name:"",serviceId:"lo"},{id:"telugu",name:"Name",serviceId:"te"},{id:"romanian",name:"Romn",serviceId:"ro"},{id:"nepali",name:"Name",serviceId:"ne"},{id:"french",name:"Franais",serviceId:"fr"},{id:"haitian_creole",name:"Kreyl ayisyen",serviceId:"ht"},{id:"czech",name:"esk",serviceId:"cs"},{id:"swedish",name:"Svenska",serviceId:"sv"},{id:"russian",name:" ",serviceId:"ru"},{id:"malagasy",name:"Malagasy",serviceId:"mg"},{id:"burmese",name:"",serviceId:"my"},{id:"pashto",name:"Name",serviceId:"ps"},{id:"thai",name:"",serviceId:"th"},{id:"armenian",name:"",serviceId:"hy"},{id:"chinese_simplified",name:"",serviceId:"zh-CHS"},{id:"persian",name:"Persian",serviceId:"fa"},{id:"chinese_traditional",name:"",serviceId:"zh-CHT"},{id:"kurdish",name:"Kurd",serviceId:"ku"},{id:"turkish",name:"Trke",serviceId:"tr"},{id:"hindi",name:"",serviceId:"hi"},{id:"bulgarian",name:"",serviceId:"bg"},{id:"malay",name:"Malay",serviceId:"ms"},{id:"swahili",name:"Kiswahili",serviceId:"sw"},{id:"oriya",name:"",serviceId:"or"},{id:"icelandic",name:"slandName",serviceId:"is"},{id:"irish",name:"ris",serviceId:"ga"},{id:"khmer",name:"Name",serviceId:"km"},{id:"gujarati",name:"",serviceId:"gu"},{id:"slovak",name:"Slovensk",serviceId:"sk"},{id:"kannada",name:"Name",serviceId:"kn"},{id:"hebrew",name:"",serviceId:"he"},{id:"hungarian",name:"magyar",serviceId:"hu"},{id:"marathi",name:"Name",serviceId:"mr"},{id:"tamil",name:"",serviceId:"ta"},{id:"estonian",name:"eesti keel",serviceId:"et"},{id:"malayalam",name:"",serviceId:"ml"},{id:"inuktitut",name:"",serviceId:"iu"},{id:"arabic",name:"",serviceId:"ar"},{id:"deutsch",name:"Deutsch",serviceId:"de"},{id:"slovene",name:"slovenina",serviceId:"sl"},{id:"bengali",name:"",serviceId:"bn"},{id:"urdu",name:"",serviceId:"ur"},{id:"azerbaijani",name:"azerbaijani",serviceId:"az"},{id:"portuguese",name:"portugus",serviceId:"pt"},{id:"samoan",name:"lifiava",serviceId:"sm"},{id:"afrikaans",name:"afrikaans",serviceId:"af"},{id:"tongan",name:"",serviceId:"to"},{id:"greek",name:"",serviceId:"el"},{id:"indonesian",name:"IndonesiaName",serviceId:"id"},{id:"spanish",name:"Espaol",serviceId:"es"},{id:"danish",name:"dansk",serviceId:"da"},{id:"amharic",name:"amharic",serviceId:"am"},{id:"punjabi",name:"Name",serviceId:"pa"},{id:"albanian",name:"albanian",serviceId:"sq"},{id:"lithuanian",name:"Lietuva",serviceId:"lt"},{id:"italian",name:"italiano",serviceId:"it"},{id:"vietnamese",name:"Ting Vit",serviceId:"vi"},{id:"korean",name:"",serviceId:"ko"},{id:"maltese",name:"Malti",serviceId:"mt"},{id:"finnish",name:"suomi",serviceId:"fi"},{id:"catalan",name:"catal",serviceId:"ca"},{id:"croatian",name:"hrvatski",serviceId:"hr"},{id:"bosnian",name:"bosnian",serviceId:"bs-Latn"},{id:"polish",name:"Polski",serviceId:"pl"},{id:"latvian",name:"latvieu",serviceId:"lv"},{id:"maori",name:"Maori",serviceId:"mi"}],getMap:function(){if(typeof translate.service.edge.language.map>"u"){translate.service.edge.language.map=new Array;for(var e=0;e<translate.service.edge.language.json.length;e++){var t=translate.service.edge.language.json[e];translate.service.edge.language.map[t.id]=t.serviceId}}return translate.service.edge.language.map}},translate:function(e,t,n,a){var s=JSON.parse(decodeURIComponent(t.text));let r=translate.util.split(s,4e4,900);translate.request.send(translate.service.edge.api.auth,{},function(o){for(var i=translate.service.edge.language.getMap()[t.from],l=translate.service.edge.language.getMap()[t.to],c=translate.service.edge.api.translate.replace("{from}",i).replace("{to}",l),u=0;u<r.length;u++){for(var d=[],g=0;g<r[u].length;g++)d.push({Text:r[u][g]});translate.request.send(c,JSON.stringify(d),function(_){var f={};f.info="SUCCESS",f.result=1,f.from=t.from,f.to=t.to,f.text=[];for(var y=0;y<_.length;y++)f.text.push(_[y].translations[0].text);if(r.length>1){for(var w=-1,b=0;b<r.length;b++)if(r[b].length-f.text.length==0){w=b;break}w<0&&(console.log("------ERROR--------"),console.log("currentIndex-1  http://translate.zvo.cn/43006.html "));for(var $=0;$<w;$++)for(var E=r[$].length,T=0;T<E;T++)f.text.unshift(null);for(var S=r.length-1;S>w;S--)for(var A=r[S].length,T=0;T<A;T++)f.text.push(null)}n(f)},"post",!0,{Authorization:"Bearer "+o,"Content-Type":"application/json"},a,!0)}},"get",!0,{"content-type":"application/x-www-form-urlencoded"},function(o){console.log("---------error--------"),console.log("edge translate service error, http code : "+o.status+", response text : "+o.responseText)},!0)}}},request:{api:{host:["https://api.translate.zvo.cn/","https://america.api.translate.zvo.cn/"],language:"language.json",translate:"translate.json",ip:"ip.json",connectTest:"connectTest.json",init:"init.json"},response:function(e){},speedDetectionControl:{hostMasterNodeCutTime:2e3,hostQueue:[],hostQueueIndex:-1,disableTime:1e6,getHostQueue:function(){if(translate.request.speedDetectionControl.hostQueue.length==0){var e=translate.storage.get("speedDetectionControl_hostQueue");if(e==null||typeof e>"u"){typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]),translate.request.speedDetectionControl.hostQueue=[];for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.hostQueue[t]={host:n,time:0}}}else translate.request.speedDetectionControl.hostQueue=JSON.parse(e);var a=translate.storage.get("speedDetectionControl_lasttime");(a==null||typeof a>"u")&&(a=0);var s=6e4;new Date().getTime()-a>s&&translate.request.speedDetectionControl.checkResponseSpeed()}return translate.request.speedDetectionControl.hostQueue},checkResponseSpeed_Storage:function(e,t){translate.request.speedDetectionControl.checkHostQueue.push({host:e,time:t}),translate.request.speedDetectionControl.checkHostQueue.sort((n,a)=>n.time-a.time),translate.storage.set("speedDetectionControl_hostQueue",JSON.stringify(translate.request.speedDetectionControl.checkHostQueue)),translate.storage.set("speedDetectionControl_lasttime",new Date().getTime()),translate.request.speedDetectionControl.hostQueue=translate.request.speedDetectionControl.checkHostQueue},checkResponseSpeed:function(){var e={"content-type":"application/x-www-form-urlencoded"};translate.request.speedDetectionControl.checkHostQueue=[],translate.request.speedDetectionControl.checkHostQueueMap=[],typeof translate.request.api.host=="string"&&(translate.request.api.host=[""+translate.request.api.host]);for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.checkHostQueueMap[n]={start:new Date().getTime()};try{translate.request.send(n+translate.request.api.connectTest,{host:n},function(a){var s=a.info,r=translate.request.speedDetectionControl.checkHostQueueMap[s],o=new Date().getTime()-r.start;translate.request.api.host[0]==s&&(o=o-translate.request.speedDetectionControl.hostMasterNodeCutTime,o<0&&(o=0)),translate.request.speedDetectionControl.checkResponseSpeed_Storage(s,o)},"post",!0,e,function(a){var s=a.requestURL.replace("connectTest.json","");translate.request.speedDetectionControl.checkResponseSpeed_Storage(s,translate.request.speedDetectionControl.disableTime)},!1)}catch(a){console.log(a)}}},getHostQueueIndex:function(){if(translate.request.speedDetectionControl.hostQueueIndex<0){var e=translate.storage.get("speedDetectionControl_hostQueueIndex");typeof e>"u"||e==null?(translate.request.speedDetectionControl.hostQueueIndex=0,translate.storage.set("speedDetectionControl_hostQueueIndex",0)):translate.request.speedDetectionControl.hostQueueIndex=e}return translate.request.speedDetectionControl.hostQueueIndex},getHost:function(){var e=translate.request.speedDetectionControl.getHostQueue(),t=translate.request.speedDetectionControl.getHostQueueIndex();return e.length>t||(console.log("index"+t),t=e.length-1),e[t].host}},getUrl:function(e){var t=translate.request.speedDetectionControl.getHost(),n=t+e+"?v="+translate.version;return n},post:function(e,t,n,a){var s={"content-type":"application/x-www-form-urlencoded"};if(!(typeof t>"u")){if(translate.enterprise.automaticAdaptationService(),translate.request.getUrl(e),translate.service.name=="client.edge"){if(e==translate.request.api.translate){translate.service.edge.translate(e,t,n,a);return}if(e==translate.request.api.language){var r={};r.info="SUCCESS",r.result=1,r.list=translate.service.edge.language.json,n(r);return}}this.send(e,t,n,"post",!0,s,a,!0)}},send:function(e,t,n,a,s,r,o,i){var l="";if((t==null||typeof t>"u")&&(t={}),typeof t=="string")l=t;else{t.browserDefaultLanguage=translate.util.browserDefaultLanguage(),typeof translate.enterprise.key<"u"&&typeof translate.enterprise.key=="string"&&translate.enterprise.key.length>0&&(t.key=translate.enterprise.key);for(var c in t)l.length>0&&(l=l+"&"),l=l+c+"="+t[c]}e.indexOf("https://")==0||e.indexOf("http://")==0||(e=translate.request.getUrl(e));var u=null;try{u=new XMLHttpRequest}catch{u=new ActiveXObject("Microsoft.XMLHTTP")}if(u.open(a,e,s),r!=null)for(var c in r)u.setRequestHeader(c,r[c]);return translate.service.name=="translate.service"&&u.setRequestHeader("currentpage",window.location.href+""),u.send(l),u.onreadystatechange=function(){if(u.readyState==4)if(translate.request.response(u),u.status==200){var d=null;if(!(typeof u.responseText>"u"||u.responseText==null)){if(u.responseText.indexOf("{")>-1&&u.responseText.indexOf("}")>-1)try{d=JSON.parse(u.responseText)}catch(g){console.log(g)}}d==null?n(u.responseText):n(d)}else i&&(e.indexOf(translate.request.api.connectTest)>-1||(translate.service.name=="translate.service"&&!translate.enterprise.isUse&&console.log(`----- translate.js  -----
translate.service 
24

 3.8.0js https://cdn.staticfile.net/translate.js/3.8.0/translate.js  client.edge   https://translate.zvo.cn/4081.html  translate.service  
 ,  600   http://translate.zvo.cn/4087.html 

-------------`),console.log("------- translate.js service api response error --------"),console.log("    http code : "+u.status),console.log("    response : "+u.response),console.log("    request url : "+e),console.log("    request data : "+JSON.stringify(t)),console.log("    request method : "+a),console.log("---------------------- end ----------------------"))),u.requestURL=e,o!=null&&o(u)},u},translateText:function(e,t){var n=new Array,a=translate.language.getLocal(),s=translate.language.getCurrent();if(typeof e=="string")n[0]=e;else{var r=Object.prototype.toString.call(e);if(r=="[object Array]")n=e;else if(r=="[object Object]")typeof e.texts>"u"&&console.log("translate.request.translateText  obj.texts   https://translate.zvo.cn/4077.html"),typeof e.texts=="string"?n=[e.texts]:n=e.texts,typeof e.from=="string"&&e.from.length>0&&(a=e.from),typeof e.to=="string"&&e.to.length>0&&(s=e.to);else{console.log("translate.request.translateText  https://translate.zvo.cn/4077.html");return}}var o=translate.request.api.translate,i={from:a,to:s,text:encodeURIComponent(JSON.stringify(n))};translate.request.post(o,i,function(l){l.result==0&&(console.log("=======ERROR START======="),console.log("from : "+l.from),console.log("to : "+l.to),console.log("translate text array : "+n),console.log("response : "+l.info),console.log("=======ERROR END  =======")),t(l)},null)},listener:{minIntervalTime:800,lasttime:0,executetime:0,delayExecuteTime:200,addExecute:function(){var e=Date.now();translate.request.listener.lasttime==0?(translate.request.listener.executetime=e,translate.request.listener.lasttime=1):translate.request.listener.executetime>1||(e<translate.request.listener.lasttime+translate.request.listener.minIntervalTime?translate.request.listener.executetime=translate.request.listener.lasttime+translate.request.listener.minIntervalTime:translate.request.listener.executetime=e)},trigger:function(e){return!0},start:function(){if(typeof translate.request.listener.isStart<"u")return;translate.request.listener.isStart=!0,setInterval(function(){var t=Date.now();if(translate.request.listener.executetime>1&&t>translate.request.listener.executetime+translate.request.listener.delayExecuteTime){translate.request.listener.executetime=0,translate.request.listener.lasttime=t;try{translate.execute()}catch(n){console.log(n)}}},100),new PerformanceObserver(t=>{for(var n=!1,a=0;a<t.getEntries().length;a++){var s=t.getEntries()[a];if(s.initiatorType==="fetch"||s.initiatorType==="xmlhttprequest"){var r=s.name;typeof translate.request.api.host=="string"&&(translate.request.api.host=[translate.request.api.host]);for(var o=!1,i=0;i<translate.request.api.host.length;i++)if(r.indexOf(translate.request.api.host[i])>-1){o=!0;break}if(r.indexOf(translate.service.edge.api.auth)>-1&&(o=!0),r.indexOf(".microsofttranslator.com/translate")>-1&&(o=!0),o||!translate.request.listener.trigger())continue;n=!0;break}}n&&translate.request.listener.addExecute()}).observe({type:"resource",buffered:!0})}}},storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},images:{queues:[],add:function(e){for(var t in e)translate.images.queues[t]=e[t]},execute:function(){if(!(Object.keys(translate.images.queues).length<1)){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t];if(!(typeof n.src>"u"||n.src==null||n.src.length==0)){var a=n.getAttribute("src");for(var s in translate.images.queues){var r=s,o=translate.images.queues[s];r==a&&(o=o.replace(new RegExp("{language}","g"),translate.to),n.src=o)}}}for(var i=document.getElementsByTagName("*"),t=0;t<i.length;t++){var l=i[t],c=window.getComputedStyle(l,null),u=c.backgroundImage;if(u!="none"){var d=translate.images.gainCssBackgroundUrl(u);if(typeof translate.images.queues[d]<"u"){var o=translate.images.queues[d];o=o.replace(new RegExp("{language}","g"),translate.to),l.style.backgroundImage='url("'+o+'")'}}}}},gainCssBackgroundUrl:function(e){var t=e.indexOf('"'),n=e.lastIndexOf('"');if(t!=-1&&n!=-1){var a=e.substring(t+1,n);return a}return e}},reset:function(){var e=translate.language.getCurrent();for(var t in translate.nodeQueue)for(var n in translate.nodeQueue[t].list)for(var a in translate.nodeQueue[t].list[n]){var s=translate.nodeQueue[t].list[n][a];for(var r in s.nodes){var o=translate.storage.get("hash_"+e+"_"+a);typeof o>"u"||o!=null&&o.length!=0&&translate.element.nodeAnalyse.analyse(s.nodes[r].node,o,s.original,s.nodes[r].node.attribute)}}translate.storage.set("to",""),translate.to=null,translate.selectLanguageTag.render()},selectionTranslate:{selectionX:0,selectionY:0,callTranslate:function(e){let t=window.getSelection();if(t.anchorOffset==t.focusOffset)return;let n=window.getSelection().toString();var a=translate.request.api.translate,s={from:translate.language.getLocal(),to:translate.to,text:encodeURIComponent(JSON.stringify([n]))};translate.request.post(a,s,function(r){if(r.result==0)return;let o=document.querySelector("#translateTooltip");o.innerText=r.text[0],o.style.top=selectionY+20+"px",o.style.left=selectionX+50+"px",o.style.display=""},null)},start:function(){let e=document.createElement("span");e.innerText="",e.setAttribute("id","translateTooltip"),e.setAttribute("style","background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:999;top:150%;left:50%; "),document.body.appendChild(e),document.addEventListener("mousedown",t=>{selectionX=t.pageX,selectionY=t.pageY},!1),document.addEventListener("mouseup",translate.selectionTranslate.callTranslate,!1),document.addEventListener("click",t=>{document.querySelector("#translateTooltip").style.display="none"},!1)}},enterprise:{isUse:!1,use:function(){if(translate.enterprise.isUse=!0,translate.request.speedDetectionControl.hostMasterNodeCutTime=300,translate.request.api.host=["https://america-enterprise-api-translate.zvo.cn/","https://beijing.enterprise.api.translate.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn/","https://america.api.translate.zvo.cn:666/","https://api.translate.zvo.cn:666/","https://api.translate.zvo.cn:888/"],translate.service.name=="client.edge"){translate.service.name="translate.service",console.log(" translate.enterprise.use(); (https://translate.zvo.cn/4087.html) ,  translate.service.use('client.edge'); (https://translate.zvo.cn/4081.html) ");return}},automaticAdaptationService:function(){if(translate.enterprise.isUse){var e=translate.request.speedDetectionControl.getHostQueue();e.length>0&&e[0].time+1>translate.request.speedDetectionControl.disableTime&&(translate.service.name="client.edge")}},key:""},init:function(){if(!(typeof translate.init_execute<"u")){translate.init_execute="";try{translate.request.send(translate.request.api.init,{},function(data){if(data.result==0){console.log("translate.js init "+data.info);return}else if(data.result==1){var newVersion=translate.util.versionStringToInt(data.version),currentVersion=translate.util.versionStringToInt(translate.version.replace("v",""));newVersion>currentVersion&&console.log("Tip : translate.js find new version : "+data.version)}else eval(data.info)},"post",!0,null,function(e){},!1)}catch(e){}}},progress:{api:{isTip:!0,setUITip:function(e){translate.progress.api.isTip=e},startUITip:function(){const e=document.createElement("style");e.textContent=`
					/* CSS */
					/*  */
					.translate_api_in_progress {
					  position: relative;
					  overflow: hidden; /*  */
					}

					/*  */
					.translate_api_in_progress::after {
					  content: '';
					  position: absolute;
					  top: 0;
					  left: 0;
					  width: 100%;
					  height: 100%;
					  background: rgba(255, 255, 255, 1); /*  */
					  z-index: 2;
					}

					/*  */
					.translate_api_in_progress::before {
					  content: '';
					  position: absolute;
					  top: 50%;
					  left: 0;
					  width: 100%;
					  height:100%; /*  */
					  background: linear-gradient(
					    90deg,
					    transparent 0%,
					    #e8e8e8 25%,  /*  */
					    #d0d0d0 50%,  /*  */
					    #e8e8e8 75%,  /*  */
					    transparent 100%
					  );
					  background-size: 200% 100%;
					  animation: translate_api_in_progress_horizontal-loader 3.5s linear infinite;
					  z-index: 3;
					  transform: translateY(-50%);
					}

					@keyframes translate_api_in_progress_horizontal-loader {
					  0% {
					    background-position: 200% 0;
					  }
					  100% {
					    background-position: -200% 0;
					  }
					}
				`,document.head.appendChild(e),translate.progress.api.isTip&&(translate.listener.execute.renderStartByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var a in translate.nodeQueue[t].list[n])for(var s in translate.nodeQueue[t].list[n][a].nodes){var r=translate.nodeQueue[t].list[n][a].nodes[s].node,o=r.parentNode;if(o!=null&&o.childNodes.length==1)if(typeof o.className>"u"||o.className==null||o.className=="")o.className=" translate_api_in_progress";else{if(o.className.indexOf("translate_api_in_progress")>-1)continue;o.className=o.className+" translate_api_in_progress"}}}),translate.listener.execute.renderFinishByApi.push(function(t){for(var n in translate.nodeQueue[t].list)if(translate.language.getCurrent()!=n)for(var a in translate.nodeQueue[t].list[n])for(var s in translate.nodeQueue[t].list[n][a].nodes){var r=translate.nodeQueue[t].list[n][a].nodes[s].node,o=r.parentNode;if(o!=null){var i=o.className;typeof i>"u"||i==null||i==""||i.indexOf("translate_api_in_progress")<-1||(o.className=i.replace(/translate_api_in_progress/g,""))}}}))}}},jsObject:function(e,t=""){var n={};if(typeof e=="object"&&e!==null)if(Array.isArray(e))e.forEach((a,s)=>{const r=t?`${t}[${s}]`:`[${s}]`;translate.jsObject(a,r)});else for(const a in e){const s=t?`${t}.${a}`:a;typeof e[a]=="object"&&e[a]!==null?translate.jsObject(e[a],s):typeof e[a]=="string"&&typeof n[e[a]]>"u"&&(n[e[a]]=new Array)}else typeof e=="string"&&typeof e=="string"&&(typeof n[e]>"u"&&(n[e]=new Array),n[e].push("not key"));return n}},nodeuuid={index:function(e){var t=e.parentNode;if(t==null)return"";var n;if(typeof e.tagName>"u")n=t.childNodes;else{n=[];for(var a=t.childNodes,s=0;s<a.length;s++)a[s].tagName===e.tagName&&n.push(a[s])}var r=Array.prototype.indexOf.call(n,e);return e.nodeName+""+(r+1)},uuid:function(e){for(var t="",n=e;n!=null;){var a=nodeuuid.index(n);a!=""&&(t!=""&&(t="_"+t),t=a+t),n=n.parentNode}return t},enableRemoteDebug:function(){}};console.log(`------ translate.js ------
Two lines of js html automatic translation, page without change, no language configuration file, no API Key, SEO friendly! Open warehouse : https://github.com/xnx3/translate 
jshtml API KeySEOhttps://gitee.com/mail_osc/translate`),function(e,t){module.exports?module.exports=t():e.translate=t()}(i18nJsautotranslate,function(){return translate})}(i18nJsautotranslate$1)),i18nJsautotranslate$1.exports}var i18nJsautotranslateExports=requireI18nJsautotranslate();const translate=getDefaultExportFromCjs(i18nJsautotranslateExports),historyApi={getHistory:async()=>await request({url:"/prompt/history/get_history",method:"get"}),saveHistory:async e=>await request({url:"/prompt/history/add_history",method:"post",data:e}),deleteHistory:async e=>await request({url:"/prompt/history/delete_history",method:"post",data:{id_index:e}}),batchDeleteHistory:async e=>await request({url:"/prompt/history/batch_delete_history",method:"post",data:{id_index:e}}),getFavorite:async()=>await request({url:"/prompt/collect_history/get_collect_history",method:"get"}),addFavorite:async e=>await request({url:"/prompt/collect_history/add_collect_history",method:"post",data:e}),editFavorite:async e=>await request({url:"/prompt/collect_history/edit_collect_history",method:"post",data:e}),deleteFavorite:async e=>await request({url:"/prompt/collect_history/delete_collect_history",method:"post",data:{id_index:e}}),batchDeleteFavorite:async e=>await request({url:"/prompt/collect_history/batch_delete_collect_history",method:"post",data:{id_indices:e}})},autocompleteApi={getAutocomplete:async e=>await request({url:"/prompt/fast/autocomplete",method:"post",data:{query:e}})},_hoisted_1$9={class:"lora-manager-top-bar"},_hoisted_2$7=["placeholder"],_hoisted_3$7=["title"],_hoisted_4$7=["title"],_hoisted_5$6=["onClick"],_hoisted_6$6=["onClick"],_hoisted_7$6={key:0,class:"loading-indicator"},_hoisted_8$6={key:1,class:"empty-list"},_hoisted_9$6=["onClick"],_hoisted_10$5=["src","alt","title"],_hoisted_11$5={key:0,class:"loading-more"},_hoisted_12$5={key:1,class:"no-more-data"},prefix$3="weilin_prompt_ui_",_sfc_main$9={__name:"lora_index",props:{loraManager:{type:String,default:"look"}},setup(e,{expose:t}){const{t:n}=useI18n(),a=ref(!1),s=ref(!1),r=ref(!1),o=ref(!1),i=ref("all"),l=ref(""),c=ref(null),u=ref(""),d=ref(null),g=ref(1),_=ref(50),f=computed(()=>{if(i.value==="all"){const C=w.value;if(C){const V=Object.values(C);return Math.ceil(V.length/_.value)}}else{const C=w.value["/"];if(C){const V=Object.values(C);return Math.ceil(V.length/_.value)}return 1}}),y=ref([]),w=ref([]),b=ref(""),$=ref(0),E=(C,V)=>{$.value=C,b.value=V},T=async()=>{try{const C=await loraApi.getLoraFolderList();y.value=C.data}catch(C){console.error("Failed to get folder list:",C),message$1({type:"error",str:"message.loadFailed"})}},S=()=>{if(!d.value||r.value||o.value)return;const C=d.value;C.scrollHeight-C.scrollTop-C.clientHeight<100&&ke()},A=ref(!1);let L=null;const j=()=>{L&&clearTimeout(L),L=setTimeout(()=>{u.value.length>0?(A.value=!0,Z()):(A.value=!1,ye())},300)},P=e,X=C=>{var V;return(V=C.local_info)!=null&&V.name&&C.local_info.name!==""&&C.local_info.name.length>0?C.local_info.name:C.name},q=ref(),M=C=>{P.loraManager==="addLora"?I(C):q.value.open(C)},Z=async()=>{try{const C=await loraApi.searchLoraGetFolderList(u.value);if(w.value=C.data,w.value.length>0){g.value=1;const V=Object.values(w.value),D=(g.value-1)*50,K=D+50,ue=V.slice(D,K);ie(ue)}}catch(C){console.error("Failed to get folder list:",C),message$1({type:"error",str:"message.loadFailed"})}},le=ref([]),ve=C=>{if(C==="all"){le.value=[],i.value=C,l.value="/",w.value=y.value[C];const V=w.value;if(V){g.value=1;const D=Object.values(V),K=(g.value-1)*50,ue=K+50,re=D.slice(K,ue);ie(re)}}else{le.value=[],i.value=C,l.value="/",w.value=y.value[C];const V=w.value["/"];if(V){g.value=1;const D=Object.values(V),K=(g.value-1)*50,ue=K+50,re=D.slice(K,ue);ie(re)}}},he=C=>{if(C!=l.value){l.value=C,le.value=[];const V=w.value[l.value];if(V){g.value=1;const D=Object.values(V),K=(g.value-1)*50,ue=K+50,re=D.slice(K,ue);ie(re)}}},ie=async C=>{const V=await loraApi.getLoraRangeList(C);g.value===1?le.value=V.data.loras:le.value=le.value.concat(V.data.loras)},ge=async()=>{if(c.value!=null){message$1({type:"warn",str:"message.isLoading"});return}try{await loraApi.getAllLoraList(),c.value=setInterval(async()=>{await _e()},1e3)}catch(C){console.error("Failed to get all lora list:",C),message$1({type:"error",str:"message.loadFailed"})}},_e=async()=>{try{const C=await loraApi.getAllLoraStatus();C.data.isLoading===!1?(clearInterval(c.value),c.value=null,message$1({type:"success",str:"message.loaddingSuccess"}),await ye()):message$1({type:"warn",str:"message.loaddingPrc",name:C.data.progress})}catch(C){console.error("Failed to get lora status:",C),clearInterval(c.value),c.value=null,message$1({type:"error",str:"message.loadFailed"})}},ye=async()=>{if(!a.value){a.value=!0,g.value=1,o.value=!1,r.value=!1;try{await T(),nextTick(()=>{ve("all")})}catch(C){console.error("Failed to refresh lora list:",C)}finally{a.value=!1}}},ke=async()=>{if(g.value>=f.value){o.value=!0;return}r.value=!0;try{if(g.value++,A.value){if(w.value=res.data,w.value.length>0){const C=Object.values(w.value),V=(g.value-1)*50,D=V+50,K=C.slice(V,D);ie(K)}}else if(i.value==="all"){w.value=y.value[i.value];const C=w.value;if(C){const V=Object.values(C),D=(g.value-1)*50,K=D+50,ue=V.slice(D,K);ie(ue)}}else{const C=w.value[l.value];if(C){const V=Object.values(C),D=(g.value-1)*50,K=D+50,ue=V.slice(D,K);ie(ue)}}}finally{r.value=!1}},R=()=>{g.value=1,o.value=!1,r.value=!1};watch([i,l,u],()=>{R()}),onMounted(()=>{ye()});const I=C=>{var V,D,K,ue,re,ne,pe,k,x;$.value===0?window.postMessage({type:"weilin_prompt_ui_selectLora",lora:{name:C.model_name,lora:C.name,weight:(V=C.local_info)!=null&&V.strengthMin?C.local_info.strengthMin:.5,text_encoder_weight:(D=C.local_info)!=null&&D.strWeight?C.local_info.strWeight:.5,loraWorks:(K=C.local_info)!=null&&K.loraWorks?C.local_info.loraWorks:""}},"*"):$.value===1?window.postMessage({type:"weilin_prompt_ui_selectLora_stack_"+b.value,lora:{name:C.model_name,lora:C.name,weight:(ue=C.local_info)!=null&&ue.strengthMin?C.local_info.strengthMin:.5,text_encoder_weight:(re=C.local_info)!=null&&re.strWeight?C.local_info.strWeight:.5,loraWorks:(ne=C.local_info)!=null&&ne.loraWorks?C.local_info.loraWorks:""}},"*"):$.value===2&&window.postMessage({type:"weilin_prompt_ui_selectLora_stack_node_"+b.value,lora:{name:C.model_name,lora:C.name,weight:(pe=C.local_info)!=null&&pe.strengthMin?C.local_info.strengthMin:.5,text_encoder_weight:(k=C.local_info)!=null&&k.strWeight?C.local_info.strWeight:.5,loraWorks:(x=C.local_info)!=null&&x.loraWorks?C.local_info.loraWorks:""}},"*")};return t({openSetSeed:E}),(C,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$3}lora-manager`)},[createBaseVNode("div",_hoisted_1$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[0]||(V[0]=D=>u.value=D),class:normalizeClass(`${prefix$3}search-input`),placeholder:unref(n)("loraManager.searchPlaceholder"),onInput:j},null,42,_hoisted_2$7),[[vModelText,u.value]]),createBaseVNode("button",{class:normalizeClass(`${prefix$3}refresh-btn`),onClick:ye,title:unref(n)("loraManager.refresh")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$3}refresh-icon`,{"is-rotating":a.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},V[1]||(V[1]=[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null,-1)]),2))],10,_hoisted_3$7),createBaseVNode("button",{style:{"margin-left":"10px"},class:normalizeClass(`${prefix$3}refresh-btn`),onClick:ge,title:unref(n)("loraManager.cacheAll")},[(openBlock(),createElementBlock("svg",{class:normalizeClass([`${prefix$3}refresh-icon`,{"is-rotating":a.value}]),viewBox:"0 0 24 24",width:"20",height:"20"},V[2]||(V[2]=[createBaseVNode("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"},null,-1)]),2))],10,_hoisted_4$7)]),A.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${prefix$3}category-nav`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(y.value),D=>(openBlock(),createElementBlock("button",{key:D,class:normalizeClass([`${prefix$3}category-btn`,{active:i.value===D}]),onClick:K=>ve(D)},toDisplayString$1(D==="/"?"root":D=="all"?unref(n)("loraManager.all"):D),11,_hoisted_5$6))),128))],2)),i.value!="all"&&!A.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`${prefix$3}subcategory-nav`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(w.value),D=>(openBlock(),createElementBlock("button",{key:D,class:normalizeClass([`${prefix$3}category-btn`,{active:l.value===D}]),onClick:K=>he(D)},toDisplayString$1(D==="/"?"root":D),11,_hoisted_6$6))),128))],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-list-container`),ref_key:"scrollContainer",ref:d,onScroll:S},[s.value&&!r.value?(openBlock(),createElementBlock("div",_hoisted_7$6,toDisplayString$1(unref(n)("loraManager.loading")),1)):le.value.length===0?(openBlock(),createElementBlock("div",_hoisted_8$6,toDisplayString$1(unref(n)("loraManager.noResults")),1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-list`),style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(150px, 1fr))",gap:"12px"}},[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,D=>(openBlock(),createElementBlock("div",{key:D.file_path,class:normalizeClass(`${prefix$3}lora-card`),onClick:K=>M(D),style:{display:"flex","flex-direction":"column","min-height":"200px",cursor:"pointer"}},[createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-preview`),style:{flex:"1",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",width:"100%"}},[D.preview?(openBlock(),createElementBlock("img",{key:0,src:D.preview,alt:D.model_name,title:D.model_name,loading:"lazy",style:{width:"100%",height:"100%","object-fit":"cover","min-height":"150px"}},null,8,_hoisted_10$5)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`${prefix$3}no-preview`),style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","min-height":"150px"}},V[3]||(V[3]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[createBaseVNode("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)]),2))],2),createBaseVNode("div",{class:normalizeClass(`${prefix$3}lora-name`),style:{padding:"8px","text-align":"center","word-break":"break-word","white-space":"normal",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden","min-height":"40px","line-height":"1.2"}},toDisplayString$1(X(D)),3)],10,_hoisted_9$6))),128))],2),createBaseVNode("div",null,[r.value?(openBlock(),createElementBlock("div",_hoisted_11$5,toDisplayString$1(unref(n)("loraManager.loadingMore")),1)):createCommentVNode("",!0),!r.value&&o.value?(openBlock(),createElementBlock("div",_hoisted_12$5,toDisplayString$1(unref(n)("loraManager.noMoreData")),1)):createCommentVNode("",!0)])],34),createVNode(loraDetail,{ref_key:"loraDetailRef",ref:q},null,512)],2))}},LoraManager=_export_sfc(_sfc_main$9,[["__scopeId","data-v-74d92657"]]),_hoisted_1$8={class:"weilin_prompt_ui_prompt-box"},_hoisted_2$6={class:"center-container"},_hoisted_3$6={class:"action-item"},_hoisted_4$6=["title"],_hoisted_5$5={class:"action-text"},_hoisted_6$5={class:"action-item"},_hoisted_7$5={class:"action-text"},_hoisted_8$5={class:"action-item"},_hoisted_9$5=["title"],_hoisted_10$4={class:"action-text"},_hoisted_11$4={class:"action-item"},_hoisted_12$4=["title"],_hoisted_13$3={class:"action-text"},_hoisted_14$3={key:0,class:"action-item"},_hoisted_15$3=["title"],_hoisted_16$3={class:"action-text"},_hoisted_17$3={class:"action-item"},_hoisted_18$2=["title"],_hoisted_19$1={class:"action-text"},_hoisted_20$1={class:"action-item"},_hoisted_21$1=["title"],_hoisted_22$1={class:"action-text"},_hoisted_23$1={class:"action-item"},_hoisted_24$1=["title"],_hoisted_25$1={class:"action-text"},_hoisted_26$1={class:"action-item"},_hoisted_27$1=["title"],_hoisted_28$1={class:"action-text"},_hoisted_29$1={class:"action-item"},_hoisted_30$1=["title"],_hoisted_31$1={class:"action-text"},_hoisted_32$1=["placeholder"],_hoisted_33$1=["onClick"],_hoisted_34$1={class:"tag"},_hoisted_35$1={class:"desc"},_hoisted_36$1={class:"prompt-input-translate-area"},_hoisted_37$1=["placeholder"],_hoisted_38$1=["title"],_hoisted_39$1={key:1,class:"tokens-container"},_hoisted_40$1=["draggable","onDragstart","onDragover","onDrop","onDblclick"],_hoisted_41$1={key:0,class:"newline-token"},_hoisted_42$1=["title"],_hoisted_43$1=["onMouseenter","onMouseleave"],_hoisted_44$1=["title"],_hoisted_45$1=["onMouseenter","onMouseleave"],_hoisted_46$1=["onClick"],_hoisted_47=["value","onInput","onBlur","onKeyup"],_hoisted_48={key:3,class:"translation-result"},_hoisted_49=["onClick","title"],_hoisted_50={class:"translated-text"},_hoisted_51=["title"],_hoisted_52={key:1,class:"line-break"},_hoisted_53={class:"tag-tips-content"},_hoisted_54=["innerHTML"],_hoisted_55={class:"weight-control"},_hoisted_56={class:"weight-label"},_hoisted_57=["title"],_hoisted_58={class:"bracket-btn-group"},_hoisted_59={class:"bracket-btn-container"},_hoisted_60={class:"vertical-btn-group"},_hoisted_61=["title"],_hoisted_62=["title"],_hoisted_63={class:"bracket-btn-container"},_hoisted_64={class:"vertical-btn-group"},_hoisted_65=["title"],_hoisted_66=["title"],_hoisted_67={class:"bracket-btn-container"},_hoisted_68={class:"vertical-btn-group"},_hoisted_69=["title"],_hoisted_70=["title"],_hoisted_71={class:"tag-manager-section"},_hoisted_72={class:"header-left"},_hoisted_73={class:"section-title"},_hoisted_74={class:"header-right"},_hoisted_75={class:"lora-manager-container"},_hoisted_76={class:"tag-manager-section"},_hoisted_77={class:"header-left"},_hoisted_78={class:"section-title"},_hoisted_79={class:"header-right"},_hoisted_80={class:"tag-manager-container"},prefix$2="weilin_prompt_ui_",_sfc_main$8={__name:"prompt_index",props:{promptManager:{type:String,default:"prompt_global"},hasPromptLoraStack:{type:Boolean,default:!1}},setup(e,{expose:t}){useTagStore();const{t:n}=useI18n(),a=ref(),s=ref(),r=e,o=ref(""),i=ref([]),l={},c=ref(null),u=ref(!1),d=ref({top:"0px",left:"0px"}),g=ref(!1),_=ref(null),f=ref(null),y=ref(null),w=ref([]),b=ref(!1),$=ref(!1),E=ref([]),T=ref(0),S=ref(""),A=ref(!1),L=ref({top:"0px",left:"0px"}),j=ref(null),P=ref(null),X=ref(""),q=()=>{b.value=!b.value},M=()=>{b.value=!1},Z=()=>{_.value.open()},le=ref(1),ve=()=>{if(c.value===null)return;let N=i.value[c.value].text;if(!ge(N)){message$1({type:"warn",str:"message.noFinishKuo"});return}const H=fe=>fe.startsWith("(")&&fe.endsWith(")")&&!fe.slice(1,-1).includes("(")&&!fe.slice(1,-1).includes(")")&&!fe.slice(1,-1).includes("[")&&!fe.slice(1,-1).includes("]")&&!fe.slice(1,-1).includes("{")&&!fe.slice(1,-1).includes("}")&&!fe.slice(1,-1).includes("<")&&!fe.slice(1,-1).includes(">"),se=fe=>{const we=/^([\(\[\{\<]*)(.*?)([\)\]\}\>]*)$/,xe=fe.match(we);if(!xe)return fe;const[,Ie,Ve,Me]=xe;if(/[\(\[\{\<].*[\)\]\}\>]/.test(Ve))return Ie+se(Ve)+Me;const je=Ve.replace(/:\d+(\.\d+)?$/,"");return le.value===1?Ie+je+Me:Ie+je+":"+le.value+Me};let ce=N;if(/[\(\[\{\<\)\]\}\>]/.test(N))le.value===1&&H(N)?ce=N.slice(1,-1).replace(/:\d+(\.\d+)?$/,""):ce=se(N);else{const fe=N.replace(/:\d+(\.\d+)?$/,"");le.value===1?ce=fe:ce=`(${fe}:${le.value})`}i.value[c.value].text=ce,K()},he=z=>{if(c.value===null)return;let H=i.value[c.value].text;const se={"(":")","[":"]","{":"}","<":">"}[z];H=`${z}${H}${se}`,i.value[c.value].text=H,D()},ie=z=>{if(c.value===null)return;let H=i.value[c.value].text;const se={"(":")","[":"]","{":"}","<":">"};H.startsWith(z)&&H.endsWith(se[z])&&(H=H.slice(1,-1),i.value[c.value].text=H,D())},ge=z=>{const N=[],H={"(":")","[":"]","{":"}","<":">"};for(let se of z)if(H[se])N.push(se);else if(Object.values(H).includes(se)&&(N.length===0||H[N.pop()]!==se))return!1;return N.length===0};onBeforeUpdate(()=>{for(const z in l)delete l[z]}),ref(!0),ref(!1);const _e=z=>/[\p{L}]/u.test(z),ye=z=>{const N=z.match(/([^:]+):[\d.]+/);return N?N[1]:z},ke=ref(null),R=z=>{if(!(z!=null&&z.target))return;const N=z.target.value,H=z.target.selectionStart,se=z.target.selectionEnd,ce={comma:{enabled:localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false",pattern://g,replace:","},period:{enabled:localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false",pattern://g,replace:"."},bracket:{enabled:localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false",patterns:[{pattern://g,replace:"["},{pattern://g,replace:"]"},{pattern://g,replace:"("},{pattern://g,replace:")"}]},angleBracket:{enabled:localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false",patterns:[{pattern://g,replace:"<"},{pattern://g,replace:">"}]},underscore:{enabled:localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true",pattern:/_/g,replace:" "}};let fe=N.substring(0,H),we=N;Object.values(ce).forEach(Se=>{Se.enabled&&(Se.pattern?(fe=fe.replace(Se.pattern,Se.replace),we=we.replace(Se.pattern,Se.replace)):Se.patterns&&Se.patterns.forEach(({pattern:Be,replace:Ce})=>{fe=fe.replace(Be,Ce),we=we.replace(Be,Ce)}))}),o.value=we;const xe=fe.length,Ie=se-H,Ve=xe+Ie;nextTick(()=>{s.value&&(s.value.setSelectionRange(xe,Ve),s.value.focus())});const Me=we.substring(0,xe);let je=xe;for(;je>0&&!/[,\s]/.test(Me[je-1]);)je--;const He=Me.substring(je,xe).trim();j.value&&clearTimeout(j.value),j.value=setTimeout(()=>{He&&Oe(He),K()},300)},I=async()=>{let z=localStorage.getItem("weilin_prompt_ui_comma_conversion")==="true",N=localStorage.getItem("weilin_prompt_ui_period_conversion")==="true",H=localStorage.getItem("weilin_prompt_ui_bracket_conversion")==="true",se=localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")==="true",ce=localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true";localStorage.getItem("weilin_prompt_ui_comma_conversion")||(localStorage.setItem("weilin_prompt_ui_comma_conversion","true"),z=!0),localStorage.getItem("weilin_prompt_ui_period_conversion")||(localStorage.setItem("weilin_prompt_ui_period_conversion","true"),N=!0),localStorage.getItem("weilin_prompt_ui_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_bracket_conversion","true"),H=!0),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")||(localStorage.setItem("weilin_prompt_ui_angle_bracket_conversion","true"),se=!0),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")||(localStorage.setItem("weilin_prompt_ui_underscore_to_bracket","false"),ce=!1),z&&(o.value=o.value.replace(//g,",")),N&&(o.value=o.value.replace(//g,".")),H&&(o.value=o.value.replace(//g,"[").replace(//g,"]").replace(//g,"(").replace(//g,")")),se&&(o.value=o.value.replace(//g,"<").replace(//g,">")),ce&&(o.value=o.value.replace(/_/g," "));const fe=o.value;let we=[];const xe=i.value.map((Se,Be)=>({token:Se,originalIndex:Be,currentIndex:Be})).filter(({token:Se})=>Se.isHidden);we=((Se,Be=0)=>{let Ce=[],Fe=Be,Re="",Ge=[];for(;Fe<Se.length;){const ze=Se[Fe];if(ze===`
`){Re.trim()&&(Ce.push(Re.trim()),Re=""),Ce.push(`
`),Fe++;continue}Ge.length===0&&ze===","?(Re.trim()&&Ce.push(Re.trim()),Re=""):Re+=ze,Fe++}return Re.trim()&&(Ge.length===0?Ce.push(...Re.split(",").filter(Boolean).map(ze=>ze.trim())):Ce.push(Re.trim())),Ce})(fe);const Ve=new Map;i.value.forEach((Se,Be)=>{Ve.set(Be,Se)});const Me=[];we.forEach(Se=>{if(Se===`
`)Me.push({text:`
`,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""});else if(Se.trim()){const Be=Se.trim();let Ce=!1;for(const[Fe,Re]of Ve)if(Re.text===Be&&!Me.includes(Re)){Me.push(Re),Ve.delete(Fe),Ce=!0;break}Ce||Me.push({text:Be,translate:"",isPunctuation:!1,isEditing:!1,isHidden:!1,color:""})}}),xe.forEach(({token:Se,originalIndex:Be})=>{let Ce=Be;for(;Ce>Me.length;)Ce--;Ce<0?Me.push(Se):Me.splice(Ce,0,Se)}),i.value=Me,o.value=i.value.length>0?i.value.reduce((Se,Be,Ce)=>{var nt;if(Be.isHidden)return Se;if(Be.text===`
`)return Se+Be.text;if(Se===""){const st=i.value.filter(rt=>!rt.isHidden).length===1;return Be.text+(st?",":"")}let Fe=Ce+1;for(;Fe<i.value.length&&((nt=i.value[Fe])!=null&&nt.isHidden);)Fe++;const Re=Fe>=i.value.length,Ge=Fe<i.value.length?i.value[Fe]:null,ze=Ge&&Ge.text===`
`||Re,et=Te(Ce);return et!==-1&&i.value[et].text===`
`?Se+Be.text+(ze?",":""):Se+", "+Be.text+(ze?",":"")},""):"",P.value&&clearTimeout(P.value),P.value=setTimeout(()=>{D()},1e3),K();const je=20;let He=0;for(;He<i.value.length;){const Se=Math.min(He+je,i.value.length),Be=[];for(let Ce=He;Ce<Se;Ce++)if(i.value[Ce].text.length>0&&!i.value[Ce].translate){let Fe=i.value[Ce].text;const Re=ye(Fe.trim());Be.push(translatorApi.getTranslateLocal(Re).then(Ge=>{const ze=Ge;i.value[Ce].translate=ze.translated.translate,i.value[Ce].color=ze.translated.color}))}await Promise.all(Be),He=Se}},C=async()=>{let N=0;for(;N<i.value.length;){const H=Math.min(N+20,i.value.length),se=[];for(let ce=N;ce<H;ce++){const fe=i.value[ce];if(fe.translate&&/[a-zA-Z]/.test(fe.translate)){const we=fe.text,xe=new Promise(Ie=>{localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"?translate.request.translateText(we,function(Ve){if(Ve.result>0){const Me=Ve.text.map(je=>je.replace(/[\[\]]/g,"")).join(", ");i.value[ce].translate=Me}Ie()}):translatorApi.translaterText(we).then(Ve=>{Ve.text.length>0&&(i.value[ce].translate=Ve.text),Ie()})});se.push(xe)}}await Promise.all(se),N=H}},V=ref(""),D=()=>{const z=o.value.replace(/[\s\t\n]+/g,"");if(w.value.length>0){if(z.length>0){const N=w.value.filter(ce=>!ce.hidden);let H={prompt:o.value,lora:"",temp_prompt:i.value,temp_lora:w.value};N.length>0&&(H.lora=N);const se=JSON.stringify(H);V.value!=se&&(V.value=se,historyApi.saveHistory({tag:se}))}}else if(V.value!=o.value){const N={prompt:o.value,lora:"",temp_prompt:i.value,temp_lora:""},H=JSON.stringify(N);z.length>0&&historyApi.saveHistory({tag:H})}K()},K=()=>{if(w.value.length>0){V.value=o.value;const z=w.value.filter(se=>!se.hidden);let N={prompt:o.value,lora:"",temp_prompt:i.value,temp_lora:w.value};z.length>0&&(N.lora=z);const H=JSON.stringify(N);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:H},"*")}else{V.value=o.value;const z={prompt:o.value,lora:"",temp_prompt:i.value,temp_lora:""},N=JSON.stringify(z);window.postMessage({type:"weilin_prompt_ui_prompt_finish_prompt",data:N},"*")}},ue=(z,N)=>{ne.value&&(clearTimeout(ne.value),ne.value=null);const H=N.target.getBoundingClientRect();d.value={top:`${H.top-50}px`,left:`${H.left+H.width/2}px`},c.value=z;const se=i.value[z].text;le.value=re(se),L.value={top:`${H.bottom+window.scrollY+H.height+10}px`,left:`${H.left+H.width/2}px`},A.value=!0},re=z=>{const N=[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"<",close:">"}];for(const se of N)if(z.startsWith(se.open)&&z.endsWith(se.close))return re(z.slice(1,-1));const H=z.match(/:(\d+(\.\d+)?)$/);return H?parseFloat(H[1]):1},ne=ref(null),pe=z=>{ne.value&&clearTimeout(ne.value),ne.value=setTimeout(()=>{u.value||x(),ne.value=null},100),A.value=!1},k=()=>{u.value=!1,pe(c.value)},x=()=>{u.value||(c.value=null)},W=()=>{if(c.value!==null){const z=c.value;Q(z),c.value=null,u.value=!1}},Q=z=>{const N=o.value;let H=i.value[z],se=0,ce=-1;for(let fe=0;fe<z;fe++){let we=N.indexOf(i.value[fe].text,se);we!==-1&&(se=we+i.value[fe].text.length)}if(H.text===`
`||H.text==="	"){for(let fe=se;fe<N.length;fe++)if(N[fe]===H.text){ce=fe;break}}else ce=N.indexOf(H.text,se);if(ce!==-1){const fe=H.text===`
`?" ":"",we=N.substring(0,ce)+fe+N.substring(ce+H.text.length);o.value=we}i.value.splice(z,1),o.value=i.value.length>0?i.value.reduce((fe,we,xe)=>{var Se;if(we.isHidden)return fe;if(we.text===`
`)return fe+we.text;if(fe===""){const Be=i.value.filter(Ce=>!Ce.isHidden).length===1;return we.text+(Be?",":"")}let Ie=xe+1;for(;Ie<i.value.length&&((Se=i.value[Ie])!=null&&Se.isHidden);)Ie++;const Ve=Ie>=i.value.length,Me=Ie<i.value.length?i.value[Ie]:null,je=Me&&Me.text===`
`||Ve,He=Te(xe);return He!==-1&&i.value[He].text===`
`?fe+we.text+(je?",":""):fe+", "+we.text+(je?",":"")},""):"",D()},Y=(z,N)=>{const H=o.value;let se=0,ce=-1;for(let we=0;we<z;we++){let xe=H.indexOf(i.value[we].text,se);xe!==-1&&(se=xe+i.value[we].text.length)}const fe=i.value[z].text;if(ce=H.indexOf(fe,se),ce!==-1){const we=N.target.value,xe=H.substring(0,ce)+we+H.substring(ce+fe.length);o.value=xe,i.value[z]={...i.value[z],text:we},D()}},U=z=>{i.value[z].isPunctuation||(i.value[z].isEditing=!0,setTimeout(()=>{const N=l[z];if(N){N.focus();const H=N.value.length;N.setSelectionRange(H,H),m(N),N.addEventListener("input",()=>m(N)),D()}}))},m=z=>{const N=document.createElement("span");N.style.visibility="hidden",N.style.position="absolute",N.style.whiteSpace="pre";const H=window.getComputedStyle(z);N.style.font=H.font,N.style.fontSize=H.fontSize,N.style.fontFamily=H.fontFamily,N.style.padding=H.padding,N.style.border=H.border,N.textContent=z.value||z.placeholder||"",document.body.appendChild(N);const se=N.offsetWidth;z.style.width=`${Math.max(se+4,20)}px`,document.body.removeChild(N)},v=z=>{i.value[z].isEditing=!1};watch(i,z=>{J()},{deep:!0}),watch(w,z=>{D()},{deep:!0});const B=()=>{g.value=!g.value,g.value&&nextTick(()=>{var N;const z=f.value.getBoundingClientRect();(N=y.value)==null||N.setPosition(z)})},F=()=>{g.value=!1},oe=z=>{var N,H;f.value&&!f.value.contains(z.target)&&y.value&&!y.value.$el.contains(z.target)&&F(),(N=a.value)!=null&&N.contains&&((H=s.value)!=null&&H.contains)&&!a.value.contains(z.target)&&!s.value.contains(z.target)&&($.value=!1)},ee=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openTagManager_prompt"},"*")},O=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openLoraManager"},"*")},G=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openHistoryManager"},"*")},de=ref(!0),me=()=>{de.value=!de.value},be=ref(!1),Ae=()=>{be.value=!be.value};onMounted(()=>{document.addEventListener("click",oe),window.addEventListener("message",Ne),De()}),onUnmounted(()=>{document.removeEventListener("click",oe),ke.value&&clearTimeout(ke.value),window.removeEventListener("message",Ne)});const Ne=z=>{if(z.data.type==="weilin_prompt_ui_insertTag"){const N=o.value,H=z.data.tagText;N===""?o.value=H:(N.endsWith(" "),o.value=N+", "+H+","),X.value=o.value,I()}else if(z.data.type==="weilin_prompt_ui_user_history_tag"){const N=z.data.tagText;V.value=N,Je(N)}else if(z.data.type!=="weilin_prompt_ui_refresh_all_data"){if(z.data.type==="weilin_prompt_ui_translate_setting")De();else if(z.data.type==="weilin_prompt_ui_selectLora"&&z.data.lora.loraWorks!=null&&z.data.lora.loraWorks.length>0){const N=o.value,H=z.data.lora.loraWorks;N===""?o.value=H:(N.endsWith(" "),o.value=N+", "+H+","),X.value=o.value,I()}}},De=async()=>{const z=localStorage.getItem("weilin_prompt_ui_sourceLanguage")||"english",N=localStorage.getItem("weilin_prompt_ui_targetLanguage")||"chinese_simplified";localStorage.getItem("weilin_prompt_ui_sourceLanguage")||localStorage.setItem("weilin_prompt_ui_sourceLanguage",z),localStorage.getItem("weilin_prompt_ui_targetLanguage")||localStorage.setItem("weilin_prompt_ui_targetLanguage",N),z!=="auto"&&translate.language.setLocal(z),translate.language.setDefaultTo(N)},Pe=(z,N)=>{localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"?translate.request.translateText(z,function(H){if(H.result>0){const se=H.text.map(ce=>ce.replace(/[\[\]]/g,"")).join(", ");N.translate=se}}):translatorApi.translaterText(z).then(H=>{H.text.length>0&&(N.translate=H.text)})},Ue=()=>{if(localStorage.getItem("weilin_prompt_ui_translater_setting")=="network"){var z={from:translate.language.recognition(S.value).languageName,to:"english",texts:[S.value]};translate.request.translateText(z,function(H){if(H.result>0){const se=H.text.map(ce=>ce.replace(/[\[\]]/g,"")).join(", ");i.value.push({text:se,translate:S.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),S.value="",J()}})}else translatorApi.translaterInputText(S.value).then(N=>{N.text.length>0&&(i.value.push({text:N.text,translate:S.value,isPunctuation:!1,isEditing:!1,isHidden:!1,color:""}),S.value="",J())})},We=()=>{setTimeout(()=>{$.value||(X.value=o.value,I())},100)},Oe=z=>{let N=z.replace(/[\[\](){}]/g,"").trim();const se=ye(N).trim();if(!se){$.value=!1;return}if(se.length>20){$.value=!1;return}try{const ce=se.toLowerCase();autocompleteApi.getAutocomplete(String(ce)).then(fe=>{E.value=fe.data,$.value=E.value.length>0,T.value=0})}catch(ce){console.error("Autocomplete error:",ce),$.value=!1}},Le=z=>{$.value&&(z.key==="ArrowDown"?(z.preventDefault(),T.value=Math.min(T.value+1,E.value.length-1)):z.key==="ArrowUp"?(z.preventDefault(),T.value=Math.max(T.value-1,0)):z.key==="Tab"||z.key==="Enter"?(z.preventDefault(),Ke(T.value)):z.key==="Escape"&&(z.preventDefault(),$.value=!1))},Ke=(z,N)=>{if(N&&(N.preventDefault(),N.stopPropagation()),!E.value[z])return;$.value=!1;const H=s.value.selectionStart,se=s.value.selectionEnd,ce=o.value;let fe=E.value[z].text;localStorage.getItem("weilin_prompt_ui_comma_conversion")!=="false"&&(fe=fe.replace(//g,",")),localStorage.getItem("weilin_prompt_ui_period_conversion")!=="false"&&(fe=fe.replace(//g,".")),localStorage.getItem("weilin_prompt_ui_bracket_conversion")!=="false"&&(fe=fe.replace(//g,"[").replace(//g,"]").replace(//g,"(").replace(//g,")")),localStorage.getItem("weilin_prompt_ui_angle_bracket_conversion")!=="false"&&(fe=fe.replace(//g,"<").replace(//g,">")),localStorage.getItem("weilin_prompt_ui_underscore_to_bracket")==="true"&&(fe=fe.replace(/_/g," "));let we=H,xe=se;for(;we>0&&!/[,\s]/.test(ce[we-1]);)we--;for(;xe<ce.length&&!/[,\s]/.test(ce[xe]);)xe++;const Ie=ce.substring(0,we)+fe+ce.substring(xe),Ve=we+fe.length;o.value=Ie,X.value=Ie,I(),nextTick(()=>{s.value&&(s.value.selectionStart=Ve,s.value.selectionEnd=Ve)})},Ye=()=>{$.value=!1},Je=z=>{if(z.length>0)try{const N=JSON.parse(z);if(o.value=N.prompt,X.value=o.value,N.lora&&N.lora!=""&&(w.value=N.lora),N.temp_prompt&&N.temp_prompt!=""){const H=N.temp_prompt;let se=!1;H.tokens&&H.tokens.length>0&&H.tokens!=""&&(i.value=H.tokens,se=!0),H.lora&&H.lora.length>0&&H.lora!=""&&(w.value=H.lora,se=!0),!se&&H.length>0&&H!=""&&(i.value=H)}if(N.temp_lora&&N.temp_lora.length>0&&N.temp_lora!=""){const H=N.temp_lora;w.value=H}I()}catch{message$1({type:"warn",str:"promptBox.settings.errorPrompt"})}},qe=ref(null),Qe=(z,N)=>{qe.value=z,N.dataTransfer.effectAllowed="move"},Xe=(z,N)=>{if(N.preventDefault(),qe.value!==null&&qe.value!==z){const H=i.value[qe.value],se=[...i.value];se.splice(qe.value,1),se.splice(z,0,H),i.value=se,qe.value=z,J()}},Ze=(z,N)=>{N.preventDefault(),qe.value=null,J()},J=()=>{o.value=i.value.length>0?i.value.reduce((z,N,H)=>{var Ie;if(N.isHidden)return z;if(N.text===`
`)return z+N.text;if(z===""){const Ve=i.value.filter(Me=>!Me.isHidden).length===1;return N.text+(Ve?",":"")}let se=H+1;for(;se<i.value.length&&((Ie=i.value[se])!=null&&Ie.isHidden);)se++;const ce=se>=i.value.length,fe=se<i.value.length?i.value[se]:null,we=fe&&fe.text===`
`||ce,xe=Te(H);return xe!==-1&&i.value[xe].text===`
`?z+N.text+(we?",":""):z+", "+N.text+(we?",":"")},""):"",K()},ae=()=>{window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*")},te=()=>{window.open("https://github.com/weilin9999/WeiLin-Comfyui-Tools","_blank")},$e=()=>{window.parent.postMessage({type:"weilin_prompt_ui_open_cloud_window"},"*")},Te=z=>{for(let N=z-1;N>=0;N--)if(!i.value[N].isHidden)return N;return-1},Ee=z=>{if(z>=0&&z<i.value.length){if(i.value[z].text===`
`||i.value[z].text==="	")return;i.value[z].isHidden=!i.value[z].isHidden,i.value[z].isHidden?i.value[z].hiddenHint=n("promptBox.hiddenHint"):i.value[z].hiddenHint="",J()}};return t({setPromptText:Je}),(z,N)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[r.promptManager==="prompt"?(openBlock(),createBlock(LoraStack,{key:0,"is-open":b.value,"selected-loras":w.value,onClose:M},null,8,["is-open","selected-loras"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${prefix$2}main-content`),style:normalizeStyle({width:b.value?"calc(100% - 300px)":"100%"})},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("button",{class:"language-switch-btn",onClick:withModifiers(B,["stop"]),ref_key:"langBtnRef",ref:f,title:unref(n)("controls.language")},[N[11]||(N[11]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"translate-icon"},[createBaseVNode("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"})],-1)),createBaseVNode("span",_hoisted_5$5,toDisplayString$1(unref(n)("controls.language")),1)],8,_hoisted_4$6),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[g.value?(openBlock(),createBlock(LanguageSwitcher,{key:0,ref_key:"languageSwitcherRef",ref:y,onClose:F},null,512)):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_6$5,[createVNode(ThemeSwitch,{title:unref(n)("controls.switchTheme")},{default:withCtx(({isDark:H})=>[createBaseVNode("span",_hoisted_7$5,toDisplayString$1(unref(n)(H?"controls.darkMode":"controls.lightMode")),1)]),_:1},8,["title"])]),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("button",{class:"settings-btn",onClick:Z,title:unref(n)("controls.settings")},[N[12]||(N[12]=createBaseVNode("svg",{class:"settings-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})],-1)),createBaseVNode("span",_hoisted_10$4,toDisplayString$1(unref(n)("controls.settings")),1)],8,_hoisted_9$5)]),createBaseVNode("div",_hoisted_11$4,[createBaseVNode("button",{class:"tag-manager-btn",onClick:ee,title:unref(n)("controls.tagManager")},[N[13]||(N[13]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_13$3,toDisplayString$1(unref(n)("controls.tagManager")),1)],8,_hoisted_12$4)]),r.hasPromptLoraStack?(openBlock(),createElementBlock("div",_hoisted_14$3,[createBaseVNode("button",{class:"tag-manager-btn",onClick:q,title:unref(n)("controls.loraStack")},[N[14]||(N[14]=createBaseVNode("svg",{sxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M902.5 485.1c-59-17.5-113.8-3.4-155 27.7V365.1c0-45.2-36.9-82.1-82.1-82.1H511.2c31.1-41.2 45.2-96 27.7-155C522.2 71.6 475 26.1 418 12 303.4-16.5 200.9 69.4 200.9 179.3c0 39.1 13.5 74.7 35.3 103.7H82.1C36.9 283 0 319.9 0 365.1v113.1c0 25.5 27.9 38.8 49.5 25.3 38.8-24.3 87.8-33.6 139.4-19.5 57 15.6 103.4 62.5 118.4 119.7 30.1 115.5-56.2 219.4-166.8 219.4-33.5 0-64.7-9.6-91.1-26.2C27.8 783.4 0 796.8 0 822.2v113.2c0 45.2 36.9 82.1 82.1 82.1h583.3c45.2 0 82.1-36.9 82.1-82.1V787.7c29 21.9 64.6 35.3 103.7 35.3 109.9 0 195.8-102.5 167.3-217.1-14.1-56.9-59.7-104.1-116-120.8z"})],-1)),createBaseVNode("span",_hoisted_16$3,toDisplayString$1(unref(n)("controls.loraStack")),1)],8,_hoisted_15$3)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$3,[createBaseVNode("button",{class:"tag-manager-btn",onClick:O,title:unref(n)("controls.loraManager")},[N[15]||(N[15]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),createBaseVNode("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),createBaseVNode("span",_hoisted_19$1,toDisplayString$1(unref(n)("controls.loraManager")),1)],8,_hoisted_18$2)]),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:G,title:unref(n)("controls.history")},[N[16]||(N[16]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M653.7 85.83c-235.05 0-426.29 191.25-426.29 426.3s191.24 426.3 426.29 426.3c235.06 0 426.3-191.25 426.3-426.3S888.76 85.83 653.7 85.83z m0 779.98c-195.01 0-353.67-158.65-353.67-353.68S458.69 158.45 653.7 158.45c195.02 0 353.68 158.65 353.68 353.68S848.72 865.81 653.7 865.81z"}),createBaseVNode("path",{d:"M866.78 634.19L695.93 533.61V302.59c0-20.06-16.26-36.31-36.31-36.31s-36.31 16.26-36.31 36.31v253.66c0 17.06 11.8 31.26 27.66 35.16l178.98 105.36c17.28 10.17 39.54 4.41 49.71-12.87 10.17-17.28 4.4-39.54-12.88-49.71zM44.76 324.51h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31zM231.18 703.25H44.76c-20.05 0-36.31 16.26-36.31 36.31s16.26 36.31 36.31 36.31h186.42c20.05 0 36.31-16.26 36.31-36.31s-16.25-36.31-36.31-36.31zM36.31 550.19h118.8c20.05 0 36.31-16.26 36.31-36.31s-16.26-36.31-36.31-36.31H36.31c-20.05 0-36.31 16.26-36.31 36.31 0 20.06 16.26 36.31 36.31 36.31z"})],-1)),createBaseVNode("span",_hoisted_22$1,toDisplayString$1(unref(n)("controls.history")),1)],8,_hoisted_21$1)]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:ae,title:unref(n)("controls.aiChat")},[N[17]||(N[17]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),createBaseVNode("path",{d:"M6 14h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"})],-1)),createBaseVNode("span",_hoisted_25$1,toDisplayString$1(unref(n)("controls.aiChat")),1)],8,_hoisted_24$1)]),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:te,title:unref(n)("controls.github")},[N[18]||(N[18]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)),createBaseVNode("span",_hoisted_28$1,toDisplayString$1(unref(n)("controls.github")),1)],8,_hoisted_27$1)]),createBaseVNode("div",_hoisted_29$1,[createBaseVNode("button",{class:"tag-manager-btn",onClick:$e,title:unref(n)("controls.shareCloudData")},[N[19]||(N[19]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),createBaseVNode("span",_hoisted_31$1,toDisplayString$1(unref(n)("controls.shareCloudData")),1)],8,_hoisted_30$1)]),createVNode(SettingDialog,{ref_key:"settingDialog",ref:_},null,512)]),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":N[0]||(N[0]=H=>o.value=H),class:"input-area",onInput:R,placeholder:unref(n)("promptBox.placeholder"),onKeydown:Le,onBlur:We,rows:"6",ref_key:"inputAreaRef",ref:s},null,40,_hoisted_32$1),[[vModelText,o.value]]),$.value?(openBlock(),createElementBlock("div",{key:0,class:"autocomplete-container",ref_key:"autocompleteContainerRef",ref:a},[createBaseVNode("button",{class:"close-autocomplete-btn",onClick:withModifiers(Ye,["stop"])},""),(openBlock(!0),createElementBlock(Fragment,null,renderList(E.value,(H,se)=>(openBlock(),createElementBlock("div",{key:se,class:normalizeClass(["autocomplete-item",{selected:se===T.value}]),onClick:withModifiers(ce=>Ke(se,ce),["stop"])},[createBaseVNode("span",_hoisted_34$1,toDisplayString$1(H.text),1),createBaseVNode("span",_hoisted_35$1,toDisplayString$1(H.desc),1)],10,_hoisted_33$1))),128))],512)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_36$1,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":N[1]||(N[1]=H=>S.value=H),class:"prompt-input-translate-area-textarea",onKeyup:N[2]||(N[2]=withKeys(H=>Ue(),["enter"])),placeholder:unref(n)("promptBox.translatePlaceholder")},null,40,_hoisted_37$1),[[vModelText,S.value]]),createBaseVNode("button",{class:"translate-btn",onClick:C,title:unref(n)("promptBox.oneClickTranslate")},N[20]||(N[20]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_38$1)]),i.value.length>0?(openBlock(),createElementBlock("div",_hoisted_39$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(H,se)=>(openBlock(),createElementBlock(Fragment,{key:"tag-item-"+se},[createBaseVNode("div",{class:"token-item-box",draggable:!H.isEditing,onDragstart:ce=>Qe(se,ce),onDragover:withModifiers(ce=>Xe(se,ce),["prevent"]),onDrop:ce=>Ze(se,ce),onDblclick:ce=>Ee(se),style:normalizeStyle({backgroundColor:H.color})},[H.text===`
`?(openBlock(),createElementBlock("div",_hoisted_41$1,[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.newline")},"",8,_hoisted_42$1)])):H.text==="	"?(openBlock(),createElementBlock("div",{key:1,class:"token-item tab-token",onMouseenter:ce=>ue(se,ce),onMouseleave:ce=>pe()},[createBaseVNode("span",{class:"token-symbol",title:unref(n)("promptBox.tab")},"",8,_hoisted_44$1)],40,_hoisted_43$1)):H.text?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(["token-item",{punctuation:H.isPunctuation}]),onMouseenter:ce=>ue(se,ce),onMouseleave:ce=>pe()},[!H.isEditing||H.isPunctuation?(openBlock(),createElementBlock("span",{key:0,onClick:ce=>!H.isPunctuation&&U(se)},toDisplayString$1(H.text),9,_hoisted_46$1)):H.isPunctuation?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:1,value:H.text,onInput:ce=>Y(se,ce),onBlur:ce=>v(se),onKeyup:withKeys(ce=>v(se),["enter"]),ref_for:!0,ref:ce=>{ce&&(l[se]=ce)}},null,40,_hoisted_47))],42,_hoisted_45$1)):createCommentVNode("",!0),H.text!==`
`&&H.text!=="	"?(openBlock(),createElementBlock("div",_hoisted_48,[_e(H.text)?(openBlock(),createElementBlock("div",{key:0,onClick:ce=>Pe(H.text,H),class:"translate-button",title:unref(n)("promptBox.translate")},N[21]||(N[21]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",class:"token-item-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M677.676657 294.6142c19.165116 57.5433 44.715939 102.2992 89.431879 147.0551 38.322239-38.3622 63.873063-89.5118 83.038178-147.0551h-172.470057z m-421.56861 319.685h166.076358l-83.038179-223.7795-83.038179 223.7795z","p-id":"2419"}),createBaseVNode("path",{d:"M894.854661 0.504H128.353929C58.095158 0.504 0.607803 58.0473 0.607803 128.378v767.244c0 70.3307 57.487355 127.874 127.746126 127.874h766.500733c70.258771 0 127.746126-57.5433 127.746126-127.874V128.378c0-70.3307-51.101647-127.874-127.746126-127.874zM581.867062 825.2913c-12.771416 12.7874-25.550824 12.7874-38.322239 12.7874-6.3937 0-19.165116 0-25.550824-6.3937-6.3937-6.3937-12.779408 0-12.779408-6.3937s-6.385708-12.7874-12.771415-25.5748c-6.3937-12.7874-6.3937-19.1811-12.779408-31.9685l-25.542832-70.3307H230.557224L205.0064 767.748c-12.771416 25.5748-19.165116 44.7559-25.550824 57.5433-6.3937 12.7874-19.165116 12.7874-38.322239 12.7874-12.779408 0-25.550824-6.3937-38.330231-12.7874-12.771416-12.7874-19.157124-19.1811-19.157124-31.9685 0-6.3937 0-12.7874 6.385708-25.5748 6.3937-12.7874 6.3937-19.1811 12.771416-31.9685l140.525533-358.0472c6.3937-12.7874 6.3937-25.5748 12.779408-38.3622 6.385708-12.7874 12.771416-25.5748 19.157124-31.9685 6.3937-6.3937 12.779408-19.1811 25.550823-25.5748 12.779408-6.3937 25.550824-6.3937 38.330232-6.3937 12.771416 0 25.542832 0 38.322239 6.3937 12.771416 6.3937 19.165116 12.7874 25.550824 25.5748 6.385708 6.3937 12.771416 19.1811 19.157124 31.9685 6.3937 12.7874 12.779408 25.5748 19.165115 44.7559l140.525534 351.6535c12.771416 25.5748 19.165116 44.7559 19.165116 57.5433-6.3937 6.3937-12.779408 19.1811-19.165116 31.9685zM933.176901 575.937c-70.258771-25.5748-121.360418-57.5433-166.076358-95.9055-44.707947 44.7559-102.195302 76.7244-172.462065 95.9055l-19.157124-31.9685c70.258771-19.1811 127.746126-44.7559 172.462066-89.5118C703.22748 409.7008 664.905241 352.1575 652.125833 288.2205h-63.873063v-25.5748h172.470058c-12.7874-19.1811-25.558816-44.7559-38.330232-63.937l19.157124-6.3937c12.779408 19.1811 31.944524 44.7559 44.715939 70.3307h159.682658v31.9685h-63.873063c-19.157124 63.937-51.093655 121.4803-89.423887 159.8425 44.715939 38.3622 95.809594 70.3307 166.076358 89.5118l-25.550824 31.9685z","p-id":"2420"})],-1)]),8,_hoisted_49)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_50,toDisplayString$1(H.translate?H.translate:""),1)])):createCommentVNode("",!0)],44,_hoisted_40$1),H.isHidden?(openBlock(),createElementBlock("span",{key:0,class:"hidden-hint",title:H.hiddenHint},N[22]||(N[22]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[createBaseVNode("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),createBaseVNode("circle",{cx:"12",cy:"12",r:"3"})],-1)]),8,_hoisted_51)):createCommentVNode("",!0),H.text===`
`?(openBlock(),createElementBlock("div",_hoisted_52)):createCommentVNode("",!0)],64))),128))])):createCommentVNode("",!0),A.value?(openBlock(),createElementBlock("div",{key:2,class:"tag-tips-box",style:normalizeStyle(L.value)},[createBaseVNode("div",_hoisted_53,[createBaseVNode("p",{innerHTML:unref(n)("promptBox.tagTips")},null,8,_hoisted_54)])],4)):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:"token-controls",style:normalizeStyle(d.value),onMouseenter:N[10]||(N[10]=H=>u.value=!0),onMouseleave:k},[createBaseVNode("div",_hoisted_55,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":N[3]||(N[3]=H=>le.value=H),step:"0.1",min:"0.1",max:"2",class:"weight-input",onChange:ve},null,544),[[vModelText,le.value]]),createBaseVNode("span",_hoisted_56,toDisplayString$1(unref(n)("promptBox.weight")),1)]),createBaseVNode("button",{onClick:W,class:"delete-btn",title:unref(n)("promptBox.delete")},N[23]||(N[23]=[createBaseVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_57),createBaseVNode("div",_hoisted_58,[createBaseVNode("div",_hoisted_59,[N[24]||(N[24]=createBaseVNode("div",{class:"bracket-btn"}," () ",-1)),createBaseVNode("div",_hoisted_60,[createBaseVNode("button",{class:"vertical-btn",onClick:N[4]||(N[4]=H=>he("(")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_61),createBaseVNode("button",{class:"vertical-btn",onClick:N[5]||(N[5]=H=>ie("(")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_62)])]),createBaseVNode("div",_hoisted_63,[N[25]||(N[25]=createBaseVNode("div",{class:"bracket-btn"}," [] ",-1)),createBaseVNode("div",_hoisted_64,[createBaseVNode("button",{class:"vertical-btn",onClick:N[6]||(N[6]=H=>he("[")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_65),createBaseVNode("button",{class:"vertical-btn",onClick:N[7]||(N[7]=H=>ie("[")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_66)])]),createBaseVNode("div",_hoisted_67,[N[26]||(N[26]=createBaseVNode("div",{class:"bracket-btn"}," {} ",-1)),createBaseVNode("div",_hoisted_68,[createBaseVNode("button",{class:"vertical-btn",onClick:N[8]||(N[8]=H=>he("{")),title:unref(n)("promptBox.addBracket")}," + ",8,_hoisted_69),createBaseVNode("button",{class:"vertical-btn",onClick:N[9]||(N[9]=H=>ie("{")),title:unref(n)("promptBox.removeLayer")}," - ",8,_hoisted_70)])])])],36),[[vShow,c.value!==null&&i.value[c.value]]]),createBaseVNode("div",_hoisted_71,[createBaseVNode("div",{class:"tag-manager-header",onClick:Ae},[createBaseVNode("div",_hoisted_72,[N[27]||(N[27]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",class:"tag-icon",width:"24",height:"24"},[createBaseVNode("path",{d:"M129 128h350v80H209v224h270v80H129V128zM129 895V576h768v319H129z m80-239v159h608V656H209zM730 356c19.882 0 36-16.118 36-36s-16.118-36-36-36-36 16.118-36 36 16.118 36 36 36z"}),createBaseVNode("path",{d:"M578.517 214.386a32.002 32.002 0 0 0-16.01 27.731l0.058 155.918a31.998 31.998 0 0 0 16 27.701l135.156 78.033a32.002 32.002 0 0 0 31.99 0.006l135.058-77.909a32.002 32.002 0 0 0 16.01-27.731l-0.058-155.918a32 32 0 0 0-16-27.701l-135.157-78.033a31.998 31.998 0 0 0-31.989-0.005l-135.058 77.908z m67.002 58.058l84.033-48.591 84.181 48.715 0.034 95.24-84.034 48.591-84.18-48.714-0.034-95.241z"})],-1)),createBaseVNode("span",_hoisted_73,toDisplayString$1(unref(n)("controls.loraManager")),1)]),createBaseVNode("div",_hoisted_74,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["collapse-icon",{"is-collapsed":!be.value}]),viewBox:"0 0 24 24"},N[28]||(N[28]=[createBaseVNode("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)]),2))])]),withDirectives(createBaseVNode("div",_hoisted_75,[createVNode(LoraManager)],512),[[vShow,be.value]])]),createBaseVNode("div",_hoisted_76,[createBaseVNode("div",{class:"tag-manager-header",onClick:me},[createBaseVNode("div",_hoisted_77,[N[29]||(N[29]=createBaseVNode("svg",{class:"tag-icon",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",_hoisted_78,toDisplayString$1(unref(n)("controls.tagManager")),1)]),createBaseVNode("div",_hoisted_79,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["collapse-icon",{"is-collapsed":!de.value}]),viewBox:"0 0 24 24"},N[30]||(N[30]=[createBaseVNode("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"},null,-1)]),2))])]),withDirectives(createBaseVNode("div",_hoisted_80,[createVNode(TagManager)],512),[[vShow,de.value]])])],6)]))}},PromptBox=_export_sfc(_sfc_main$8,[["__scopeId","data-v-d2c94a49"]]),_hoisted_1$7={class:"container"},_hoisted_2$5={class:"tab-container"},_hoisted_3$5={key:0},_hoisted_4$5={class:"search-container"},_hoisted_5$4=["placeholder"],_hoisted_6$4=["title"],_hoisted_7$4=["title","disabled"],_hoisted_8$4=["title"],_hoisted_9$4={class:"history-list"},_hoisted_10$3={class:"action-buttons"},_hoisted_11$3=["onClick","title"],_hoisted_12$3=["onClick","title"],_hoisted_13$2=["onClick","title"],_hoisted_14$2=["value"],_hoisted_15$2={key:1},_hoisted_16$2={class:"search-container"},_hoisted_17$2=["placeholder"],_hoisted_18$1=["title"],_hoisted_19=["title"],_hoisted_20=["title","disabled"],_hoisted_21=["title"],_hoisted_22={class:"history-list"},_hoisted_23={key:0,class:"favor-name"},_hoisted_24={class:"action-buttons"},_hoisted_25=["onClick","title"],_hoisted_26=["onClick","title"],_hoisted_27=["onClick","title"],_hoisted_28=["value"],_hoisted_29={key:2,class:"dialog-overlay"},_hoisted_30={class:"dialog-header"},_hoisted_31={class:"dialog-body"},_hoisted_32={class:"form-group"},_hoisted_33=["placeholder"],_hoisted_34={class:"form-group"},_hoisted_35=["placeholder"],_hoisted_36={class:"form-group"},_hoisted_37={class:"color-picker"},_hoisted_38={class:"color-controls"},_hoisted_39={class:"alpha-control"},_hoisted_40={class:"alpha-value"},_hoisted_41={class:"dialog-footer"},_hoisted_42={key:3,class:"dialog-overlay"},_hoisted_43={class:"dialog-header"},_hoisted_44={class:"dialog-body"},_hoisted_45={class:"confirm-message"},_hoisted_46={class:"dialog-footer"},_sfc_main$7={__name:"history_index",setup(e){const{t}=useI18n(),n=ref(""),a=ref([]),s=ref([]),r=ref([]),o=ref([]),i=ref("history"),l=ref([]),c=ref(!1),u=ref(!1),d=ref(!1),g=ref({hex:"rgba(255, 123, 2, .4)",alpha:100}),_=ref({name:"",tag:"",color:"rgba(255, 123, 2, .4)"}),f=ref(!1),y=ref(0),w=re=>({hex:"#FFFFFF",alpha:0}),b=re=>{const{hex:ne,alpha:pe}=w();g.value={hex:ne,alpha:pe}},$=()=>{d.value=!1,_.value={id:"",name:"",tag:"",backgroundColor:"transparent"},b(),c.value=!0},E=re=>{const ne=re.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(ne){const[,pe,k,x,W]=ne,Q=`#${((1<<24)+(parseInt(pe)<<16)+(parseInt(k)<<8)+parseInt(x)).toString(16).slice(1)}`,Y=W?Math.round(parseFloat(W)*100):100;return{hex:Q,alpha:Y}}return{hex:"#FF7B02",alpha:50}},T=re=>{d.value=!0,_.value={...re},g.value=E(re.color),c.value=!0},S=()=>{const re=he(g.value.hex,g.value.alpha);_.value.color=re},A=()=>{c.value=!1,_.value={name:"",tag:"",color:"rgba(255, 123, 2, .4)"},d.value=!1},L=ref(""),j=ref(null),P=computed(()=>{if(!j.value)return"";switch(L.value){case"history":return t("history.deleteHistoryConfirm",{name:j.value.tag});case"favorite":return t("history.deleteFavoriteConfirm",{name:j.value.tag});case"deleteSelected":return t("history.confirmDeleteSelected");case"deleteSelectedFavorite":return t("history.confirmDeleteSelected");default:return""}}),X=re=>{L.value="history",j.value=re,u.value=!0},q=re=>{L.value="favorite",j.value=re,u.value=!0},M=()=>{f.value=!1,y.value=0,L.value="deleteSelected",j.value=l.value,u.value=!0},Z=()=>{f.value=!1,y.value=0,L.value="deleteSelectedFavorite",j.value=l.value,u.value=!0},le=async()=>{try{switch(L.value){case"history":historyApi.deleteHistory(j.value.id_index).then(re=>{_e(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})});break;case"favorite":historyApi.deleteFavorite(j.value.id_index).then(re=>{ye(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelected":historyApi.batchDeleteHistory(l.value).then(re=>{_e(),message$1({type:"success",str:"message.deleteSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})});break;case"deleteSelectedFavorite":historyApi.batchDeleteFavorite(j.value).then(re=>{ye(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.deleteSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})});break}ie()}catch{message$1({type:"warn",str:"message.networkError"})}},ve=re=>{re.target.checked?i.value==="history"?l.value=a.value.map(ne=>ne.id_index):l.value=r.value.map(ne=>ne.id_index):l.value=[]},he=(re,ne)=>{const pe=parseInt(re.slice(1,3),16),k=parseInt(re.slice(3,5),16),x=parseInt(re.slice(5,7),16);return`rgba(${pe}, ${k}, ${x}, ${ne/100})`},ie=()=>{u.value=!1,L.value="",j.value=null},ge=()=>{if(!_.value.tag){message$1({type:"warn",str:"history.dialog.tag_placeholder"});return}d.value?historyApi.editFavorite({id_index:_.value.id_index,name:_.value.name,tag:_.value.tag,color:_.value.color}).then(re=>{ye(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.editSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})}):historyApi.addFavorite({name:_.value.name,tag:_.value.tag,color:_.value.color}).then(re=>{ye(),window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),message$1({type:"success",str:"message.addSuccess"})}).catch(re=>{message$1({type:"warn",str:"message.networkError"})}),A()},_e=()=>{historyApi.getHistory({}).then(re=>{a.value=re.data,s.value=a.value}).catch(re=>{message$1({type:"warn",str:"message.networkError"})})},ye=()=>{historyApi.getFavorite().then(re=>{r.value=re.data,o.value=r.value}).catch(re=>{message$1({type:"warn",str:"message.networkError"})})},ke=()=>{s.value=a.value.filter(re=>re.tag.includes(n.value))},R=()=>{o.value=r.value.filter(re=>re.tag.includes(n.value))},I=()=>{_e()},C=()=>{ye()},V=re=>{historyApi.addFavorite({tag:re.tag}).then(ne=>{ne.code===200?(window.postMessage({type:"weilin_prompt_ui_refresh_all_data"},"*"),ye(),message$1({type:"success",str:"message.addFavoriteSuccess"})):message$1({type:"success",str:"message.addFavoriteIsExist"})}).catch(ne=>{message$1({type:"warn",str:"message.networkError"})})},D=re=>{window.postMessage({type:"weilin_prompt_ui_user_history_tag",tagText:re.tag},"*")},K=()=>{l.value=[],f.value=!0},ue=()=>{l.value=[],f.value=!1,y.value=0};return onMounted(()=>{_e(),ye()}),(re,ne)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("h1",null,toDisplayString$1(i.value==="history"?unref(t)("history.title"):unref(t)("history.favorites")),1),createBaseVNode("div",_hoisted_2$5,[createBaseVNode("button",{class:normalizeClass([{active:i.value==="history"},"tab-button"]),onClick:ne[0]||(ne[0]=pe=>i.value="history")},toDisplayString$1(unref(t)("history.history")),3),createBaseVNode("button",{class:normalizeClass([{active:i.value==="favorites"},"tab-button"]),onClick:ne[1]||(ne[1]=pe=>i.value="favorites")},toDisplayString$1(unref(t)("history.favorites")),3)]),i.value==="history"?(openBlock(),createElementBlock("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("button",{class:"refresh-btn",onClick:I},ne[14]||(ne[14]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ne[2]||(ne[2]=pe=>n.value=pe),placeholder:unref(t)("history.search_placeholder"),onInput:ke,class:"search-input"},null,40,_hoisted_5$4),[[vModelText,n.value]]),f.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ne[3]||(ne[3]=pe=>y.value=pe),value:1,class:"tag-checkbox",onChange:ve},null,544)),[[vModelCheckbox,y.value]]):createCommentVNode("",!0),f.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:K,title:unref(t)("history.bulk_delete")},ne[15]||(ne[15]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_6$4)),f.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:M,title:unref(t)("history.sure_delete"),disabled:l.value.length===0},ne[16]||(ne[16]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_7$4)):createCommentVNode("",!0),f.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:ue,title:unref(t)("history.cancel_delete")},ne[17]||(ne[17]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_8$4)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_9$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,pe=>(openBlock(),createElementBlock("li",{key:pe.id_index,class:"history-item"},[createBaseVNode("span",null,toDisplayString$1(pe.tag),1),createBaseVNode("div",_hoisted_10$3,[createBaseVNode("button",{onClick:k=>V(pe),class:"favorite-btn",title:unref(t)("history.add_to_favorites")},ne[18]||(ne[18]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"24",height:"24",class:"favorite-icon"},[createBaseVNode("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)]),8,_hoisted_11$3),createBaseVNode("button",{onClick:k=>X(pe),class:"delete-favorite-btn",title:unref(t)("history.delete_history")},ne[19]||(ne[19]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_12$3),createBaseVNode("button",{onClick:k=>D(pe),class:"use-btn",title:unref(t)("history.use_item")},ne[20]||(ne[20]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_13$2),f.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ne[4]||(ne[4]=k=>l.value=k),value:pe.id_index,class:"tag-checkbox"},null,8,_hoisted_14$2)),[[vModelCheckbox,l.value]]):createCommentVNode("",!0)])]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_15$2,[createBaseVNode("div",_hoisted_16$2,[createBaseVNode("button",{class:"refresh-btn",onClick:C},ne[21]||(ne[21]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"refresh-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ne[5]||(ne[5]=pe=>n.value=pe),placeholder:unref(t)("history.search_placeholder"),onInput:R,class:"search-input"},null,40,_hoisted_17$2),[[vModelText,n.value]]),f.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ne[6]||(ne[6]=pe=>y.value=pe),value:1,class:"tag-checkbox",onChange:ve},null,544)),[[vModelCheckbox,y.value]]):createCommentVNode("",!0),createBaseVNode("button",{class:"add-his-btn",onClick:$,title:unref(t)("history.add_new")},ne[22]||(ne[22]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"add-icon"},[createBaseVNode("path",{d:"M19 11h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1s1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1z"})],-1)]),8,_hoisted_18$1),f.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bulk-delete-btn",onClick:K,title:unref(t)("history.bulk_delete")},ne[23]||(ne[23]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_19)),f.value?(openBlock(),createElementBlock("button",{key:2,class:"bulk-delete-btn",onClick:Z,title:unref(t)("history.sure_delete"),disabled:l.value.length===0},ne[24]||(ne[24]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M392.533333 806.4L85.333333 503.466667l59.733334-59.733334 247.466666 247.466667L866.133333 213.333333l59.733334 59.733334L392.533333 806.4z"})],-1)]),8,_hoisted_20)):createCommentVNode("",!0),f.value?(openBlock(),createElementBlock("button",{key:3,class:"bulk-delete-btn",onClick:ue,title:unref(t)("history.cancel_delete")},ne[25]||(ne[25]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"}),createBaseVNode("path",{d:"M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"})],-1)]),8,_hoisted_21)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,pe=>(openBlock(),createElementBlock("li",{key:pe.id_index,class:"history-item"},[createBaseVNode("div",{class:"favor-name-box",style:normalizeStyle({backgroundColor:pe.color||"transparent"})},[pe.name.length>0?(openBlock(),createElementBlock("span",_hoisted_23,toDisplayString$1(pe.name),1)):createCommentVNode("",!0)],4),createBaseVNode("span",null,toDisplayString$1(pe.tag),1),createBaseVNode("div",_hoisted_24,[createBaseVNode("button",{onClick:k=>T(pe),class:"delete-favorite-btn",title:unref(t)("history.edit_favorite")},ne[26]||(ne[26]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M200.59 626.48v129.5h129.5l381.93-381.93-129.5-129.5-381.93 381.93z m611.56-352.57c13.45-13.41 13.48-35.18 0.07-48.62l-0.07-0.07-80.81-80.81c-13.41-13.45-35.18-13.48-48.62-0.07l-0.07 0.07-63.19 63.19 129.5 129.5 63.19-63.19zM131.52 824.96h759.71c23.02 0 34.53 11.51 34.53 34.53 0 23.02-11.51 34.53-34.53 34.53H131.52c-23.02 0-34.53-11.51-34.53-34.53 0-23.02 11.51-34.53 34.53-34.53z","p-id":"2346"})],-1)]),8,_hoisted_25),createBaseVNode("button",{onClick:k=>q(pe),class:"delete-favorite-btn",title:unref(t)("history.delete_favorite")},ne[27]||(ne[27]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"delete-favorite-icon"},[createBaseVNode("path",{d:"M907.618072 232.742353 744.713682 232.742353 744.713682 116.382952c0-12.852708-10.419786-23.272495-23.272495-23.272495L302.556765 93.110457c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 116.360425L116.380904 232.743377c-12.852708 0-23.272495 10.419786-23.272495 23.272495s10.418762 23.272495 23.272495 23.272495l791.237168 0c12.852708 0 23.272495-10.419786 23.272495-23.272495S920.469756 232.742353 907.618072 232.742353zM325.829259 139.654423l372.340458 0 0 93.08793L325.829259 232.742353 325.829259 139.654423zM791.257647 372.362985c-12.852708 0-23.272495 10.418762-23.272495 23.272495l0 488.712146L256.012799 884.347625 256.012799 395.635479c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 511.983617c0 12.852708 10.418762 23.272495 23.272495 23.272495l558.516318 0c12.852708 0 23.272495-10.419786 23.272495-23.272495L814.529118 395.635479C814.529118 382.782771 804.110355 372.362985 791.257647 372.362985zM442.189684 767.987201l0-372.351721c0-12.852708-10.418762-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.418762 23.272495 23.272495 23.272495S442.189684 780.839909 442.189684 767.987201zM628.353257 767.987201l0-372.351721c0-12.852708-10.419786-23.272495-23.272495-23.272495s-23.272495 10.418762-23.272495 23.272495l0 372.351721c0 12.852708 10.419786 23.272495 23.272495 23.272495S628.353257 780.839909 628.353257 767.987201z"})],-1)]),8,_hoisted_26),createBaseVNode("button",{onClick:k=>D(pe),class:"use-btn",title:unref(t)("history.use_favorite")},ne[28]||(ne[28]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",class:"use-icon"},[createBaseVNode("path",{d:"M915.515273 142.819385 98.213046 458.199122c-46.058539 17.772838-44.90475 43.601756 2.348455 57.622994l197.477685 58.594874 80.292024 238.91085c10.51184 31.277988 37.972822 37.873693 61.462483 14.603752l103.584447-102.611545 204.475018 149.840224c26.565749 19.467242 53.878547 9.222132 61.049613-23.090076l149.210699-672.34491C965.264096 147.505054 946.218922 130.971848 915.515273 142.819385zM791.141174 294.834331l-348.61988 310.610267c-6.268679 5.58499-11.941557 16.652774-12.812263 24.846818l-15.390659 144.697741c-1.728128 16.24808-7.330491 16.918483-12.497501 1.344894l-67.457277-203.338603c-2.638691-7.954906 0.975968-17.705389 8.022355-21.931178l442.114555-265.181253C812.67481 268.984974 815.674251 272.975713 791.141174 294.834331z","p-id":"18085"})],-1)]),8,_hoisted_27),f.value?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":ne[7]||(ne[7]=k=>l.value=k),value:pe.id_index,class:"tag-checkbox"},null,8,_hoisted_28)),[[vModelCheckbox,l.value]]):createCommentVNode("",!0)])]))),128))])])),c.value?(openBlock(),createElementBlock("div",_hoisted_29,[createBaseVNode("div",{class:"dialog-content",onMousedown:ne[12]||(ne[12]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_30,[createBaseVNode("h2",null,toDisplayString$1(d.value?unref(t)("history.dialog.edit_tag"):unref(t)("history.dialog.add_tag")),1),createBaseVNode("button",{class:"close-btn",onClick:A},"")]),createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.name")),1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ne[8]||(ne[8]=pe=>_.value.name=pe),placeholder:unref(t)("history.dialog.name_placeholder")},null,8,_hoisted_33),[[vModelText,_.value.name]])]),createBaseVNode("div",_hoisted_34,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.tag")),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ne[9]||(ne[9]=pe=>_.value.tag=pe),placeholder:unref(t)("history.dialog.tag_placeholder"),rows:"4"},"                        ",8,_hoisted_35),[[vModelText,_.value.tag]])]),createBaseVNode("div",_hoisted_36,[createBaseVNode("label",null,toDisplayString$1(unref(t)("history.dialog.background_color")),1),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",{class:"color-preview",style:normalizeStyle({backgroundColor:re.previewColor})},null,4),createBaseVNode("div",_hoisted_38,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ne[10]||(ne[10]=pe=>g.value.hex=pe),onInput:S,class:"color-input"},null,544),[[vModelText,g.value.hex]]),createBaseVNode("div",_hoisted_39,[withDirectives(createBaseVNode("input",{type:"range","onUpdate:modelValue":ne[11]||(ne[11]=pe=>g.value.alpha=pe),min:"0",max:"100",onInput:S,class:"alpha-slider"},null,544),[[vModelText,g.value.alpha,void 0,{number:!0}]]),createBaseVNode("span",_hoisted_40,toDisplayString$1(g.value.alpha)+"%",1)])])])])]),createBaseVNode("div",_hoisted_41,[createBaseVNode("button",{class:"cancel-btn",onClick:A},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"confirm-btn",onClick:ge},toDisplayString$1(unref(t)("common.confirm")),1)])],32)])):createCommentVNode("",!0),u.value?(openBlock(),createElementBlock("div",_hoisted_42,[createBaseVNode("div",{class:"dialog-content confirm-dialog",onMousedown:ne[13]||(ne[13]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_43,[createBaseVNode("h2",null,toDisplayString$1(unref(t)("common.confirmDelete")),1),createBaseVNode("button",{class:"close-btn",onClick:ie},"")]),createBaseVNode("div",_hoisted_44,[createBaseVNode("p",_hoisted_45,toDisplayString$1(P.value),1)]),createBaseVNode("div",_hoisted_46,[createBaseVNode("button",{class:"cancel-btn",onClick:ie},toDisplayString$1(unref(t)("common.cancel")),1),createBaseVNode("button",{class:"delete-btn",onClick:le},toDisplayString$1(unref(t)("common.delete")),1)])],32)])):createCommentVNode("",!0)]))}},HistoryManager=_export_sfc(_sfc_main$7,[["__scopeId","data-v-e4496da5"]]),_hoisted_1$6={key:0,class:"drop-zone"},_hoisted_2$4={key:1,class:"preview-container"},_hoisted_3$4=["srcdoc"],_hoisted_4$4={class:"action-buttons"},STORAGE_PREFIX$1="weilin_tools_",_sfc_main$6={__name:"tranToWeb",emits:["close","update"],setup(e,{expose:t,emit:n}){const{t:a}=useI18n(),s=ref(!1),r=ref(""),o=ref(null),i={tranToWeb:{visible:!1,position:{x:150,y:150},size:{width:800,height:600}}},c=ref((()=>{try{const S=localStorage.getItem(`${STORAGE_PREFIX$1}tranToWebState`);if(S){const A=JSON.parse(S),L={...i};return A.tranToWeb&&(L.tranToWeb={...i.tranToWeb,...A.tranToWeb}),L}}catch(S){console.error("Error loading window states:",S)}return{...i}})());watch(c,S=>{try{localStorage.setItem(`${STORAGE_PREFIX$1}tranToWebState`,JSON.stringify(S))}catch(A){console.error("Error saving window states:",A)}},{deep:!0}),onMounted(()=>{windowManager.registerWindow("tranToWeb")}),onUnmounted(()=>{windowManager.unregisterWindow("tranToWeb")});const u=S=>{s.value=!1},d=(S,A)=>{c.value[S]&&(c.value[S].position={...A})},g=(S,A)=>{c.value[S]&&(c.value[S].size={...A})},_=()=>{s.value=!0,windowManager.setActiveWindow("tranToWeb")},f=S=>{S.dataTransfer.dropEffect="copy"},y=S=>{const A=S.dataTransfer.files[0];A&&A.type.startsWith("image/")&&b(A)},w=S=>{const A=S.clipboardData.items;for(let L=0;L<A.length;L++)if(A[L].type.startsWith("image/")){const j=A[L].getAsFile();b(j);break}},b=S=>{const A=new FileReader;A.onload=L=>{const j=L.target.result,P=btoa(j);o.value=P,$()},A.readAsDataURL(S)},$=()=>{r.value=`
        <!DOCTYPE html>
        <html>
        <head>
            <title>WeiLin Comfyui Tools - Image to HTML</title>
            <style>
                body { margin: 0; padding: 0; }
                img { max-width: 100%; height: auto; }
            </style>
            <script>
                window.onload = function() {
                    // 
                    try {
                        const encryptedData = "${o.value}";
                        const originalData = atob(encryptedData);
                        document.getElementById('decrypted-img').src = originalData;
                        document.getElementById('decrypted-img').style.display = 'block';
                    } catch(e) {
                        console.error(':', e);
                        document.body.innerHTML = '<p></p>';
                    }
                };
            <\/script>
        </head>
        <body>
            <img id="decrypted-img" style="display:none;" />
        </body>
        </html>
    `},E=()=>{const S=new Blob([r.value],{type:"text/html"}),A=URL.createObjectURL(S),L=document.createElement("a");L.href=A,L.download="image-to-html.html",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(A)},T=()=>{r.value="",o.value=null};return t({open:_}),(S,A)=>s.value?(openBlock(),createBlock(DraggableWindow,{key:0,title:unref(a)("utils.tranToWeb"),position:c.value.tranToWeb.position,size:c.value.tranToWeb.size,"z-index":unref(windowManager).getZIndex("tranToWeb"),"onUpdate:position":A[0]||(A[0]=L=>d("tranToWeb",L)),"onUpdate:size":A[1]||(A[1]=L=>g("tranToWeb",L)),onActive:A[2]||(A[2]=L=>unref(windowManager).setActiveWindow("tranToWeb")),onClose:A[3]||(A[3]=L=>u())},{default:withCtx(()=>[createBaseVNode("div",{class:"utils_tran_web__content",onDragover:withModifiers(f,["prevent"]),onDrop:withModifiers(y,["prevent"]),onPaste:w},[r.value?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("iframe",{srcdoc:r.value,class:"html-preview"},null,8,_hoisted_3$4),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("button",{onClick:E},toDisplayString$1(unref(a)("utils.downloadHtml")),1),createBaseVNode("button",{onClick:T},toDisplayString$1(unref(a)("utils.clear")),1)])])):(openBlock(),createElementBlock("div",_hoisted_1$6,toDisplayString$1(unref(a)("utils.dropOrPasteImage")),1))],32)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0)}},tranToWeb=_export_sfc(_sfc_main$6,[["__scopeId","data-v-b3bee18b"]]),_hoisted_1$5=["onMouseenter","onMouseleave","onMousedown","onMouseup"],_sfc_main$5={__name:"FloatingBall",setup(e){const{t}=useI18n(),n=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1),a=ref(parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66);(n.value<1||a.value<66)&&(n.value=1,a.value=66,localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.setItem("weilin_prompt_ui_floatingBallSize",a.value)),localStorage.getItem("weilin_prompt_ui_floatingBallCount")||localStorage.setItem("weilin_prompt_ui_floatingBallCount",n.value),localStorage.getItem("weilin_prompt_ui_floatingBallSize")||localStorage.setItem("weilin_prompt_ui_floatingBallSize",a.value);const s=ref([]),r=ref([]),o=ref([]),i=ref([]);for(let $=0;$<n.value;$++)o.value[$]=!1,r.value[$]=!1,s.value[$]={x:20+$*(a.value+10),y:window.innerHeight-100,width:a.value+"px",height:a.value+"px"},i.value[$]={left:`${s.value[$].x}px`,top:`${s.value[$].y}px`,width:`${a.value}px`,height:`${a.value}px`};const l=($,E)=>{$.target.closest(".weilin_prompt_ui_floating-ball")&&(r.value[E]=!0,document.addEventListener("mousemove",S=>c(S,E)),document.addEventListener("mouseup",S=>u(S,E)))},c=($,E)=>{r.value[E]&&(s.value[E].x=$.clientX-a.value/2,s.value[E].y=$.clientY-a.value/2,i.value[E]={left:`${s.value[E].x}px`,top:`${s.value[E].y}px`,width:`${a.value}px`,height:`${a.value}px`})},u=($,E)=>{r.value[E]=!1,document.removeEventListener("mousemove",T=>c(T,E)),document.removeEventListener("mouseup",T=>u(T,E))},d=()=>{},g=$=>{switch($){case"item1":window.parent.postMessage({type:"weilin_prompt_ui_open_global_prompt_box"},"*");break;case"item2":window.parent.postMessage({type:"weilin_prompt_ui_open_global_tag_manager"},"*");break;case"item3":window.parent.postMessage({type:"weilin_prompt_ui_open_global_lora_manager"},"*");break;case"item4":window.parent.postMessage({type:"weilin_prompt_ui_openAiWindow"},"*");break;case"item5":window.parent.postMessage({type:"weilin_prompt_ui_restore_window"},"*");break;case"item6":window.parent.postMessage({type:"weilin_prompt_ui_open_node_list_window"},"*");break;case"item7":f();break}},_=ref(),f=()=>{_.value.open()},y=$=>{if($.data.type==="weilin_prompt_ui_floating_ball_setting"){n.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallCount"))||1,a.value=parseInt(localStorage.getItem("weilin_prompt_ui_floatingBallSize"))||66,o.value=[],r.value=[],s.value=[],i.value=[];for(let E=0;E<n.value;E++)o.value[E]=!1,r.value[E]=!1,s.value[E]={x:20+E*(a.value+10),y:window.innerHeight-100,width:a.value+"px",height:a.value+"px"},i.value[E]={left:`${s.value[E].x}px`,top:`${s.value[E].y}px`,width:`${a.value}px`,height:`${a.value}px`}}},w=$=>{o.value[$]=!0},b=$=>{o.value[$]=!1};return onMounted(()=>{window.addEventListener("message",y)}),onUnmounted(()=>{window.removeEventListener("message",y),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}),($,E)=>(openBlock(),createElementBlock(Fragment,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,T=>(openBlock(),createElementBlock("div",{class:"weilin_prompt_ui_floating-ball",style:normalizeStyle(i.value[T-1]),onMouseenter:S=>w(T-1),onMouseleave:S=>b(T-1),onMousedown:S=>l(S,T-1),onMouseup:S=>u(S,T-1),key:"floating-ball-"+T},[createBaseVNode("div",{class:"weilin_prompt_ui_ball-content",onClick:d},[renderSlot($.$slots,"default",{},void 0,!0)]),o.value[T-1]?(openBlock(),createElementBlock("div",{key:0,class:"weilin_prompt_ui_menu-container",onMousedown:E[7]||(E[7]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[0]||(E[0]=S=>g("item1"))},toDisplayString$1(unref(t)("floatingBall.promptBox")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[1]||(E[1]=S=>g("item2"))},toDisplayString$1(unref(t)("floatingBall.tagManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[2]||(E[2]=S=>g("item3"))},toDisplayString$1(unref(t)("floatingBall.loraManager")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[3]||(E[3]=S=>g("item4"))},toDisplayString$1(unref(t)("floatingBall.aiWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[4]||(E[4]=S=>g("item6"))},toDisplayString$1(unref(t)("floatingBall.openNodeListWindow")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[5]||(E[5]=S=>g("item7"))},toDisplayString$1(unref(t)("floatingBall.tranToWeb")),1),createBaseVNode("div",{class:"weilin_prompt_ui_menu-item",onClick:E[6]||(E[6]=S=>g("item5"))},toDisplayString$1(unref(t)("floatingBall.restoreWindow")),1)],32)):createCommentVNode("",!0)],44,_hoisted_1$5))),128)),createVNode(tranToWeb,{ref_key:"tranToWebRef",ref:_},null,512)],64))}},FloatingBall=_export_sfc(_sfc_main$5,[["__scopeId","data-v-10f38a61"]]),_hoisted_1$4={class:"ai-chat-window"},_hoisted_2$3={class:"history-sidebar"},_hoisted_3$3={class:"history-list"},_hoisted_4$3=["onClick"],_hoisted_5$3={key:0},_hoisted_6$3=["onKeyup","onBlur"],_hoisted_7$3={class:"item-actions"},_hoisted_8$3=["onClick"],_hoisted_9$3=["onClick"],_hoisted_10$2={class:"chat-main"},_hoisted_11$2={class:"message-list"},_hoisted_12$2={class:"message-content"},_hoisted_13$1={key:0,class:"message assistant"},_hoisted_14$1={class:"message-content"},_hoisted_15$1={class:"input-area"},_hoisted_16$1=["placeholder","onKeydown"],_hoisted_17$1=["disabled"],_sfc_main$4={__name:"ai_window",setup(e){const{t}=useI18n(),n=ref([]),a=ref(-1),s=ref(""),r=ref(!1),o=ref({}),i=ref(!1),l=ref(""),c=S=>{var A;n.value[S]&&(i.value=!0,l.value=((A=n.value[S])==null?void 0:A.title)||` ${S+1}`,a.value=S)},u=S=>{n.value[S]&&(l.value.trim()&&(n.value[S].title=l.value.trim(),b()),i.value=!1)},d=()=>{i.value=!1},g=()=>{openaiApi.getOpenAiSetting().then(S=>{o.value=S.data}).catch(S=>{message$1({type:"warn",str:"message.networkError"})})};onMounted(()=>{g()});const _=computed(()=>n.value[a.value]||{messages:[]}),f=S=>{a.value=S},y=()=>{r.value=!0;const S={title:` ${n.value.length+1}`,messages:[],createdAt:new Date().toISOString()};return n.value.push(S),a.value=n.value.length-1,b(),r.value=!1,S},w=()=>{const S=localStorage.getItem("aiChatHistory");S&&(n.value=JSON.parse(S))},b=()=>{localStorage.setItem("aiChatHistory",JSON.stringify(n.value))};onMounted(()=>{g(),w()});const $=async()=>{if(!s.value.trim()||r.value)return;(n.value.length===0||a.value===-1)&&y();const S={role:"user",content:s.value,timestamp:new Date().toISOString()};_.value.messages.push(S),b(),s.value="";const A={role:"assistant",content:"",timestamp:new Date().toISOString()};_.value.messages.push(A),b(),r.value=!0;try{await T({messages:_.value.messages},L=>{const j=_.value.messages[_.value.messages.length-1];j.content+=L.content,b()},L=>{console.error("Error:",L);const j=_.value.messages[_.value.messages.length-1];j.content="",b()},()=>{r.value=!1,b()})}catch(L){console.error("Error:",L),r.value=!1;const j=_.value.messages[_.value.messages.length-1];j.content="",b()}},E=S=>{n.value.splice(S,1),a.value===S&&(a.value=Math.max(0,S-1)),b()},T=async(S,A,L,j)=>{var P,X;try{const q=await fetch(o.value.base_url+"/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.value.api_key}`},body:JSON.stringify({model:o.value.model,messages:S.messages,stream:!0})});if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const M=q.body.getReader(),Z=new TextDecoder;let le="";for(;;){const{done:ve,value:he}=await M.read();if(ve){j();break}le+=Z.decode(he,{stream:!0});const ie=le.split(`
`);le=ie.pop();for(const ge of ie)if(ge.trim()!==""){if(ge==="data: [DONE]"){j();return}try{const _e=ge.replace(/^data: /,""),ke=((X=(P=JSON.parse(_e).choices[0])==null?void 0:P.delta)==null?void 0:X.content)||"";ke&&A({content:ke})}catch{console.error("Failed to parse message:",ge)}}}}catch(q){L(q)}};return(S,A)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("button",{class:"new-chat-btn",onClick:y},toDisplayString$1(unref(t)("aiWindow.newChat")),1),createBaseVNode("div",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(L,j)=>(openBlock(),createElementBlock("div",{key:j,class:normalizeClass(["history-item",{active:a.value===j}]),onClick:P=>f(j)},[!i.value||a.value!==j?(openBlock(),createElementBlock("span",_hoisted_5$3,toDisplayString$1((L==null?void 0:L.title)||unref(t)("aiWindow.chatName")+` ${j+1}`),1)):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":A[0]||(A[0]=P=>l.value=P),onKeyup:[withKeys(P=>u(j),["enter"]),withKeys(d,["esc"])],onBlur:P=>u(j),class:"rename-input"},null,40,_hoisted_6$3)),[[vModelText,l.value]]),createBaseVNode("div",_hoisted_7$3,[createBaseVNode("button",{class:"rename-btn",onClick:withModifiers(P=>c(j),["stop"])},"",8,_hoisted_8$3),i.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"delete-btn",onClick:withModifiers(P=>E(j),["stop"])},"",8,_hoisted_9$3))])],10,_hoisted_4$3))),128))])]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value.messages,(L,j)=>(openBlock(),createElementBlock("div",{key:j,class:normalizeClass(["message",L.role])},[createBaseVNode("div",_hoisted_12$2,[createBaseVNode("pre",null,toDisplayString$1(L.content),1)])],2))),128)),r.value?(openBlock(),createElementBlock("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("pre",null,toDisplayString$1(unref(t)("aiWindow.thinking")),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$1,[withDirectives(createBaseVNode("textarea",{class:"ai-chat-textarea","onUpdate:modelValue":A[1]||(A[1]=L=>s.value=L),placeholder:unref(t)("aiWindow.inputMessage"),onKeydown:withKeys(withModifiers($,["exact","prevent"]),["enter"])},null,40,_hoisted_16$1),[[vModelText,s.value]]),createBaseVNode("button",{class:"ai-chat-btn",onClick:$,disabled:r.value},toDisplayString$1(unref(t)("aiWindow.send")),9,_hoisted_17$1)])])]))}},AiWindow=_export_sfc(_sfc_main$4,[["__scopeId","data-v-0cea2906"]]),_hoisted_1$3={class:"lora-info"},_hoisted_2$2={class:"lora-header"},_hoisted_3$2=["title"],_hoisted_4$2={class:"lora-weights"},_hoisted_5$2={class:"weight-item"},_hoisted_6$2=["title"],_hoisted_7$2={class:"weight-item"},_hoisted_8$2={class:"center-box"},_hoisted_9$2=["onClick"],prefix$1="weilin_prompt_ui_",_sfc_main$3={__name:"index",setup(e){const{t}=useI18n(),n=ref([]);window.addEventListener("message",s=>{s.data.type==="weilin_prompt_ui_update_node_list_info"&&(n.value=s.data.nodeList)});const a=s=>{window.postMessage({type:"weilin_prompt_ui_prompt_open_node_wit_seed",seed:s},"*")};return onMounted(()=>{window.postMessage({type:"weilin_prompt_ui_prompt_get_node_list_info"},"*")}),(s,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix$1}lora-stack`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix$1}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,o=>(openBlock(),createElementBlock("div",{key:o.id,class:"lora-item"},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("span",{class:"lora-name",title:o.title},"#"+toDisplayString$1(o.id)+" - "+toDisplayString$1(o.title),9,_hoisted_3$2)]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",{class:"text-label",title:o.text},toDisplayString$1(o.text),9,_hoisted_6$2)]),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("button",{onClick:i=>a(o.seed),class:"open-button"},toDisplayString$1(unref(t)("nodeListWindow.openPromptUI")),9,_hoisted_9$2)])])])])]))),128))],2)],2)],2)],2))}},NodeListWindow=_export_sfc(_sfc_main$3,[["__scopeId","data-v-0c15a742"]]),cloudApi={getTreeFromCloud:async e=>await request({url:"/cloud/get/tree",method:"post",data:{path:e}}),getLocalInstallPackage:async()=>await request({url:"/cloud/get/local/package",method:"post",data:{}}),installSelectPackage:async(e,t)=>await request({url:"/cloud/download/file",method:"post",timeout:0,data:{paths:t,path:e}})},_hoisted_1$2={class:"cloud-manager"},_hoisted_2$1={class:"toolbar"},_hoisted_3$1={class:"current-path"},_hoisted_4$1={class:"file-list"},_hoisted_5$1={class:"file-info"},_hoisted_6$1={class:"file-name"},_hoisted_7$1={class:"file-type"},_hoisted_8$1={class:"file-actions"},_hoisted_9$1=["onClick"],_hoisted_10$1={key:1,class:"install-container"},_hoisted_11$1={key:0,class:"installed-badge"},_hoisted_12$1=["onClick","disabled"],_sfc_main$2={__name:"index",setup(e){const{t}=useI18n(),n=ref([]),a=ref("tags"),s=ref("tags"),r=ref([]),o=async y=>{try{const w=await cloudApi.getTreeFromCloud(y);n.value=w.data}catch(w){console.error(":",w),message$1({type:"warn",str:"message.networkError"})}},i=async()=>{try{const y=await cloudApi.getLocalInstallPackage();r.value=y.data||[]}catch(y){console.error(":",y),message$1({type:"warn",str:"message.networkError"})}},l=y=>r.value.some(w=>w===y),c=async y=>{try{const w=n.value.find(b=>b.path===y);w&&(w.isInstalling=!0,await cloudApi.installSelectPackage(s.value,[y]).then(()=>{i(),message$1({type:"success",str:"message.installPackageSuccess"})}))}catch(w){console.error(":",w),message$1({type:"warn",str:"message.installPackageFail"})}finally{const w=n.value.find(b=>b.path===y);w&&(w.isInstalling=!1)}},u=()=>{const y=a.value.split("/");y.length>1&&(a.value=y.slice(0,-1).join("/"),o(a.value))},d=()=>{o(a.value),i()},g=y=>{a.value=y,o(y)},_=()=>{s.value="tags",a.value="tags",o(a.value)},f=()=>{s.value="danbooru",a.value="danbooru",o(a.value)};return onMounted(()=>{o(a.value),i()}),(y,w)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{class:"refresh-btn",onClick:d},w[0]||(w[0]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)])),createBaseVNode("button",{class:"database-btn",onClick:_},[w[1]||(w[1]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.tagDatabase")),1)]),createBaseVNode("button",{class:"database-btn",onClick:f},[w[2]||(w[2]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4v4z"})],-1)),createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.danbooruDatabase")),1)]),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("span",null,toDisplayString$1(unref(t)("cloudWindow.currentPath"))+": "+toDisplayString$1(s.value=="tags"?unref(t)("cloudWindow.tagDatabase"):unref(t)("cloudWindow.danbooruDatabase")),1)])]),createBaseVNode("div",_hoisted_4$1,[a.value!=="tags"&&a.value!=="danbooru"?(openBlock(),createElementBlock("button",{key:0,class:"back-btn",onClick:u},[w[3]||(w[3]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16",class:"tag-icon"},[createBaseVNode("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1)),createTextVNode(" "+toDisplayString$1(unref(t)("cloudWindow.back")),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,b=>(openBlock(),createElementBlock("div",{key:b.path,class:"file-item"},[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("span",_hoisted_6$1,toDisplayString$1(b.name),1),createBaseVNode("span",_hoisted_7$1,toDisplayString$1(b.type=="dir"?"":b.type=="file"?"":""),1)]),createBaseVNode("div",_hoisted_8$1,[b.type==="dir"?(openBlock(),createElementBlock("button",{key:0,onClick:$=>g(b.path),class:"open-btn"},toDisplayString$1(unref(t)("cloudWindow.open")),9,_hoisted_9$1)):b.type==="file"?(openBlock(),createElementBlock("div",_hoisted_10$1,[l(b.path)?(openBlock(),createElementBlock("span",_hoisted_11$1,toDisplayString$1(unref(t)("cloudWindow.installed")),1)):(openBlock(),createElementBlock("button",{key:1,onClick:$=>c(b.path),class:"install-btn",disabled:b.isInstalling},toDisplayString$1(b.isInstalling?unref(t)("cloudWindow.installing"):unref(t)("cloudWindow.install")),9,_hoisted_12$1))])):createCommentVNode("",!0)])]))),128))])]))}},CloudWindow=_export_sfc(_sfc_main$2,[["__scopeId","data-v-508c00b0"]]),_hoisted_1$1={class:"header-actions"},_hoisted_2=["title"],_hoisted_3={class:"lora-info"},_hoisted_4={class:"lora-header"},_hoisted_5=["title"],_hoisted_6={class:"lora-actions"},_hoisted_7=["onClick","title"],_hoisted_8=["onClick","title"],_hoisted_9={class:"lora-weights"},_hoisted_10={class:"weight-item"},_hoisted_11=["onUpdate:modelValue"],_hoisted_12={class:"weight-item"},_hoisted_13=["onUpdate:modelValue"],_hoisted_14={class:"lora-footer"},_hoisted_15=["onClick","title"],_hoisted_16={viewBox:"0 0 24 24",width:"14",height:"14"},_hoisted_17={key:0,d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},_hoisted_18={key:1,d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},prefix="weilin_prompt_ui_",_sfc_main$1={__name:"lora_stack",setup(e,{expose:t}){const{t:n}=useI18n(),a=ref([]),s=ref(""),r=()=>{window.postMessage({type:"weilin_prompt_ui_openLoraManager_addLora_stack",seed:s.value},"*")},o=_=>{_.hidden=!_.hidden},i=_=>{a.value.find(f=>f.name===_.name)||a.value.push({name:_.name,weight:1,text_encoder_weight:1,..._})},l=_=>{const f=a.value.findIndex(y=>y.name===_.name);f>-1&&a.value.splice(f,1)},c=ref(),u=_=>{c.value.open({name:_.lora})};window.addEventListener("message",_=>{_.data.type==="weilin_prompt_ui_selectLora_stack_"+s.value&&i(_.data.lora)});const d=(_,f)=>{if(s.value=f,_.length>0)try{const y=JSON.parse(_);if(y.lora&&y.lora!=""&&(a.value=y.lora),y.temp_lora&&y.temp_lora.length>0&&y.temp_lora!=""){const w=y.temp_lora;a.value=w}}catch{message$1({type:"warn",str:"promptBox.settings.errorPrompt"})}};watch(a,_=>{g()},{deep:!0});const g=()=>{if(a.value.length>0){const _=a.value.filter(w=>!w.hidden);let f={lora:"",temp_lora:a.value};_.length>0&&(f.lora=_);const y=JSON.stringify(f);window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+s.value,data:y},"*")}else{const f=JSON.stringify({lora:"",temp_lora:""});window.postMessage({type:"weilin_prompt_ui_prompt_finish_lora_stack_"+s.value,data:f},"*")}};return t({initLoraStack:d}),(_,f)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${prefix}lora-stack`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-content`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-header`)},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("button",{class:normalizeClass(`${prefix}add-btn`),onClick:r,title:unref(n)("controls.addLora")},f[0]||(f[0]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1)]),10,_hoisted_2)])],2),createBaseVNode("div",{class:normalizeClass(`${prefix}lora-body`)},[createBaseVNode("div",{class:normalizeClass(`${prefix}lora-list`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,y=>(openBlock(),createElementBlock("div",{key:y.name,class:normalizeClass(["lora-item",{"hidden-lora":y.hidden}])},[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("span",{class:"lora-name",title:y.name},toDisplayString$1(y.name),9,_hoisted_5),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{class:"look-on-btn",onClick:w=>u(y),title:unref(n)("controls.lookOnLora")},f[1]||(f[1]=[createBaseVNode("svg",{viewBox:"0 0 1024 1024",width:"14",height:"14"},[createBaseVNode("path",{d:"M576.5 930.2H163.1c-52.9 0-96-43.1-96-96v-672c0-52.9 43.1-96 96-96h672c52.9 0 96 43.1 96 96V577c0 17.7-14.3 32-32 32s-32-14.3-32-32V162.2c0-17.6-14.4-32-32-32h-672c-17.6 0-32 14.4-32 32v672c0 17.6 14.4 32 32 32h413.4c17.7 0 32 14.3 32 32s-14.3 32-32 32z","p-id":"3466"}),createBaseVNode("path",{d:"M692.4 322.3H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h446.7c17.7 0 32 14.3 32 32s-14.3 32-32 32zM388.5 530.2H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.6-14.3 32-31.9 32zM388.5 738H245.7c-17.7 0-32-14.3-32-32s14.3-32 32-32h142.7c17.7 0 32 14.3 32 32 0.1 17.7-14.3 32-31.9 32z","p-id":"3467"}),createBaseVNode("path",{d:"M624.1 792.5c-94.8 0-172-77.2-172-172s77.2-172 172-172 172 77.2 172 172-77.1 172-172 172z m0-280c-59.6 0-108 48.4-108 108s48.4 108 108 108 108-48.4 108-108-48.4-108-108-108z","p-id":"3468"}),createBaseVNode("path",{d:"M820.8 864.2L710.5 753.9c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L866 818.9c12.5 12.5 12.5 32.8 0 45.3s-32.7 12.5-45.2 0z","p-id":"3469"})],-1)]),8,_hoisted_7),createBaseVNode("button",{class:"remove-btn",onClick:w=>l(y),title:unref(n)("controls.removeLora")},f[2]||(f[2]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[createBaseVNode("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,_hoisted_8)])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("div",_hoisted_10,[createBaseVNode("label",null,toDisplayString$1(unref(n)("loraManager.modelWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":w=>y.weight=w,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_11),[[vModelText,y.weight]])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("label",null,toDisplayString$1(unref(n)("loraManager.textEncoderWeight")),1),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":w=>y.text_encoder_weight=w,class:"lora-weight",min:"0",max:"2",step:"0.1"},null,8,_hoisted_13),[[vModelText,y.text_encoder_weight]])])]),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{class:"hide-btn",onClick:w=>o(y),title:y.hidden?unref(n)("lora.showLora"):unref(n)("lora.hideLora")},[(openBlock(),createElementBlock("svg",_hoisted_16,[y.hidden?(openBlock(),createElementBlock("path",_hoisted_18)):(openBlock(),createElementBlock("path",_hoisted_17))])),createTextVNode(" "+toDisplayString$1(y.hidden?unref(n)("lora.showLora"):unref(n)("lora.hideLora")),1)],8,_hoisted_15)])])],2))),128))],2)],2)],2),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:c},null,512)],2))}},LoraStackWindow=_export_sfc(_sfc_main$1,[["__scopeId","data-v-f18911a7"]]),_hoisted_1={id:"weilin_comfyui_tools_prompt_ui_div"},STORAGE_PREFIX="weilin_tools_",_sfc_main={__name:"App",setup(e){const t=useTagStore(),n=ref(localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true");localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")||(localStorage.setItem("weilin_prompt_ui_floatingBallEnabled","true"),n.value=!0);const{t:a}=useI18n(),s=ref(""),r=ref("look"),o=ref("manager"),i=ref("prompt_global"),l=ref(!1),c=`${STORAGE_PREFIX}theme`,u=ref(localStorage.getItem(c)==="dark"),d=ref(""),g={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:500}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:300,height:600}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}}},_=()=>{try{const q=localStorage.getItem(`${STORAGE_PREFIX}windowStates`);if(q){const M=JSON.parse(q),Z={...g};for(const le in M)le in Z&&(Z[le]={...g[le],...M[le],visible:M[le].is_default_close?!1:M[le].visible});return Z}}catch(q){console.error("Error loading window states:",q)}return{...g}},f=ref(_());watch(f,q=>{try{localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify(q))}catch(M){console.error("Error saving window states:",M)}},{deep:!0}),onMounted(()=>{Object.keys(f.value).forEach(q=>{windowManager.registerWindow(q)}),y(),window.addEventListener("message",P),X()});const y=()=>{let q=localStorage.getItem(c);q||(localStorage.setItem(c,"dark"),q="dark",u.value=!0),u.value=q==="dark";const M=document.getElementById("weilin_comfyui_tools_prompt_ui_div");M&&M.setAttribute("data-theme",u.value?"dark":"light")};onUnmounted(()=>{Object.keys(f.value).forEach(q=>{windowManager.unregisterWindow(q)}),window.removeEventListener("message",P)});const w=q=>{q==="prompt"&&(s.value=""),f.value[q].visible=!1},b=(q,M)=>{f.value[q]&&(f.value[q].position={...M})},$=(q,M)=>{f.value[q]&&(f.value[q].size={...M})},E=()=>{const q={loraDetail:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}}},M={prompt:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:600,height:400}},tag:{visible:!1,is_default_close:!1,position:{x:150,y:150},size:{width:800,height:600}},lora:{visible:!1,is_default_close:!1,position:{x:200,y:200},size:{width:800,height:600}},history:{visible:!1,is_default_close:!1,position:{x:300,y:300},size:{width:800,height:600}},ai_window:{visible:!1,is_default_close:!1,position:{x:400,y:400},size:{width:800,height:600}},node_list_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:400,height:800}},cloud_window:{visible:!1,is_default_close:!1,position:{x:100,y:100},size:{width:800,height:600}},lora_stack_window:{visible:!1,is_default_close:!0,position:{x:100,y:100},size:{width:300,height:600}}};localStorage.setItem(`${STORAGE_PREFIX}windowStates`,JSON.stringify(M)),localStorage.setItem(`${STORAGE_PREFIX}loraDetailState`,JSON.stringify(q)),f.value=_()};(()=>{translatorApi.getTranslateSetting().then(q=>{localStorage.setItem("weilin_prompt_ui_translater_setting",q.data)}).catch(q=>{message({type:"warn",str:"message.getTranslaterFail"})})})();const S=ref(),A=ref(),L=ref(),j=ref(),P=q=>{q.data.type==="weilin_prompt_ui_openTagManager"?(o.value="manager",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):q.data.type==="weilin_prompt_ui_openTagManager_prompt"?(o.value="prompt",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):q.data.type==="weilin_prompt_ui_openPromptBox"?(s.value=q.data.id,i.value="prompt",f.value.prompt.visible=!0,l.value=!1,q.data.node==="WeiLinPromptUI"&&(l.value=!0),nextTick(()=>{S.value.setPromptText(q.data.prompt)}),windowManager.setActiveWindow("prompt")):q.data.type==="weilin_prompt_ui_openLoraManager"?(r.value="look",f.value.lora.visible=!0,windowManager.setActiveWindow("lora")):q.data.type==="weilin_prompt_ui_openLoraManager_addLora"?(r.value="addLora",f.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(0,"")}),windowManager.setActiveWindow("lora")):q.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack"?(r.value="addLora",f.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(1,q.data.seed)}),windowManager.setActiveWindow("lora")):q.data.type==="weilin_prompt_ui_openLoraManager_addLora_stack_node"?(r.value="addLora",f.value.lora.visible=!0,nextTick(()=>{L.value.openSetSeed(2,q.data.seed)}),windowManager.setActiveWindow("lora")):q.data.type==="weilin_prompt_ui_openHistoryManager"?(f.value.history.visible=!0,windowManager.setActiveWindow("history")):q.data.type==="weilin_prompt_ui_openAiWindow"?(f.value.ai_window.visible=!0,windowManager.setActiveWindow("ai_window")):q.data.type==="weilin_prompt_ui_open_node_list_window"?(f.value.node_list_window.visible=!0,windowManager.setActiveWindow("node_list_window")):q.data.type==="weilin_prompt_ui_prompt_finish_prompt"?window.postMessage({type:"weilin_prompt_ui_prompt_update_prompt_"+s.value,data:q.data.data},"*"):q.data.type==="weilin_prompt_ui_open_global_prompt_box"?(i.value="prompt_global",s.value="global",f.value.prompt.visible=!0,l.value=!1,nextTick(()=>{S.value.setPromptText(d.value)}),windowManager.setActiveWindow("prompt")):q.data.type==="weilin_prompt_ui_open_global_tag_manager"?(o.value="manager",f.value.tag.visible=!0,windowManager.setActiveWindow("tag")):q.data.type==="weilin_prompt_ui_open_global_lora_manager"?(r.value="look",f.value.lora.visible=!0,windowManager.setActiveWindow("lora")):q.data.type==="weilin_prompt_ui_prompt_update_prompt_global"?d.value=q.data.data:q.data.type==="weilin_prompt_ui_floating_ball_setting"?n.value=localStorage.getItem("weilin_prompt_ui_floatingBallEnabled")==="true":q.data.type==="weilin_prompt_ui_restore_window"?E():q.data.type==="weilin_prompt_ui_open_cloud_window"?(f.value.cloud_window.visible=!0,windowManager.setActiveWindow("cloud_window")):q.data.type==="weilin_prompt_ui_open_node_lora_stack_window"?(f.value.lora_stack_window.visible=!0,nextTick(()=>{A.value.initLoraStack(q.data.prompt,q.data.seed)}),windowManager.setActiveWindow("lora_stack_window")):q.data.type==="weilin_prompt_ui_openLoraDetail"&&j.value.open({name:q.data.lora})},X=async()=>{try{const q=await tagsApi.getTagsList();t.setCategories(q.data)}catch(q){console.error(":",q)}};return(q,M)=>(openBlock(),createElementBlock("div",_hoisted_1,[f.value.prompt.visible?(openBlock(),createBlock(DraggableWindow,{key:0,name:"promptBox",title:i.value==="prompt"?unref(a)("promptBox.windowTitle"):unref(a)("promptBox.windowTitleGlobal"),position:f.value.prompt.position,size:f.value.prompt.size,"z-index":unref(windowManager).getZIndex("prompt"),"onUpdate:position":M[0]||(M[0]=Z=>b("prompt",Z)),"onUpdate:size":M[1]||(M[1]=Z=>$("prompt",Z)),onActive:M[2]||(M[2]=Z=>unref(windowManager).setActiveWindow("prompt")),onClose:M[3]||(M[3]=Z=>w("prompt"))},{default:withCtx(()=>[createVNode(PromptBox,{promptManager:i.value,hasPromptLoraStack:l.value,ref_key:"promptBoxRef",ref:S},null,8,["promptManager","hasPromptLoraStack"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.tag.visible?(openBlock(),createBlock(DraggableWindow,{key:1,name:"tagManager",title:unref(a)("tagManager.windowTitle"),position:f.value.tag.position,size:f.value.tag.size,"z-index":unref(windowManager).getZIndex("tag"),"onUpdate:position":M[4]||(M[4]=Z=>b("tag",Z)),"onUpdate:size":M[5]||(M[5]=Z=>$("tag",Z)),onActive:M[6]||(M[6]=Z=>unref(windowManager).setActiveWindow("tag")),onClose:M[7]||(M[7]=Z=>w("tag"))},{default:withCtx(()=>[createVNode(TagManager,{tagManager:o.value},null,8,["tagManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.lora.visible?(openBlock(),createBlock(DraggableWindow,{key:2,name:"loraManager",title:unref(a)("loraManager.windowTitle"),position:f.value.lora.position,size:f.value.lora.size,"z-index":unref(windowManager).getZIndex("lora"),"onUpdate:position":M[8]||(M[8]=Z=>b("lora",Z)),"onUpdate:size":M[9]||(M[9]=Z=>$("lora",Z)),onActive:M[10]||(M[10]=Z=>unref(windowManager).setActiveWindow("lora")),onClose:M[11]||(M[11]=Z=>w("lora"))},{default:withCtx(()=>[createVNode(LoraManager,{loraManager:r.value,ref_key:"loraManagerRef",ref:L},null,8,["loraManager"])]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.history.visible?(openBlock(),createBlock(DraggableWindow,{key:3,name:"historyManager",title:unref(a)("history.windowTitle"),position:f.value.history.position,size:f.value.history.size,"z-index":unref(windowManager).getZIndex("history"),"onUpdate:position":M[12]||(M[12]=Z=>b("history",Z)),"onUpdate:size":M[13]||(M[13]=Z=>$("history",Z)),onActive:M[14]||(M[14]=Z=>unref(windowManager).setActiveWindow("history")),onClose:M[15]||(M[15]=Z=>w("history"))},{default:withCtx(()=>[createVNode(HistoryManager)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.ai_window.visible?(openBlock(),createBlock(DraggableWindow,{key:4,name:"aiWindow",title:unref(a)("aiWindow.windowTitle"),position:f.value.ai_window.position,size:f.value.ai_window.size,"z-index":unref(windowManager).getZIndex("ai_window"),"onUpdate:position":M[16]||(M[16]=Z=>b("ai_window",Z)),"onUpdate:size":M[17]||(M[17]=Z=>$("ai_window",Z)),onActive:M[18]||(M[18]=Z=>unref(windowManager).setActiveWindow("ai_window")),onClose:M[19]||(M[19]=Z=>w("ai_window"))},{default:withCtx(()=>[createVNode(AiWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.node_list_window.visible?(openBlock(),createBlock(DraggableWindow,{key:5,name:"nodeListWindow",title:unref(a)("nodeListWindow.windowTitle"),position:f.value.node_list_window.position,size:f.value.node_list_window.size,"z-index":unref(windowManager).getZIndex("node_list_window"),"onUpdate:position":M[20]||(M[20]=Z=>b("node_list_window",Z)),"onUpdate:size":M[21]||(M[21]=Z=>$("node_list_window",Z)),onActive:M[22]||(M[22]=Z=>unref(windowManager).setActiveWindow("node_list_window")),onClose:M[23]||(M[23]=Z=>w("node_list_window"))},{default:withCtx(()=>[createVNode(NodeListWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.cloud_window.visible?(openBlock(),createBlock(DraggableWindow,{key:6,name:"cloudWindow",title:unref(a)("cloudWindow.windowTitle"),position:f.value.cloud_window.position,size:f.value.cloud_window.size,"z-index":unref(windowManager).getZIndex("cloud_window"),"onUpdate:position":M[24]||(M[24]=Z=>b("cloud_window",Z)),"onUpdate:size":M[25]||(M[25]=Z=>$("cloud_window",Z)),onActive:M[26]||(M[26]=Z=>unref(windowManager).setActiveWindow("cloud_window")),onClose:M[27]||(M[27]=Z=>w("cloud_window"))},{default:withCtx(()=>[createVNode(CloudWindow)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),f.value.lora_stack_window.visible?(openBlock(),createBlock(DraggableWindow,{key:7,name:"loraStackWindow",title:unref(a)("controls.loraStack"),position:f.value.lora_stack_window.position,size:f.value.lora_stack_window.size,"z-index":unref(windowManager).getZIndex("lora_stack_window"),"onUpdate:position":M[28]||(M[28]=Z=>b("lora_stack_window",Z)),"onUpdate:size":M[29]||(M[29]=Z=>$("lora_stack_window",Z)),onActive:M[30]||(M[30]=Z=>unref(windowManager).setActiveWindow("lora_stack_window")),onClose:M[31]||(M[31]=Z=>w("lora_stack_window"))},{default:withCtx(()=>[createVNode(LoraStackWindow,{ref_key:"loraStackRef",ref:A},null,512)]),_:1},8,["title","position","size","z-index"])):createCommentVNode("",!0),n.value?(openBlock(),createBlock(FloatingBall,{key:8},{default:withCtx(()=>M[32]||(M[32]=[createTextVNode("WeiLin")])),_:1})):createCommentVNode("",!0),createVNode(loraDetail,{ref_key:"loraDetailLoraStackRef",ref:j},null,512)]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-3a5c2ccf"]]);var clipboard$1={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var clipboard=clipboard$1.exports,hasRequiredClipboard;function requireClipboard(){return hasRequiredClipboard||(hasRequiredClipboard=1,function(e,t){(function(a,s){e.exports=s()})(clipboard,function(){return function(){var n={686:function(r,o,i){i.d(o,{default:function(){return ke}});var l=i(279),c=i.n(l),u=i(370),d=i.n(u),g=i(817),_=i.n(g);function f(R){try{return document.execCommand(R)}catch{return!1}}var y=function(I){var C=_()(I);return f("cut"),C},w=y;function b(R){var I=document.documentElement.getAttribute("dir")==="rtl",C=document.createElement("textarea");C.style.fontSize="12pt",C.style.border="0",C.style.padding="0",C.style.margin="0",C.style.position="absolute",C.style[I?"right":"left"]="-9999px";var V=window.pageYOffset||document.documentElement.scrollTop;return C.style.top="".concat(V,"px"),C.setAttribute("readonly",""),C.value=R,C}var $=function(I,C){var V=b(I);C.container.appendChild(V);var D=_()(V);return f("copy"),V.remove(),D},E=function(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},V="";return typeof I=="string"?V=$(I,C):I instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(I==null?void 0:I.type)?V=$(I.value,C):(V=_()(I),f("copy")),V},T=E;function S(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(C){return typeof C}:S=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},S(R)}var A=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=I.action,V=C===void 0?"copy":C,D=I.container,K=I.target,ue=I.text;if(V!=="copy"&&V!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(K!==void 0)if(K&&S(K)==="object"&&K.nodeType===1){if(V==="copy"&&K.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(V==="cut"&&(K.hasAttribute("readonly")||K.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ue)return T(ue,{container:D});if(K)return V==="cut"?w(K):T(K,{container:D})},L=A;function j(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j=function(C){return typeof C}:j=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},j(R)}function P(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function X(R,I){for(var C=0;C<I.length;C++){var V=I[C];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}function q(R,I,C){return I&&X(R.prototype,I),C&&X(R,C),R}function M(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),I&&Z(R,I)}function Z(R,I){return Z=Object.setPrototypeOf||function(V,D){return V.__proto__=D,V},Z(R,I)}function le(R){var I=ie();return function(){var V=ge(R),D;if(I){var K=ge(this).constructor;D=Reflect.construct(V,arguments,K)}else D=V.apply(this,arguments);return ve(this,D)}}function ve(R,I){return I&&(j(I)==="object"||typeof I=="function")?I:he(R)}function he(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function ie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ge(R){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},ge(R)}function _e(R,I){var C="data-clipboard-".concat(R);if(I.hasAttribute(C))return I.getAttribute(C)}var ye=function(R){M(C,R);var I=le(C);function C(V,D){var K;return P(this,C),K=I.call(this),K.resolveOptions(D),K.listenClick(V),K}return q(C,[{key:"resolveOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof D.action=="function"?D.action:this.defaultAction,this.target=typeof D.target=="function"?D.target:this.defaultTarget,this.text=typeof D.text=="function"?D.text:this.defaultText,this.container=j(D.container)==="object"?D.container:document.body}},{key:"listenClick",value:function(D){var K=this;this.listener=d()(D,"click",function(ue){return K.onClick(ue)})}},{key:"onClick",value:function(D){var K=D.delegateTarget||D.currentTarget,ue=this.action(K)||"copy",re=L({action:ue,container:this.container,target:this.target(K),text:this.text(K)});this.emit(re?"success":"error",{action:ue,text:re,trigger:K,clearSelection:function(){K&&K.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(D){return _e("action",D)}},{key:"defaultTarget",value:function(D){var K=_e("target",D);if(K)return document.querySelector(K)}},{key:"defaultText",value:function(D){return _e("text",D)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(D){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return T(D,K)}},{key:"cut",value:function(D){return w(D)}},{key:"isSupported",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],K=typeof D=="string"?[D]:D,ue=!!document.queryCommandSupported;return K.forEach(function(re){ue=ue&&!!document.queryCommandSupported(re)}),ue}}]),C}(c()),ke=ye},828:function(r){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function l(c,u){for(;c&&c.nodeType!==o;){if(typeof c.matches=="function"&&c.matches(u))return c;c=c.parentNode}}r.exports=l},438:function(r,o,i){var l=i(828);function c(g,_,f,y,w){var b=d.apply(this,arguments);return g.addEventListener(f,b,w),{destroy:function(){g.removeEventListener(f,b,w)}}}function u(g,_,f,y,w){return typeof g.addEventListener=="function"?c.apply(null,arguments):typeof f=="function"?c.bind(null,document).apply(null,arguments):(typeof g=="string"&&(g=document.querySelectorAll(g)),Array.prototype.map.call(g,function(b){return c(b,_,f,y,w)}))}function d(g,_,f,y){return function(w){w.delegateTarget=l(w.target,_),w.delegateTarget&&y.call(g,w)}}r.exports=u},879:function(r,o){o.node=function(i){return i!==void 0&&i instanceof HTMLElement&&i.nodeType===1},o.nodeList=function(i){var l=Object.prototype.toString.call(i);return i!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in i&&(i.length===0||o.node(i[0]))},o.string=function(i){return typeof i=="string"||i instanceof String},o.fn=function(i){var l=Object.prototype.toString.call(i);return l==="[object Function]"}},370:function(r,o,i){var l=i(879),c=i(438);function u(f,y,w){if(!f&&!y&&!w)throw new Error("Missing required arguments");if(!l.string(y))throw new TypeError("Second argument must be a String");if(!l.fn(w))throw new TypeError("Third argument must be a Function");if(l.node(f))return d(f,y,w);if(l.nodeList(f))return g(f,y,w);if(l.string(f))return _(f,y,w);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(f,y,w){return f.addEventListener(y,w),{destroy:function(){f.removeEventListener(y,w)}}}function g(f,y,w){return Array.prototype.forEach.call(f,function(b){b.addEventListener(y,w)}),{destroy:function(){Array.prototype.forEach.call(f,function(b){b.removeEventListener(y,w)})}}}function _(f,y,w){return c(document.body,f,y,w)}r.exports=u},817:function(r){function o(i){var l;if(i.nodeName==="SELECT")i.focus(),l=i.value;else if(i.nodeName==="INPUT"||i.nodeName==="TEXTAREA"){var c=i.hasAttribute("readonly");c||i.setAttribute("readonly",""),i.select(),i.setSelectionRange(0,i.value.length),c||i.removeAttribute("readonly"),l=i.value}else{i.hasAttribute("contenteditable")&&i.focus();var u=window.getSelection(),d=document.createRange();d.selectNodeContents(i),u.removeAllRanges(),u.addRange(d),l=u.toString()}return l}r.exports=o},279:function(r){function o(){}o.prototype={on:function(i,l,c){var u=this.e||(this.e={});return(u[i]||(u[i]=[])).push({fn:l,ctx:c}),this},once:function(i,l,c){var u=this;function d(){u.off(i,d),l.apply(c,arguments)}return d._=l,this.on(i,d,c)},emit:function(i){var l=[].slice.call(arguments,1),c=((this.e||(this.e={}))[i]||[]).slice(),u=0,d=c.length;for(u;u<d;u++)c[u].fn.apply(c[u].ctx,l);return this},off:function(i,l){var c=this.e||(this.e={}),u=c[i],d=[];if(u&&l)for(var g=0,_=u.length;g<_;g++)u[g].fn!==l&&u[g].fn._!==l&&d.push(u[g]);return d.length?c[i]=d:delete c[i],this}},r.exports=o,r.exports.TinyEmitter=o}},a={};function s(r){if(a[r])return a[r].exports;var o=a[r]={exports:{}};return n[r](o,o.exports,s),o.exports}return function(){s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,{a:o}),o}}(),function(){s.d=function(r,o){for(var i in o)s.o(o,i)&&!s.o(r,i)&&Object.defineProperty(r,i,{enumerable:!0,get:o[i]})}}(),function(){s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)}}(),s(686)}().default})}(clipboard$1)),clipboard$1.exports}var clipboardExports=requireClipboard();const Clipboard=getDefaultExportFromCjs(clipboardExports),VueClipboard=e=>({toClipboard(t,n){return new Promise((a,s)=>{const r=document.createElement("button"),o=new Clipboard(r,{text:()=>t,action:()=>"copy",container:n!==void 0?n:document.body});o.on("success",i=>{o.destroy(),a(i)}),o.on("error",i=>{o.destroy(),s(i)}),document.body.appendChild(r),r.click(),document.body.removeChild(r)})}}),suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(e);return}return t}function warnKeyDropped(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function destr(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const a=n.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(suspectProtoRx.test(e)||suspectConstructorRx.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(a){if(t.strict)throw a;return e}}function get(e,t){if(e==null)return;let n=e;for(let a=0;a<t.length;a++){if(n==null||n[t[a]]==null)return;n=n[t[a]]}return n}function set(e,t,n){if(n.length===0)return t;const a=n[0];return n.length>1&&(t=set(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,a)?Number.isInteger(Number(n[1]))?[]:{}:e[a],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(a))&&Array.isArray(e)?e.slice()[a]:Object.assign({},e,{[a]:t})}function unset(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const a in e)n[a]=e[a];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const a in e)n[a]=e[a];return n}return set(e,unset(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function deepPickUnsafe(e,t){return t.map(n=>n.split(".")).map(n=>[n,get(e,n)]).filter(n=>n[1]!==void 0).reduce((n,a)=>set(n,a[1],a[0]),{})}function deepOmitUnsafe(e,t){return t.map(n=>n.split(".")).reduce((n,a)=>unset(n,a),e)}function hydrateStore(e,{storage:t,serializer:n,key:a,debug:s,pick:r,omit:o,beforeHydrate:i,afterHydrate:l},c,u=!0){try{u&&(i==null||i(c));const d=t.getItem(a);if(d){const g=n.deserialize(d),_=r?deepPickUnsafe(g,r):g,f=o?deepOmitUnsafe(_,o):_;e.$patch(f)}u&&(l==null||l(c))}catch(d){s&&console.error("[pinia-plugin-persistedstate]",d)}}function persistState(e,{storage:t,serializer:n,key:a,debug:s,pick:r,omit:o}){try{const i=r?deepPickUnsafe(e,r):e,l=o?deepOmitUnsafe(i,o):i,c=n.serialize(l);t.setItem(a,c)}catch(i){s&&console.error("[pinia-plugin-persistedstate]",i)}}function createPersistence(e,t,n){const{pinia:a,store:s,options:{persist:r=n}}=e;if(!r)return;if(!(s.$id in a.state.value)){const l=a._s.get(s.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const i=(Array.isArray(r)?r:r===!0?[{}]:[r]).map(t);s.$hydrate=({runHooks:l=!0}={})=>{i.forEach(c=>{hydrateStore(s,c,e,l)})},s.$persist=()=>{i.forEach(l=>{persistState(s.$state,l)})},i.forEach(l=>{hydrateStore(s,l,e),s.$subscribe((c,u)=>persistState(u,l),{detached:!0})})}function createPersistedState(e={}){return function(t){createPersistence(t,n=>({key:(e.key?e.key:a=>a)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:a=>JSON.stringify(a),deserialize:a=>destr(a)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var src_default=createPersistedState();const{toClipboard}=VueClipboard(),div=document.createElement("div");div.id="weilin_comfyui_tools_prompt_ui_div";const body=document.querySelector("body");body.appendChild(div);const pinia=createPinia();pinia.use(src_default);const app=createApp(App);app.use(pinia),app.use(i18n),initI18n(),app.config.globalProperties.$copyText=toClipboard,app.mount(div),console.log("WeiLin Prompt UI is running - version "+version),console.log("WeiLin  -  "+version)});
//# sourceMappingURL=main.entry.js.map
